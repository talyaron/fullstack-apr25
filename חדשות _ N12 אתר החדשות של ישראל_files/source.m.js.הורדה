// Build version: v1.95.9 - Tue, 13 May 2025 14:30:56 GMT 
 (()=>{"use strict";var __webpack_modules__={651:(t,i,e)=>{e.d(i,{p:()=>n,z:()=>s});const s={licenseInfoCreator:"Creator",licenseInfoCreditBtn:"Credit",licenseInfoTitle:"License information",licenseInfoLicense:"License",licenseInfoOriginalVideo:"Original",nowPlaying:"Now playing",poweredBy:"featured by"},n={blockWaterfallCondition:"block waterfall condition was reached",crawlerUa:"crawler user agent",head:"script tag placed in head",heavyAd:"heavy ad intervention",init:"script tag has already been initialized",initPlayer:"cannot initilize the player",noAdSources:"no ad sources",noAdUnitType:"AdUnitType not set",noChannelId:"ChannelID not set",nonFif:"script tag placed in non friendly iframe",nonVisible:"script tag placed in non-displayed Element",noPageUrl:"cannot get page URL",noPromise:"promises not supported",noPublisherId:"PublisherID not set",noScriptTag:"cannot find script tag",noVideos:"no videos",stopCondition:"stop condition was reached"}},714:(t,i,e)=>{e.d(i,{m:()=>s});const s={playerVI:"https://libs.outbrain.com/video/vi-player/current/player.js",playerVIm:"https://libs.outbrain.com/video/vi-player/current/player.m.js",playerVItest:"https://libs.outbrain.com/video/vi-player/test/player.js",playerVItestm:"https://libs.outbrain.com/video/vi-player/test/player.m.js",prebid:"https://s.vi-serve.com/prebid/prebid3.25.0.js",prebidOB:"https://libs.outbrain.com/s-vi-serve/current/prebid/prebid3.25.0.js",tracking:"https://vt.outbrain.com/serve/log",trackingT:"https://t-vt.outbrain.com/serve/log",trackingI:"https://vt-i.outbrain.com/serve/log",trackingTI:"https://t-vt-i.outbrain.com/serve/log",trackingViAdServer:"https://at.outbrain.com/serve/log",trackingViAdServerT:"https://t-at.outbrain.com/serve/log",videoApi:"https://vis.outbrain.com/api/v2/",videoApiT:"https://t-vis.outbrain.com/api/v2/"}},282:(t,i,e)=>{e.d(i,{V:()=>s});class s{constructor(t){if(this.v=t,this.sponsorContainer=document.createElement("div"),this.sponsorContainer.id="vi-stories-sponsor-container",this.sponsorContainer.classList.add("vi-stories-position",this.v.tagConfig.SponsorPosition),this.v.tagConfig.PoweredByText){const t=document.createElement("div");t.id="vi-stories-sponsor-powered",t.innerText=this.v.tagConfig.PoweredByText,this.sponsorContainer.appendChild(t)}if(this.v.tagConfig.LogoUrl){const t=document.createElement("img");if(t.id="vi-stories-sponsor-logo",t.src=this.v.tagConfig.LogoUrl,this.v.tagConfig.LogoClickLink){const i=document.createElement("a");i.href=this.v.tagConfig.LogoClickLink,i.target="_blank",i.appendChild(t),this.sponsorContainer.appendChild(i)}else this.sponsorContainer.appendChild(t)}}get container(){return this.sponsorContainer}}},996:(t,i,e)=>{e.d(i,{Y:()=>n,p:()=>s});class s{constructor(){this.listeners={}}addEventListener(t,i,e){void 0!==this.listeners[t]?this.listeners[t].push({scope:e,callback:i}):this.listeners[t]=[{scope:e,callback:i}]}removeEventListener(t,i,e){let s,n;if(void 0!==this.listeners[t])for(s=this.listeners[t].length-1;s>=0;s--)n=this.listeners[t][s],n.scope===e&&n.callback===i&&this.listeners[t].splice(s,1)}removeAllListeners(t){t?void 0!==this.listeners[t]&&delete this.listeners[t]:this.listeners={}}hasEventListener(t,i,e){let s,n,o;if(void 0!==this.listeners[t]){if(n=this.listeners[t].length,void 0===i&&void 0===e)return n>0;for(s=0;s<n;s++)if(o=this.listeners[t][s],(!e||o.scope===e)&&o.callback===i)return!0}return!1}dispatchEvent(t,i){let e,s,n;const o={type:t,data:i};if(void 0!==this.listeners[t])for(e=0,s=this.listeners[t].length;e<s;e++)n=this.listeners[t][e],n&&n.callback&&n.callback.call(n.scope,o)}}const n=new s},597:(t,i,e)=>{function s(t,i,e){return new Promise((function(s,n){const o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===this.readyState)if(200===this.status)try{const t=this.responseText?JSON.parse(this.responseText):{};s(t)}catch(t){n(t)}else{const t=new Error(this.responseText);t.code=this.status,n(t)}},o.open(t,i,!0),o.timeout=5e3,o.send(e)}))}function n(t,i,e){return new Promise((function(s,n){i||(i=document);const o=i.createElement("script");o.type="text/javascript",o.charset="utf8",o.async=!0,o.src=t,e&&o.classList.add(e),o.onload=function(){s()},o.onerror=function(){n()};(i.getElementsByTagName("head")[0]||i.documentElement.appendChild(i.createElement("head"))).appendChild(o)}))}e.d(i,{B:()=>s,V:()=>n})},11:(t,i,e)=>{e.d(i,{Wz:()=>c,YH:()=>g,Zv:()=>d,j:()=>l,qA:()=>p,uf:()=>v});var s=e(714),n=e(597),o=e(625);const r=["NV_LOADED","NV_START","NV_REPLAY","AD_25","AD_50","AD_75","AD_100","NV_25","NV_50","NV_75","NV_100","INVIEW","IMP","VIEWABLE_IMP","AD_PAUSE","AD_PLAY","NV_PAUSE","NV_PLAY","AD_MUTE","AD_UNMUTE","NV_MUTE","NV_UNMUTE","NV_CLICK","NV_CLICK_THRU","CLICK","NV_TIMELINE_CLICK","NV_SUGGESTION_CLICK","CLICK_SHARE","FALLBACK","WF_END","DISP_REQUEST","DISP_IMP","DISP_NOAD","DISP_B_REQUEST","DISP_B_IMP","DISP_B_NOAD","DISP_C_REQUEST","DISP_C_IMP","DISP_C_NOAD","RC_PLAY","RC_PAUSE","RC_INVIEW"];function a(t,i){return t.tagConfig.osTrackingEnabled?i?s.m.trackingTI:s.m.trackingT:i?s.m.trackingI:s.m.tracking}function l(t,i,e){if(!t)return;let s="?event="+t;const n=h(t,i,e);for(let t in n)n.hasOwnProperty(t)&&(s+="&"+t+"="+n[t]);const r=a(e,"IMP"===t);if(document.createElement("img").src=r+s+"&cb="+(0,o.s4)(),e.tagConfig.CustomTracking&&(0,o.kJ)(e.tagConfig.CustomTracking[t])){const i=e.tagConfig.CustomTracking[t];let s,n;for(n=0;n<i.length;n++)s=document.createElement("img"),s.src=i[n]+"&cb="+(0,o.s4)()}}function d(t,i,e){if(navigator.sendBeacon){const s=h(t,i,e);s.event=t,navigator.sendBeacon(a(e,!1),JSON.stringify([s]))}}function h(t,i,e){var s;let n={};e.tagConfig.AppBundle?(n.app_bundle=encodeURIComponent(e.tagConfig.AppBundle),n.user_agent=encodeURIComponent(navigator.userAgent),e.tagConfig.SubID&&(n.source_id=encodeURIComponent(e.tagConfig.SubID))):n.page_url=String(e.env.pageUrl).substring(0,500),n.pub_id=e.tagConfig.PublisherID,n.channel_id=e.tagConfig.ChannelID,n.placement_id=e.tagConfig.PlacementID,n.ad_unit_type=e.tagConfig.AdUnitType,n.session_id=e.env.sessionId,n.focus=!0===e.state.pageIsVisible,n.player=e.tagConfig.Player,n.build="m",n.ver=e.tagConfig.VersionOfBuild,e.env.pageLanguage&&(n.pageLanguage=e.env.pageLanguage.toLowerCase());const a=e.topDiv&&e.topDiv.querySelector("#vi-stories-main-container");a&&(n.placement_w=Math.round(a.offsetWidth),n.placement_h=Math.round(a.offsetHeight));const l=e.topDiv&&e.topDiv.querySelector("#vi-stories-player-container"),d=l&&l.querySelector("video.HTMLPlayer-module__video");d&&(n.video_w=Math.round(d.offsetWidth),n.video_h=Math.round(d.offsetHeight));const h=(0,o.b3)();if(null!==(s=h.performance)&&void 0!==s&&s.now){const t=h.performance.now();n.time_delta=Math.round(t),n.time_zero_delta=Math.round(t-e.tagConfig.ObTimeZero)}let v,c;if(e.env.fif){const t=window.frameElement&&e.env.fif&&window.top.document.getElementById("framePlaceHolder"),i=t&&"none"!==t.style.display&&t||window.frameElement||a;v=(0,o.O)(i)}if("ERROR"!==t&&"ERROR_HAI"!==t&&"WARNING"!==t&&e.env.fif&&!e.env.amp&&e.tagConfig.CheckUnitOverlap&&-1!==e.tagConfig.CheckUnitOverlap.indexOf(t)&&(e.state.adUnitInView||e.state.adUnitIsFloated)&&(c=(0,o.ed)(a)),"INFO"===t){let t="lazy:";e.tagConfig.LazyLoading?t+="on, loading:paused "+e.env.lazyPaused+"ms, trigger:"+e.env.lazyTrigger:t+="off",i&&i.vendorInfo&&(t+=" / "+i.vendorInfo,delete i.vendorInfo),n.data=t}if("PLACEMENT"!==t&&"ERROR"!==t||(n.data="tag: "+(e.tagConfig.VersionOfTag||"-")),i){c&&(i.overlapped=c),e.env.amp&&(i.amp=!0),e.env.abTestingId&&(i.ab_testing_id=e.env.abTestingId),e.env.obAbTestIds&&(i.ob_ab_test_ids=e.env.obAbTestIds),e.tagConfig.ObAbTestList&&(i.ob_ab_test_list=e.tagConfig.ObAbTestList),e.tagConfig.ExtPublisherID&&(i.ob_publisher_id=e.tagConfig.ExtPublisherID),e.tagConfig.ObWidgetId&&(i.ob_widget_id=e.tagConfig.ObWidgetId),!0===e.state.defaultVideo&&(i.nv_fallback=!0),v&&v!==1/0&&(i.position_on_page=v),e.tagConfig.PlaylistMode>0&&(i.playlist_pos=e.videoIdx+1),e.video[e.videoIdx].matchedCategoryCode&&(i.matchedCategory=e.video[e.videoIdx].matchedCategoryCode),e.video[e.videoIdx].targetingCategoryCode&&(i.targetingCategory=e.video[e.videoIdx].targetingCategoryCode),i.mobile=e.env.mobile,i.floating=!!e.state.adUnitIsFloated||!(!e.tagConfig.ObIsSticky||!e.tagConfig.ObIsSticky()),i.error_msg&&(i.error_msg=i.error_msg.substring(0,500)),-1!==r.indexOf(t)&&(i.nv_video_id=e.video[e.videoIdx].id,e.video[e.videoIdx].sourceId&&(i.nv_source_id=parseInt(e.video[e.videoIdx].sourceId,10)),e.video[e.videoIdx].feedId&&(i.nv_feed_id=parseInt(e.video[e.videoIdx].feedId,10))),i.hasOwnProperty("in_view")||(i.in_view=e.state.adUnitInView||e.state.adUnitIsFloated||!1);for(let t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);("ERROR"===t||"ERROR_HAI"===t)&&i.error_msg&&console.log("VI_ERROR: "+i.error_msg)}return n}function v(t,i){var e,n;const r=(0,o.b3)(),a="?event="+t+"&dim9="+(r.performance&&r.performance.now&&r.performance.now().toFixed(0)||0)+"&session_id="+i.env.sessionId+"&env=w&affiliate_id="+i.tagConfig.ChannelID+"&domainapp="+i.env.pageDomain+"&width="+Math.round(i.viPlayerConfig.width)+"&height="+Math.round(i.viPlayerConfig.height)+"&visible=0&publisher_id="+i.tagConfig.PublisherID+(i.tagConfig.ExtPublisherID?"&ob_publisher_id="+i.tagConfig.ExtPublisherID:"")+(i.env.abTestingId?"&ab_testing_id="+i.env.abTestingId:"")+(i.env.obAbTestIds?"&ob_ab_test_ids="+i.env.obAbTestIds:"")+(i.tagConfig.ObAbTestList?"&ob_ab_test_list="+i.tagConfig.ObAbTestList:"")+(i.tagConfig.ObWidgetId?"&ob_widget_id="+i.tagConfig.ObWidgetId:"")+(i.tagConfig.ObSubWidgetId?"&ob_subwidget_id="+i.tagConfig.ObSubWidgetId:"")+(i.tagConfig.ObIsOnyx?"&ob_onyx="+i.tagConfig.ObIsOnyx:"")+(null!==(e=i.env.pageUrl)&&void 0!==e&&e.length?"&page_url="+String(i.env.pageUrl).slice(0,500):"")+(null!==(n=i.env.pageLanguage)&&void 0!==n&&n.length?"&page_language="+i.env.pageLanguage.toLowerCase():"")+"&ob_version="+i.tagConfig.ObVersion+"&ad_unit_type="+i.tagConfig.AdUnitType+"&cb="+(0,o.s4)(),l=document.createElement("img"),d=function(t){return t.tagConfig.osTrackingEnabled?s.m.trackingViAdServerT:s.m.trackingViAdServer}(i);l.src=d+a}function c(t,i,e){(0,n.V)("https://pixel.adsafeprotected.com/jload?anId=927929&advId=vi_stories&campId=vi_stories&pubId="+t+"&chanId="+i+"&placementId="+e)}function g(t){return new Promise((function(i,e){const s=(0,o.b3)(),n=window.__tcfapi||s.__tcfapi,r=window.__cmp||s.__cmp,a="function"==typeof n?{func:n,command:"addEventListener",name:"tcf2",version:2}:"function"==typeof r?{func:r,command:"getConsentData",name:"iab",version:null}:null;let l="";function d(e,s){i(t?{gdpr:{applies:t.env.isEU?1:0,consent:"",vendorData:null,apiVersion:0,addtlConsent:"",extra:{cmpFramework:e,gdprApplies:t.env.isEU,gdprStatus:s,consent:"",segments:t.video[t.videoIdx].segments||"",brandSafety:t.video[t.videoIdx].brandSafety||""}}}:{})}if(!a){const e=(0,o.ul)();return t&&t.env.amp&&t.env.consent?void i({gdpr:{applies:t.env.isEU?1:0,consent:t.env.consent,vendorData:null,apiVersion:0,addtlConsent:"",extra:{cmpFramework:"amp",gdprApplies:t.env.isEU,gdprStatus:"ok",consent:t.env.consent,segments:t.video[t.videoIdx].segments||"",brandSafety:t.video[t.videoIdx].brandSafety||""}}}):!t&&e&&e.initialConsentValue?void i({gdpr:{applies:1,consent:e.initialConsentValue,vendorData:null,apiVersion:0,addtlConsent:""}}):void d("false","none")}let h=setTimeout((function(){h=null,d(a.name,"timeout"+(l?"-"+l:""))}),1e3);a.func(a.command,a.version,(function(e,s){if(e&&e.eventStatus&&(l=e.eventStatus),(!e||void 0===e.gdprApplies||"cmpuishown"!==e.eventStatus||!s)&&h)if(clearTimeout(h),!e||void 0===e.gdprApplies||"tcloaded"!==e.eventStatus&&"useractioncomplete"!==e.eventStatus&&void 0!==e.eventStatus||!s&&void 0===e.consentData)d(a.name,"invalid");else{const s=e.tcString||e.consentData||"";let n;if(t){const i="TCF: purpose 1: "+(e.purpose&&e.purpose.consents&&e.purpose.consents[1])+", viConsent: "+(e.vendor&&e.vendor.consents&&e.vendor.consents[190])+", obConsent: "+(e.vendor&&e.vendor.consents&&e.vendor.consents[164]);t.env.consent=s,n={cmpFramework:a.name,gdprApplies:e.gdprApplies,gdprStatus:"ok",consent:t.env.consent,segments:t.video[t.videoIdx].segments||"",brandSafety:t.video[t.videoIdx].brandSafety||"",vendorInfo:i}}i({gdpr:{applies:e.gdprApplies?1:0,consent:s,vendorData:e,apiVersion:a.version||1,addtlConsent:e.addtlConsent,extra:n}})}}))}))}function p(t){return new Promise((function(t,i){"function"!=typeof __uspapi&&t({});let e=setTimeout((function(){e=null,t({})}),1e3);__uspapi("getUSPData",1,(function(i,s){e&&(clearTimeout(e),s&&i.uspString?t({ccpa:{uspString:i.uspString}}):t({ccpa:{}}))}))}))}},625:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function s3(){return Math.floor(46656*(1+Math.random())).toString(36).substring(1)}function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function guid(){return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}function sid(){return s3()+s3()+s3()+s3()}function isiOS(){return/iPhone|iPod|iPad/.test(navigator.userAgent)}function isMobile(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4))}function isVisible(t){for(;t;){if(t===document||"#document"===t.nodeName)return!0;const i=window.getComputedStyle(t,null);return!(!t||!i||"none"===i.display||"hidden"===i.visibility||0===i.opacity)&&("fixed"===i.position||isVisible(t.parentNode))}}function isArray(t){return"[object Array]"===Object.prototype.toString.call(t)}function isNumber(t){return"[object Number]"===Object.prototype.toString.call(t)}function isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}function isRegExp(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function isString(t){return"[object String]"===Object.prototype.toString.call(t)}function isNodeList(t){return"[object NodeList]"===Object.prototype.toString.call(t)}function isHtmlCollection(t){return"[object HTMLCollection]"===Object.prototype.toString.call(t)}function isHtmlDivElement(t){return"[object HTMLDivElement]"===Object.prototype.toString.call(t)}function extend(){let t,i=arguments[0];isObject(i)||(i={});for(let e=1,s=arguments.length;e<s;e++)if(t=arguments[e],isObject(t)){const e=Object.keys(t);for(let s=0,n=e.length;s<n;s++){const n=e[s];isObject(t[n])?i[n]=extend({},t[n]):i[n]=t[n]}}return i}function extendProp(){let t,i=arguments[0];isObject(i)||(i={});for(let e=1,s=arguments.length;e<s;e++)if(t=arguments[e],isObject(t)){const e=Object.keys(t),s=Object.keys(i);for(let n=0,o=e.length;n<o;n++){const o=e[n];if(s.indexOf(o)>-1)i[o]=t[o];else{let e=!1;for(let n=0,r=s.length;n<r;n++){const r=s[n];if((o+"").toLowerCase()===(r+"").toLowerCase()){e=!0,i[r]=t[o];break}}e||(i[o]=t[o])}}}return i}function shuffleArray(t){const i=t.slice();let e,s;for(e=i.length-1;e>0;e--)s=Math.floor(Math.random()*(e+1)),[i[e],i[s]]=[i[s],i[e]];return i}function replaceInObject(t,i,e,s){return isObject(t)&&isString(t[i])&&(t[i]=t[i].replace(e,s)),t}function replacePropInArray(t,i,e,s){return isArray(t)?t.map((t=>replaceInObject(t,i,e,s))):t}function weightedRandom(t,i){const e=i.reduce(((t,i)=>t+i)),s=Math.random()*e;let n,o=0;for(n=0;n<t.length;n++)if(o+=i[n],o=parseFloat(o.toFixed(2)),s<=o)return t[n]}function convertTime(t){let i=0,e=0,s="00:00:00";return t&&(i=Math.floor(t/60),e=Math.floor(t%60),i<10&&(i="0"+i),e<10&&(e="0"+e),s=i+":"+e),s}function throttle(t,i,e){const s=e||window;let n=0;return function(){const e=Date.now();i-(e-n)<=0&&(n=e,t.apply(s,arguments))}}function rafWrapper(t,i){i?requestAnimationFrame(t):t()}function placementSelector(t,i,e){const s=document.querySelector(i)||getTopDocument().querySelector(i);return s?("exact"===t?e=s:"inside"===t?s.appendChild(e):"before"===t?s.parentNode.insertBefore(e,s):"after"===t&&s.parentNode.insertBefore(e,s.nextSibling),e):null}function getAmpContext(){return(window.AMP_MODE||window.__AMP_MODE)&&window.context||window.AMP_CONTEXT_DATA}function getTopWindow(){let t=window;try{t=window.top.document&&window.top}catch(t){}return t}function getTopDocument(){let t=window.document;try{t=window.top.document}catch(t){}return t}function getDomain(){const t=getAmpContext(),i=getTopWindow();let e="",s="";try{e=t?t.sourceUrl:i.location.href,s=t?getDomainFromUrl(e):i.location.hostname}catch(t){}return s}function getDomainFromUrl(t){const i=t&&t.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return i&&i[1]||""}function getUrlFromAmpCacheUrl(t){const i=t&&t.match(/^(https?\:\/\/)\S*\.cdn\.ampproject\.org\/[vc]\/(?:s\/)?(\S*)/i);return i&&i[1]+i[2]||""}function getUrlWithoutHash(t){return t&&t.split(/[#]/)[0]||""}function get2LetterLang(t){return t||(t=""),t.indexOf("-")>0?t.substr(0,t.indexOf("-")):t}function getPageReferenceUrl(t){const i=getDomain(),{canonicalUrl:e,pageUrl:s}=t;return null!=e&&e.includes(i)?e:s}function getPageEnvironmentData(t){const i={amp:!1,fif:!0,consent:0,pageDomain:null,pageLanguage:null,pageUrl:null,canonicalUrl:null};try{var e,s,n;const o=getAmpContext();o&&o.initialConsentValue&&(i.consent=o.initialConsentValue),i.amp=!!o,i.pageLanguage=getPageInfo("language")||getPageInfo("lang"),i.canonicalUrl=(null==o?void 0:o.canonicalUrl)||(null===(e=getTopDocument().querySelector('link[rel="canonical"]'))||void 0===e?void 0:e.href);let r=i.amp?getUrlWithoutHash(o.sourceUrl):t?getUrlWithoutHash(t):null===(s=window.top.location)||void 0===s?void 0:s.href,a=i.amp||t?getDomainFromUrl(r):null===(n=window.top.location)||void 0===n?void 0:n.hostname;i.pageDomain=encodeURIComponent(a),i.pageUrl=encodeURIComponent(r)}catch(t){i.fif=!1;let e=window,s=window.document.referrer;try{do{e=e.parent,s=e.document.referrer}while(e!==window.top)}catch(t){}const n=getUrlFromAmpCacheUrl(s);n&&(s=n,i.amp=!0),i.pageDomain=encodeURIComponent(getDomainFromUrl(s)||s),i.pageUrl=encodeURIComponent(s)}return i}function getElementPositionInPage(t){if(!t)return null;const i=window.frameElement&&window.top||window,e=i.document.documentElement,s=i.document.body,n=Math.max(s.scrollHeight,s.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),o=t.getBoundingClientRect().top+i.pageYOffset;return Math.floor(o/n*100)}function findTopDiv(t,i){return!(!t.parentNode||t.parentNode.id!==i)||!(!t.parentNode||"html"===t.parentNode.nodeName.toLowerCase()||"body"===t.parentNode.nodeName.toLowerCase())&&findTopDiv(t.parentNode,i)}function checkOverlap(t){if(window.frameElement)return;let i=t.getBoundingClientRect(),e=[],s=0;return e.push(document.elementFromPoint(i.left+1,i.top+1)),e.push(document.elementFromPoint(i.left+1,i.top+(i.height-1))),e.push(document.elementFromPoint(i.left+(i.width-1),i.top+1)),e.push(document.elementFromPoint(i.left+(i.width-1),i.top+(i.height-1))),e.push(document.elementFromPoint(i.left+i.width/2,i.top+i.height/2)),e.forEach((function(i){i&&!findTopDiv(i,t.id)&&s++})),(s/5).toFixed(2)}function elemInsideViewport(t){let i=t.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth)}function parseQueryString(t){let i={};if(isString(t)){let e=("?"===t[0]?t.substr(1):t).split("&");for(let t=0;t<e.length;t++){let s=e[t].split("=");i[decodeURIComponent(s[0])]=decodeURIComponent(s[1]||"")}}return i}function getQueryStringParameter(t,i){return new URLSearchParams(t).get(i)}function setQueryStringParameter(t,i,e){const s=document.createElement("a"),n=/(?:\?|&amp;|&)+([^=]+)(?:=([^&]*))*/g,o=[];let r;s.href=t;do{r=n.exec(s.search),r&&i!==r[1]&&o.push(r[1]+(r[2]?"="+r[2]:""))}while(r);return o.push(i+(e?"="+encodeURIComponent(e):"")),s.search=o.join("&"),s.href}function getPageInfo(t){return t&&(actions.getPageInfoFromMeta("property","og:"+t,"last")||actions.getPageInfoFromDoc(t)||actions.getPageInfoFromHtml(t)||actions.getPageInfoFromDom(t,"first")||actions.getPageInfoFromAnyMeta(t,"first"))||""}function getTopLevelIabCatregories(t){return isString(t)?t.match(/IAB\d+/gi):isArray(t)?t.map((function(t){return isString(t)?t.match(/IAB\d+/gi):""})).join().split(",").filter((function(t,i,e){return e.indexOf(t)===i})):t}function getShortVersionIabCatregories(t){return isString(t)?t.match(/\d+(-\d+)?/gi):isArray(t)?t.map((function(t){return isString(t)?t.match(/\d+(-\d+)?/gi):""})).join().split(",").filter((function(t,i,e){return e.indexOf(t)===i})):t}function runCustomActions(customActions,config){for(let i=0;i<customActions.length;i++){const customAction=customActions[i];let customCondition,customResult,customParams;if("js"===customAction.type&&!customAction.done){if(customAction.condition)try{customCondition=eval(customAction.condition)}catch(t){}else customCondition=!0;if(customCondition){try{customResult=eval(customAction.action)}catch(t){}if("function"==typeof customResult){if(customAction.params)try{customParams=eval(customAction.params)}catch(t){}customResult(customParams)}customAction.done=!0}}}}function getCustomParams(customParams,config){const extra={};if(customParams){let customParam,customParamValue,customParamOp;for(let i=0;i<customParams.length;i++){if(customParam=customParams[i],customParamValue="","js"===customParam.type)try{customParamValue=eval(customParam.value)}catch(t){}else"dom"===customParam.type&&(customParamValue=getTopDocument().querySelector(customParam.value));if(customParamValue&&customParam.transforms)for(let t=0;t<customParam.transforms.length;t++)customParamOp=customParam.transforms[t],operations[customParamOp.op]&&(customParamValue=operations[customParamOp.op].apply(customParamValue,customParamOp.params));null==customParamValue&&(customParamValue=""),extra[customParam.param]=customParamValue}}return extra}function getCustomKeywordParams(t){const i={};function e(t){return["h1","h2","h3","h4","h5","h6","li","div","span"].filter((i=>-1!==t.indexOf(i))).reduce(((t,i)=>t.concat(actions.getPageInfoFromDom(i,"all")||[])),[])}if(t){let s,n,o,r,a,l;for(let d=0;d<t.length;d++)s=t[d],n=s.scope||"title, description, keywords, h1, h3, p",l=[],-1!==n.indexOf("title")&&l.push(getPageInfo("title")),-1!==n.indexOf("description")&&l.push(getPageInfo("description")),-1!==n.indexOf("keywords")&&(l=l.concat(actions.getPageInfoFromMeta("name","keywords","all")||[])),l=l.concat(e(n)),-1!==n.indexOf("p")&&(l=l.concat((actions.getPageInfoFromDom("p","all")||[]).filter((t=>t.split(" ").length>=10)))),l=l.join().toLowerCase(),o=isString(s.keys)&&s.keys.toLowerCase().split(","),isArray(o)&&(o=operations.opTrim.apply(o),o=operations.opCreateRegExp.apply(o,["[S]*","[S]*"]),a=operations.opSearch.apply(l,[o]),a=operations.opFilterOut.apply(a,[""]),r=operations.opJoin.apply(a),a=operations.opLength.apply(a),a=operations.opEvaluate.apply(a,["1","0"])),null==a&&(a=""),i[s.param||r]=a}return i}function widthClass(t){return t>=800?"vi-stories-width-min-800":t>=700&&t<800?"vi-stories-width-700-800":t>=600&&t<700?"vi-stories-width-600-700":t>=500&&t<600?"vi-stories-width-500-600":t<500?"vi-stories-width-max-500":"vi-stories-no-class"}__webpack_require__.d(__webpack_exports__,{$G:()=>get2LetterLang,CB:()=>extendProp,Dy:()=>sid,E6:()=>widthClass,HB:()=>replacePropInArray,HD:()=>isString,Kn:()=>isObject,M4:()=>getPageEnvironmentData,Nk:()=>getCustomParams,Nn:()=>positionClasses,O:()=>getElementPositionInPage,P2:()=>throttle,Sy:()=>shuffleArray,UM:()=>getPageInfo,Vp:()=>widthClasses,Xb:()=>isHtmlDivElement,ZB:()=>getCustomKeywordParams,_5:()=>runCustomActions,b3:()=>getTopWindow,bu:()=>weightedRandom,cK:()=>rafWrapper,ed:()=>checkOverlap,hj:()=>isNumber,jM:()=>setQueryStringParameter,kJ:()=>isArray,l7:()=>extend,mC:()=>placementSelector,mn:()=>getQueryStringParameter,oC:()=>getPageReferenceUrl,pn:()=>isVisible,rJ:()=>convertTime,s4:()=>s4,tq:()=>isMobile,ul:()=>getAmpContext,xl:()=>getShortVersionIabCatregories});const positionClasses=["top-left","top-right","bottom-left","bottom-right"],widthClasses=["vi-stories-width-min-800","vi-stories-width-700-800","vi-stories-width-600-700","vi-stories-width-500-600","vi-stories-width-max-500","vi-stories-no-class"];function addCssRule(t,i,e,s){const n=document.getElementById(t),o=n&&(n.sheet?n.sheet:n.styleSheet);o&&(o.insertRule?o.insertRule(i+"{"+e+"}",s):o.addRule(i,e,s))}const actions={getPageInfoFromAnyMeta:function(t,i){let e="";return"first"===i||"last"===i?e=actions.getPageInfoFromMeta("name",t,i)||actions.getPageInfoFromMeta("http-equiv",t,i)||actions.getPageInfoFromMeta("property",t,i)||actions.getPageInfoFromMeta("property","og:"+t,i):"all"===i&&(e=[actions.getPageInfoFromMeta("name",t,"all"),actions.getPageInfoFromMeta("http-equiv",t,"all"),actions.getPageInfoFromMeta("property",t,"all"),actions.getPageInfoFromMeta("property","og:"+t,"all")].filter((function(t){return!!t})).join()),e},getPageInfoFromDoc:function(t){return getTopDocument()[t]},getPageInfoFromDom:function(t,i){let e="";const s=getTopDocument().getElementsByTagName(t);return s.length>0&&("first"===i?e=s[0]&&s[0].textContent:"last"===i?e=s[s.length-1]&&s[s.length-1].textContent:"all"===i&&(e=Array.prototype.map.call(s,(function(t){return t.textContent})))),e},getPageInfoFromHtml:function(t){const i=getTopDocument().getElementsByTagName("html")[0];return i&&i.getAttribute(t)},getPageInfoFromMeta:function(t,i,e){let s="";const n=getTopDocument().querySelectorAll("meta["+t+'="'+i+'"]');return n.length>0&&("first"===e?s=n[0].getAttribute("content"):"last"===e?s=n[n.length-1].getAttribute("content"):"all"===e&&(s=Array.prototype.map.call(n,(function(t){return t.getAttribute("content")})))),s}},operations={opComparisonOper:function(t,i){switch(t){case"==":return this==i;case"!=":return this!=i;case"===":return this===i;case"!==":return this!==i;case">":return this>i;case">=":return this>=i;case"<":return this<i;case"<=":return this<=i}return this},opCreateRegExp:function(t,i){return isString(this)?new RegExp((t||"")+this+(i||"")):isArray(this)?this.map((function(e){return isString(e)?new RegExp((t||"")+e+(i||"")):""})):this},opEvaluate:function(t,i){return this?t:i},opFilterIn:function(t){return isArray(this)?this.filter((function(i){return isArray(t)?-1!==t.indexOf(i):i===t})):this},opFilterOut:function(t){return isArray(this)?this.filter((function(i){return isArray(t)?-1===t.indexOf(i):i!==t})):this},opJoin:function(){return isArray(this)?this.join():this},opLength:function(){return isString(this)||isArray(this)?this.length:this},opReplace:function(t,i){return isString(this)?this.replace(t,i):isArray(this)?this.map((function(e){return isString(e)?e.replace(t,i):""})):this},opSearch:function(t){if(isString(this)){if(isString(t)||isRegExp(t))return-1!==this.search(t)?t:"";if(isArray(t))return t.map((function(t){return-1!==this.search(t)?t:""}),this)}return this},opSplit:function(t){return isString(this)?this.split(t):this},opToLowerCase:function(){return isString(this)?this.toLowerCase():isArray(this)?this.map((function(t){return isString(t)?t.toLowerCase():""})):this},opToUpperCase:function(){return isString(this)?this.toUpperCase():isArray(this)?this.map((function(t){return isString(t)?t.toUpperCase():""})):this},opTrim:function(){return isString(this)?this.trim():isArray(this)?this.map((function(t){return isString(t)?t.trim():""})):this}}},275:(t,i,e)=>{e.d(i,{Y:()=>n});var s=e(996);class n extends s.p{constructor(t,i){var e,s;super(),this.rootMargin=(null==i?void 0:i.rootMargin)||"0px 0px 0px 0px",this.observationThreshold=null!==(e=null==i?void 0:i.observationThreshold)&&void 0!==e?e:.5,this.intersectionThreshold=null!==(s=null==i?void 0:i.intersectionThreshold)&&void 0!==s?s:.5,this.intersectionRatio=0,this.containerPosition=null,this.observer=new window.IntersectionObserver((t=>{let[i]=t;const e=this.visible,s=i.rootBounds?i.rootBounds.top:0,o=i.rootBounds?i.rootBounds.bottom:window.innerHeight;this.containerPosition=i.boundingClientRect.top<s?"above":i.boundingClientRect.bottom>o?"below":null,this.intersectionRatio!==i.intersectionRatio&&(this.intersectionRatio=i.intersectionRatio,this.dispatchEvent(n.Events.viewabilitychange,i),e!==this.visible&&(this.visible?this.dispatchEvent(n.Events.inview):this.dispatchEvent(n.Events.outofview)))}),{rootMargin:this.rootMargin,threshold:this.observationThreshold}),this.observer.observe(t)}get visible(){return!!this.intersectionRatio&&this.intersectionRatio>=this.intersectionThreshold}get position(){return this.containerPosition}dispose(){this.observer.disconnect(),this.removeAllListeners()}static percentPoints(){const t=[];for(let i=0;i<=100;i++)t.push(Math.round(.01*i*100)/100);return t}}n.Events={viewabilitychange:"viewabilitychange",inview:"inview",outofview:"outofview"}},958:(t,i,e)=>{e.d(i,{Z:()=>T});var s=e(81),n=e.n(s),o=e(645),r=e.n(o),a=e(667),l=e.n(a),d=new URL(e(522),e.b),h=new URL(e(613),e.b),v=new URL(e(309),e.b),c=new URL(e(738),e.b),g=new URL(e(26),e.b),p=new URL(e(392),e.b),u=new URL(e(776),e.b),m=new URL(e(252),e.b),y=new URL(e(683),e.b),f=new URL(e(872),e.b),C=r()(n()),b=l()(d),w=l()(h),I=l()(v),x=l()(c),_=l()(g),P=l()(p),E=l()(u),A=l()(m),M=l()(y),S=l()(f);C.push([t.id,"#vi-stories-main-container{background-color:#faf8f8;clear:both;font-family:Verdana;margin:0 auto;padding:0px;position:relative}.viUnit1 #vi-stories-main-container,.viUnit3 #vi-stories-main-container{background-color:rgba(0,0,0,0)}.vi-stories-main-container{direction:ltr}.vi-stories-main-container,.vi-stories-main-container div,.vi-stories-main-container span,.vi-stories-main-container object,.vi-stories-main-container iframe,.vi-stories-main-container audio,.vi-stories-main-container video,.vi-stories-main-container dl,.vi-stories-main-container dt,.vi-stories-main-container dd,.vi-stories-main-container button{background:rgba(0,0,0,0);border:0;bottom:auto;box-shadow:none;box-sizing:content-box;clear:none;font-size:100%;left:auto;line-height:inherit;margin:0;outline:none;overflow:visible;padding:0;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;word-spacing:normal}.vi-stories-main-container a{background:rgba(0,0,0,0);font-size:100%;margin:0;padding:0;vertical-align:baseline}.vi-stories-main-container .vi-stories-text-overlay{align-items:center;background-color:rgba(0,0,0,.5);max-width:100%;position:absolute;z-index:10000000;transition-duration:250ms;transform:translateX(0)}.vi-stories-main-container .vi-stories-text-overlay.hidden{transform:translateX(100%)}.vi-stories-main-container .vi-stories-text-overlay.top-left.hidden,.vi-stories-main-container .vi-stories-text-overlay.bottom-left.hidden{transform:translateX(-100%)}.vi-stories-main-container .vi-stories-text-overlay-label{color:#fff;font-family:Verdana;font-size:18px;padding:7px;user-select:none;overflow:hidden;flex-grow:1;flex-basis:1px;text-overflow:ellipsis}.vi-stories-main-container .vi-stories-text-overlay-thumbnail{background-size:cover;height:70px;margin:5px;width:125px}.vi-stories-main-container .vi-stories-text-overlay.bottom-left,.vi-stories-main-container .vi-stories-text-overlay.bottom-right{bottom:45px}#vi-stories-main-placeholder{width:1px}#vi-stories-player-container{position:relative}#vi-stories-ad-container{height:100%;position:absolute;width:100%}#vi-stories-gui-container{height:100%;position:absolute;width:100%}#vi-stories-text-above{color:#000;font-family:Verdana;font-size:11px;position:absolute;top:-20px}#vi-stories-close-button{background-position:center center;background-repeat:no-repeat;background-size:cover;color:#000;font-size:90%;height:24px;line-height:24px;position:absolute;text-align:center;user-select:none;width:24px;z-index:10000}#vi-stories-close-button.outside-vi-unit{background-image:url("+b+");background-size:22px;top:-26px}#vi-stories-close-button.inside-vi-unit{background-color:rgba(0,0,0,.7);background-image:url("+w+");color:#fff}#vi-stories-close-button.vi-stories-close-timer{background-image:none}#vi-stories-area-above-placeholder{height:25px}.fixedRatio.vi-stories-floating.vi-stories-main-container{height:auto !important}.vi-stories-floating .vi-stories-hide-while-floating{display:none}.vi-stories-floating .vi-stories-show-while-floating{display:block}#vi-stories-preloader-thumbnail{background-color:#000;background-position:center center;background-repeat:no-repeat;background-size:contain;height:100%;width:100%}#vi-stories-preloader-play-icon{background-color:rgba(0,0,0,.7);background-image:url("+I+');background-position:16px center;background-repeat:no-repeat;background-size:62% 64%;border:3px solid #fff;border-radius:50%;box-sizing:content-box;height:61px;left:50%;margin-left:-34px;margin-top:-34px;position:absolute;top:50%;width:61px;z-index:99999}.vi-stories-position.top-left{top:0;left:0}.vi-stories-position.top-right{top:0;right:0}.vi-stories-position.bottom-left{bottom:0;left:0}.vi-stories-position.bottom-right{bottom:0;right:0}.displayFlex{display:flex}.displayNone{display:none}.marginBottom.marginBottom20{margin-bottom:20px}.pointer{cursor:pointer}.heightTransition{transition:height 1s ease 0s}.transformTransition{-webkit-transition:transform .5s linear 0s;-webkit-transition:-webkit-transform .5s linear 0s;transition:transform .5s linear 0s}#vi-stories-main-container .viTruncate1Line{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vi-stories-direction-rtl{direction:rtl;text-align:right !important}.vi-stories-width-max-500 .vi-stories-text-overlay-thumbnail{height:30px;margin:3px;width:53px}.vi-stories-floating.vi-stories-playing-content:hover .vi-stories-text-overlay,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable.vi-stories-overlay-ui-hoverable:hover .vi-stories-text-overlay,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable.vi-stories-overlay-ui-show .vi-stories-text-overlay{display:none}.vi-stories-companion-ad-container{margin:10px 0}.vi-stories-companion-ad-container>div{margin:0 auto}#vi-stories-description-container{border-color:#e3e3e3;border-style:solid;border-width:0px 1px 1px 1px;box-sizing:border-box;margin:0px auto;width:100%}#vi-stories-sponsor-container{height:36px;line-height:36px;text-align:right}#vi-stories-sponsor-container a{box-shadow:none;cursor:pointer;text-decoration:none}#vi-stories-sponsor-container.top-left,#vi-stories-sponsor-container.top-right{position:absolute;top:-31px}#vi-stories-sponsor-container.top-left #vi-stories-sponsor-powered,#vi-stories-sponsor-container.top-right #vi-stories-sponsor-powered{font-size:11px;opacity:unset}#vi-stories-sponsor-container.top-left,#vi-stories-sponsor-container.bottom-left{text-align:left}#vi-stories-title{color:#000;font-family:Verdana;font-size:18px;font-weight:bold;line-height:1.33;margin-left:8px;padding-top:8px;text-align:left;word-wrap:break-word}#vi-stories-sponsor-powered{color:#000;display:inline-block;font-family:Verdana;font-size:9px;margin:0 8px 0 8px;opacity:.5;text-transform:uppercase;vertical-align:middle}#vi-stories-main-container #vi-stories-sponsor-logo{display:inline;height:20px;margin:0 8px 0 0;vertical-align:middle;width:20px}.fixedRatio #vi-stories-sponsor-container{position:absolute;width:100%}.fixedRatio.hideUnitBeforeAd #vi-stories-description-container{border-width:0}.viUnit1 #vi-stories-main-container #vi-stories-description-container,.viUnit3 #vi-stories-main-container #vi-stories-description-container{display:none}.vi-stories-overlay-ui #vi-stories-description-container,.vi-stories-floating #vi-stories-description-container{background:linear-gradient(to bottom, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0) 100%);border:0;color:#fff;display:none;height:30%;position:absolute;top:0}.vi-stories-overlay-ui.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container,.vi-stories-floating.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container{background:linear-gradient(to bottom, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.7) 20%, rgba(0, 0, 0, 0) 100%);pointer-events:none;top:25px}.vi-stories-overlay-ui #vi-stories-title,.vi-stories-floating #vi-stories-title{color:#fff;margin-left:20px;padding-top:20px}.vi-stories-overlay-ui #vi-stories-title.vi-stories-direction-rtl,.vi-stories-floating #vi-stories-title.vi-stories-direction-rtl{margin-right:20px}.vi-stories-overlay-ui #vi-stories-sponsor-container{background-color:rgba(0,0,0,0)}.vi-stories-overlay-ui#vi-stories-main-container #vi-stories-sponsor-logo{margin:7px;right:0;top:0}.vi-stories-overlay-ui#vi-stories-main-container{background-color:rgba(0,0,0,0)}.vi-stories-floating #vi-stories-sponsor-container{display:none}.vi-stories-floating.vi-stories-playing-content:hover #vi-stories-description-container,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable.vi-stories-overlay-ui-hoverable:hover #vi-stories-description-container,.vi-stories-overlay-ui.vi-stories-overlay-ui-enable.vi-stories-overlay-ui-show #vi-stories-description-container{display:block}.vi-stories-width-max-500.vi-stories-overlay-ui #vi-stories-title,.vi-stories-width-max-500.vi-stories-floating #vi-stories-title{margin-left:10px;padding-top:10px}.vi-stories-width-max-500 #vi-stories-title{font-size:12px}.vi-stories-width-max-500 #vi-stories-sponsor-container{height:24px;line-height:24px}.vi-stories-width-max-500#vi-stories-main-container #vi-stories-sponsor-logo{height:15px;width:15px}.vi-stories-width-max-500#vi-stories-main-container .vi-stories-text-overlay-label{font-size:12px}#vi-stories-display-ad-overlay{box-sizing:border-box;height:100%;position:absolute;top:0;width:100%;z-index:10000000}#vi-stories-display-ad-overlay #vi-stories-display-ad-container{left:calc(50% - 150px);position:absolute;top:calc(50% - 125px)}#vi-stories-display-ad-overlay #vi-stories-display-ad-close-button{background-color:#000;border-color:#fff;border-style:solid;border-width:1px;color:#fff;cursor:pointer;padding:5px;position:absolute;right:0;top:0}#vi-stories-display-ad-overlay.vi-stories-display-ad-blur{background-color:#fff}.vi-stories-width-max-500 #vi-stories-display-ad-overlay #vi-stories-display-ad-close-button{display:none}.vi-stories-main-container .vi-stories-display-banner-overlay{bottom:10px;box-sizing:border-box;position:absolute;transition-delay:0s;transition-duration:200ms;z-index:10000000}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x50{height:50px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x80{height:80px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size320x100{height:100px;left:calc(50% - 160px);width:320px}.vi-stories-main-container .vi-stories-display-banner-overlay.size468x60{height:60px;left:calc(50% - 234px);width:468px}.vi-stories-main-container .vi-stories-display-banner-overlay.size728x90{height:90px;left:calc(50% - 364px);width:728px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button{background-color:#000;border-color:#fff;border-radius:50%;border-style:solid;border-width:2px;cursor:pointer;display:block;height:23px;position:absolute;right:-8px;top:-8px;width:23px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::before,.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::after{background-color:#fff;content:"";height:3px;left:5px;position:absolute;top:10px;width:13px}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::before{transform:rotate(-45deg)}.vi-stories-main-container .vi-stories-display-banner-overlay .vi-stories-display-banner-close-button::after{transform:rotate(45deg)}.vi-stories-main-container .vi-stories-player-container:hover .vi-stories-display-banner-overlay{transform:translateY(-39px)}.vi-stories-main-container.vi-stories-floating .vi-stories-player-container:hover .vi-stories-display-banner-overlay{transform:translateY(-60px)}.vi-stories-main-container.vi-stories-width-max-500 .vi-stories-display-banner-overlay{bottom:8px;transform:scale(0.7)}.vi-stories-main-container.vi-stories-width-max-500 .vi-stories-player-container:hover .vi-stories-display-banner-overlay{transform:scale(0.7) translateY(-54px)}.vi-stories-main-container.vi-stories-width-max-500.vi-stories-floating .vi-stories-player-container:hover .vi-stories-display-banner-overlay{transform:scale(0.7) translateY(-64px)}.vi-stories-main-container.vi-stories-width-max-500 .vi-stories-display-banner-overlay.size468x60{bottom:-5px;transform:scale(0.5)}.vi-stories-main-container.vi-stories-width-max-500 .vi-stories-player-container:hover .vi-stories-display-banner-overlay.size468x60{transform:scale(0.5) translateY(-74px)}.vi-stories-main-container.vi-stories-width-max-500.vi-stories-floating .vi-stories-player-container:hover .vi-stories-display-banner-overlay.size468x60{transform:scale(0.5) translateY(-87px)}.vi-stories-main-container.vi-stories-mobile.vi-stories-mobile .vi-stories-player-container .vi-stories-display-banner-overlay{bottom:43px;transform:scale(0.7)}.vi-stories-main-container.vi-stories-mobile.vi-stories-mobile .vi-stories-player-container .vi-stories-display-banner-overlay.size468x60{bottom:33px;transform:scale(0.5)}.vi-stories-main-container.vi-stories-mobile.vi-stories-mobile.vi-stories-floating .vi-stories-player-container .vi-stories-display-banner-overlay{bottom:48px;transform:scale(0.7)}.vi-stories-main-container.vi-stories-mobile.vi-stories-mobile.vi-stories-floating .vi-stories-player-container .vi-stories-display-banner-overlay.size468x60{bottom:38px;transform:scale(0.5)}.vi-stories-main-container.vi-stories-suggestion-overlay-show .GUI-module__gui.GUI-module__container .GUI-module__controls{transform:translateY(0)}.vi-stories-main-container.vi-stories-suggestion-overlay-show .GUI-module__gui.GUI-module__container::before{background-color:rgba(0,0,0,.7);bottom:0;content:"";height:10%;left:0;pointer-events:none;position:absolute;width:100%}.vi-stories-main-container.vi-stories-suggestion-overlay-show.vi-stories-width-max-500 .GUI-module__gui.GUI-module__container::before{height:20%}.vi-stories-ribbon-ui#vi-stories-main-container{width:100% !important}.vi-stories-ribbon-ui #vi-stories-description-container,.vi-stories-ribbon-ui.vi-stories-close-button-show.vi-stories-close-button-inside #vi-stories-description-container{background-color:#000;background-image:none;border-width:0px;bottom:auto;display:block;height:100%;overflow:hidden;position:absolute;right:0;top:0;width:53%}.vi-stories-ribbon-ui #vi-stories-title{color:#fff;font-size:15px;padding-top:24px}#vi-stories-license-info-button{background-color:rgba(0,0,0,0);background-image:url('+x+');background-repeat:no-repeat;background-size:cover;height:20px;margin-top:2px;width:20px}#vi-stories-gui-container #vi-stories-license-info-button{display:inline;margin-top:9px;position:absolute;right:15px}#vi-stories-license-info-dialog{background-color:rgba(255,255,255,.6);border-color:#ddd;border-radius:3px;border-style:solid;border-width:2px;bottom:0;color:#000;font-size:18px;height:150px;left:0;margin:auto;padding:15px;position:absolute;right:0;top:0;width:300px;z-index:10000000}#vi-stories-license-info-dialog .vi-stories-license-info-dialog-title{font-weight:bold}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dl{width:100%}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dt{clear:left;float:left;font-weight:bold}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-data dd{float:left;margin-left:10px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:60%}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-close-button{color:#000;font-size:25px;font-weight:bold;height:25px;line-height:1;position:absolute;right:0;top:0;width:25px}#vi-stories-license-info-dialog #vi-stories-license-info-dialog-close-button:after{display:inline-block;content:"Ã—"}.vi-stories-width-max-500 #vi-stories-license-info-credit-button{font-size:16px}.vi-stories-width-max-500 #vi-stories-license-info-dialog{font-size:13px;height:80px;width:215px}#vi-stories-playlist-container{border-color:#e3e3e3;border-style:solid;border-width:0px 1px 1px 1px;box-sizing:border-box;height:150px;margin:0px auto;position:relative;user-select:none;width:100%}#vi-stories-playlist-container #vi-stories-playlist-entries-viewport{height:100%;margin:0 20px;overflow:hidden}#vi-stories-playlist-container #vi-stories-playlist-entries{position:relative;width:150%;height:100%}#vi-stories-playlist-container .vi-stories-playlist-entry{background-color:rgba(125,125,125,.85);background-size:cover;border-color:#fff;border-style:solid;border-width:1px;box-sizing:border-box;display:inline-block;font-family:Verdana;height:calc(100% - 20px);margin:10px 7px;position:relative;width:calc((100% - 84px)/6)}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item{border-color:red}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item .vi-stories-playlist-entry-blur{display:block}#vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item .vi-stories-playlist-entry-icon{display:none}#vi-stories-playlist-container .vi-stories-playlist-entry:hover{border-color:red}#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-blur,#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-text,#vi-stories-playlist-container .vi-stories-playlist-entry:hover .vi-stories-playlist-entry-duration{display:block}#vi-stories-playlist-container .vi-stories-playlist-entry-blur{background:linear-gradient(to bottom, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);display:none;height:100%;position:absolute;width:100%}#vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-color:rgba(0,0,0,.7);background-image:url('+I+");background-position:8px center;background-repeat:no-repeat;background-size:60% 60%;border-color:#ccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;height:30px;left:50%;margin-left:-15px;margin-top:-15px;position:absolute;top:50%;width:30px}#vi-stories-playlist-container .vi-stories-playlist-entry-text{box-sizing:border-box;color:#fff;display:none;font-size:75%;height:25%;line-height:15px;overflow:hidden;padding:3% 5%;position:absolute;text-align:left;text-overflow:ellipsis;top:0;user-select:none;white-space:nowrap;width:100%;word-wrap:break-word}#vi-stories-playlist-container .vi-stories-playlist-entry-duration{background-color:red;border-radius:2px;bottom:10px;color:#fff;display:none;font-size:12px;height:20px;left:10px;line-height:20px;position:absolute;text-align:center;width:50px}#vi-stories-playlist-container .vi-stories-playlist-entry-now{background-color:red;bottom:0;color:#fff;font-size:75%;height:30px;line-height:30px;position:absolute;text-align:center;width:100%}#vi-stories-playlist-container .vi-stories-playlist-nav{background-color:#faf8f8;background-repeat:no-repeat;border:none;cursor:pointer;height:100%;outline:none;position:absolute;top:0;user-select:none;width:27px}#vi-stories-playlist-container .vi-stories-playlist-nav-left{background-image:url("+_+");background-position:-7px center;left:0}#vi-stories-playlist-container .vi-stories-playlist-nav-right{background-image:url("+P+');background-position:-14px center;right:0}.vi-stories-width-max-500 #vi-stories-playlist-container{height:70px}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry{height:calc(100% - 10px);margin:5px 2px;width:calc((100% - 24px)/6)}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-icon,.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-text,.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry .vi-stories-playlist-entry-duration{display:none}.vi-stories-width-max-500 #vi-stories-playlist-container .vi-stories-playlist-entry-now{display:none}.vi-stories-width-500-600 #vi-stories-playlist-container{height:100px}.vi-stories-width-500-600 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:5px center;height:20px;margin-left:-10px;margin-top:-10px;width:20px}.vi-stories-width-500-600 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;height:15px;left:5px;line-height:15px}.vi-stories-width-600-700 #vi-stories-playlist-container{height:110px}.vi-stories-width-600-700 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:5px center;height:20px;margin-left:-10px;margin-top:-10px;width:20px}.vi-stories-width-600-700 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;height:15px;left:5px;line-height:15px}.vi-stories-width-700-800 #vi-stories-playlist-container{height:120px}.vi-stories-width-700-800 #vi-stories-playlist-container .vi-stories-playlist-entry-icon{background-position:6px center;height:25px;margin-left:-13px;margin-top:-13px;width:25px}.vi-stories-width-700-800 #vi-stories-playlist-container .vi-stories-playlist-entry-duration{bottom:5px;left:5px}.vi-stories-prebid-container{position:relative;z-index:1}.vi-stories-player-container .vi-stories-skip-content-overlay{background-color:rgba(250,248,248,.7);border-radius:5px;bottom:50px;cursor:pointer;height:20px;line-height:20px;right:10px;padding:10px;position:absolute;user-select:none;z-index:10000000}.vi-stories-player-container .vi-stories-skip-content-overlay .vi-stories-continue-watching-label{display:inline-block;font-size:15px;vertical-align:middle}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-skip-content-overlay{height:15px;line-height:15px}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-skip-content-overlay .vi-stories-continue-watching-label{font-size:12px}.vi-stories-width-max-500.vi-stories-floating .vi-stories-player-container .vi-stories-skip-content-overlay{bottom:55px}.vi-stories-width-500-600.vi-stories-floating .vi-stories-player-container .vi-stories-skip-content-overlay{bottom:80px}.vi-stories-main-container .GUI-module__container .vi-stories-social-share-button{align-items:center;cursor:pointer;display:flex;height:40px;justify-content:center;width:36px}.vi-stories-main-container #av-container #av-inner #gui #buttons #right .vi-stories-social-share-button{float:left}.vi-stories-main-container .vi-stories-social-share-button::before{background-position-y:center;background-repeat:no-repeat;background-size:cover;content:"";display:inline-block;height:24px;vertical-align:middle;width:24px}.vi-stories-main-container .vi-stories-fb-share-button::before{background-image:url('+E+")}.vi-stories-main-container .vi-stories-tweet-button::before{background-image:url("+A+")}.vi-stories-main-container .vi-stories-linkedin-share-button::before{background-image:url("+M+")}#vi-stories-player-suggestion-overlay{background-color:rgba(0,0,0,.7);box-sizing:border-box;font-size:18px;height:90%;padding:25px;position:absolute;top:0;width:100%;z-index:10000000}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry{background-color:rgba(125,125,125,.85);background-size:cover;border-color:#fff;border-style:solid;border-width:1px;float:left;font-family:Verdana;height:calc(50% - 22px);margin:10px;position:relative;width:calc(50% - 22px)}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover{border-color:red}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-blur,#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-text,#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover .vi-stories-player-suggestion-duration{display:block}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-blur{background:linear-gradient(to bottom, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);display:none;height:100%;position:absolute;width:100%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-icon{background-color:rgba(0,0,0,.7);background-image:url("+I+");background-position:10px center;background-repeat:no-repeat;background-size:60% 60%;border-color:#ccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;height:40px;left:50%;margin-left:-20px;margin-top:-20px;position:absolute;top:50%;width:40px}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-text{box-sizing:border-box;color:#fff;display:none;height:25%;line-height:15px;overflow:hidden;padding:3% 5%;position:absolute;text-align:left;text-overflow:ellipsis;top:0;user-select:none;white-space:nowrap;width:100%;word-wrap:break-word}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration{background-color:red;border-radius:2px;bottom:20px;color:#fff;display:none;font-size:12px;height:20px;left:20px;line-height:20px;position:absolute;text-align:center;width:50px}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:nth-child(3):last-child{left:25%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(1){left:25%;top:25%}#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(2),#vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:first-child:nth-last-child(2)~.vi-stories-player-suggestion-entry{top:25%}.vi-stories-floating #vi-stories-player-suggestion-overlay{height:81%}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay{font-size:12px;height:80%;padding:10px}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry{height:calc(100% - 22px);left:0 !important;top:0 !important;width:calc(100% - 22px)}.vi-stories-width-max-500 #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-icon{background-position:8px center;height:30px;margin-left:-15px;margin-top:-15px;width:30px}.vi-stories-width-500-600 #vi-stories-player-suggestion-overlay{font-size:13px;padding:10px}.vi-stories-width-600-700 #vi-stories-player-suggestion-overlay{font-size:14px;padding:15px}.vi-stories-width-700-800 #vi-stories-player-suggestion-overlay{font-size:16px;padding:20px}.vi-stories-width-min-800.vi-stories-floating #vi-stories-player-suggestion-overlay{height:87%}.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-blur,.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-text,.vi-stories-mobile #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry .vi-stories-player-suggestion-duration{display:block}.vi-stories-top-div.viUnit4{padding-bottom:45px}.viUnit4 .vi-stories-width-max-500 #vi-stories-description-container{border-width:0px}.viUnit4 .vi-stories-width-max-500 #vi-stories-title{font-size:18px;font-weight:normal}.viUnit4 .vi-stories-width-max-500 #vi-stories-sponsor-powered{font-size:11px;opacity:1}.viUnit4 .vi-stories-width-max-500#vi-stories-main-container #vi-stories-sponsor-logo{height:20px;width:20px}.viUnit4 .vi-stories-width-500-600 #vi-stories-description-container,.viUnit4 .vi-stories-width-600-700 #vi-stories-description-container,.viUnit4 .vi-stories-width-700-800 #vi-stories-description-container,.viUnit4 .vi-stories-width-min-800 #vi-stories-description-container{border-width:0px;height:100%;position:absolute;right:0;top:0;width:300px}.viUnit4 .vi-stories-width-500-600 #vi-stories-title,.viUnit4 .vi-stories-width-600-700 #vi-stories-title,.viUnit4 .vi-stories-width-700-800 #vi-stories-title,.viUnit4 .vi-stories-width-min-800 #vi-stories-title{font-weight:normal;margin:0;padding:0}.viUnit4 .vi-stories-width-500-600 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-600-700 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-700-800 #vi-stories-sponsor-powered,.viUnit4 .vi-stories-width-min-800 #vi-stories-sponsor-powered{font-size:11px;opacity:1}.viUnit4 .vi-stories-width-500-600 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-600-700 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-700-800 #vi-stories-sponsor-container,.viUnit4 .vi-stories-width-min-800 #vi-stories-sponsor-container{bottom:2px;height:20px;line-height:20px;position:absolute;width:100%}.viUnit4 .vi-stories-width-500-600 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-600-700 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-700-800 #vi-stories-preloader-play-icon,.viUnit4 .vi-stories-width-min-800 #vi-stories-preloader-play-icon{left:25%}.vi-stories-player-container .vi-stories-unmute-overlay{background-color:rgba(250,248,248,.7);border-radius:5px;cursor:pointer;height:30px;left:30px;padding:10px;position:absolute;user-select:none;z-index:10000000}.vi-stories-player-container .vi-stories-unmute-overlay::before{background-image:url("+S+');background-position-y:center;background-repeat:no-repeat;background-size:cover;content:"";display:inline-block;height:30px;vertical-align:middle;width:32px}.vi-stories-player-container .vi-stories-unmute-overlay.vi-stories-unmute-overlay-ad{top:30px}.vi-stories-player-container .vi-stories-unmute-overlay.vi-stories-unmute-overlay-content{bottom:50px}.vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{display:inline-block;font-size:20px;padding-left:10px;vertical-align:middle}.vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label.displayNone{display:none}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay{height:15px}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay::before{height:15px;width:19px}.vi-stories-width-max-500 .vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{font-size:12px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay{height:20px;left:30px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay::before{height:20px;width:25px}.vi-stories-width-500-600 .vi-stories-player-container .vi-stories-unmute-overlay .vi-stories-unmute-label{font-size:16px}',""]);const T=C},773:(t,i,e)=>{e.r(i),e.d(i,{default:()=>p});var s=e(81),n=e.n(s),o=e(645),r=e.n(o),a=e(667),l=e.n(a),d=new URL(e(310),e.b),h=new URL(e(724),e.b),v=r()(n()),c=l()(d),g=l()(h);v.push([t.id,".vi-stories-remote-control,.vi-stories-remote-control div,.vi-stories-remote-control span,.vi-stories-remote-control object,.vi-stories-remote-control iframe,.vi-stories-remote-control audio,.vi-stories-remote-control video,.vi-stories-remote-control dl,.vi-stories-remote-control dt,.vi-stories-remote-control dd,.vi-stories-remote-control button{background:rgba(0,0,0,0);border:0;bottom:auto;box-shadow:none;box-sizing:content-box;clear:none;font-size:100%;left:auto;line-height:inherit;margin:0;outline:none;overflow:visible;padding:0;position:static;right:auto;text-align:left;top:auto;vertical-align:baseline;word-spacing:normal}.vi-stories-remote-control a{background:rgba(0,0,0,0);font-size:100%;margin:0;padding:0;vertical-align:baseline}.vi-stories-remote-control{border-color:#e3e3e3;border-style:solid;border-width:1px;box-sizing:border-box;height:100px;margin-bottom:15px;position:relative;width:100%}.vi-stories-remote-control.displayNone{display:none}.vi-stories-remote-control .vi-stories-remote-control-thumbnail{background-repeat:no-repeat;background-size:cover;height:100%;left:0;position:absolute;top:0;width:174px}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-playback-button{background-color:rgba(0,0,0,.4);background-repeat:no-repeat;background-size:62% 52%;border-color:#ccc;border-radius:50%;border-style:solid;border-width:2px;box-sizing:content-box;cursor:pointer;height:30px;left:50%;margin:auto;outline:none;padding:6px;position:absolute;top:50%;transform:translate(-50%, -50%);width:30px}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-play-button{background-image:url("+c+");background-position:11px center}.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-pause-button{background-image:url("+g+");background-position:9px center}.vi-stories-remote-control .vi-stories-remote-control-description{align-items:center;display:flex;height:100%;position:absolute;right:0;top:0;width:calc(100% - 174px)}.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-title{color:#000;font-family:Verdana;font-size:18px;font-weight:bold;padding:10px;text-align:left;word-wrap:break-word}.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-sponsor-logo{bottom:0;display:inline;height:20px;margin:0 8px 8px 0;position:absolute;right:0;width:20px}.vi-stories-width-max-500.vi-stories-remote-control{height:70px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail{width:120px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-playback-button{height:15px;width:15px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-play-button{background-position:7px center}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-thumbnail .vi-stories-remote-control-pause-button{background-position:6px center}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description{width:calc(100% - 120px)}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-title{font-size:10px}.vi-stories-width-max-500.vi-stories-remote-control .vi-stories-remote-control-description .vi-stories-remote-control-sponsor-logo{height:15px;margin:0 5px 5px 0;width:15px}",""]);const p=v},645:t=>{t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var e="",s=void 0!==i[5];return i[4]&&(e+="@supports (".concat(i[4],") {")),i[2]&&(e+="@media ".concat(i[2]," {")),s&&(e+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),e+=t(i),s&&(e+="}"),i[2]&&(e+="}"),i[4]&&(e+="}"),e})).join("")},i.i=function(t,e,s,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(s)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(r[l]=!0)}for(var d=0;d<t.length;d++){var h=[].concat(t[d]);s&&r[h[0]]||(void 0!==o&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=o),e&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=e):h[2]=e),n&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=n):h[4]="".concat(n)),i.push(h))}},i}},667:t=>{t.exports=function(t,i){return i||(i={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),i.hash&&(t+=i.hash),/["'() \t\n]|(%20)/.test(t)||i.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var i=[];function e(t){for(var e=-1,s=0;s<i.length;s++)if(i[s].identifier===t){e=s;break}return e}function s(t,s){for(var o={},r=[],a=0;a<t.length;a++){var l=t[a],d=s.base?l[0]+s.base:l[0],h=o[d]||0,v="".concat(d," ").concat(h);o[d]=h+1;var c=e(v),g={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==c)i[c].references++,i[c].updater(g);else{var p=n(g,s);s.byIndex=a,i.splice(a,0,{identifier:v,updater:p,references:1})}r.push(v)}return r}function n(t,i){var e=i.domAPI(i);e.update(t);return function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap&&i.supports===t.supports&&i.layer===t.layer)return;e.update(t=i)}else e.remove()}}t.exports=function(t,n){var o=s(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var a=e(o[r]);i[a].references--}for(var l=s(t,n),d=0;d<o.length;d++){var h=e(o[d]);0===i[h].references&&(i[h].updater(),i.splice(h,1))}o=l}}},569:t=>{var i={};t.exports=function(t,e){var s=function(t){if(void 0===i[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}i[t]=e}return i[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}},216:t=>{t.exports=function(t){var i=document.createElement("style");return t.setAttributes(i,t.attributes),t.insert(i,t.options),i}},565:(t,i,e)=>{t.exports=function(t){var i=e.nc;i&&t.setAttribute("nonce",i)}},795:t=>{t.exports=function(t){var i=t.insertStyleElement(t);return{update:function(e){!function(t,i,e){var s="";e.supports&&(s+="@supports (".concat(e.supports,") {")),e.media&&(s+="@media ".concat(e.media," {"));var n=void 0!==e.layer;n&&(s+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),s+=e.css,n&&(s+="}"),e.media&&(s+="}"),e.supports&&(s+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),i.styleTagTransform(s,t,i.options)}(i,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)}}}},589:t=>{t.exports=function(t,i){if(i.styleSheet)i.styleSheet.cssText=t;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(t))}}},872:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2717%27 height=%2716%27%3E %3Cpath fill=%27%23000%27 d=%27M4 5H0v6h4l5 4V1zM16.9 5.6l-.8-.7-2.3 2.4-2.4-2.4-.8.7L13 8l-2.4 2.4.8.7 2.4-2.4 2.3 2.4.8-.7L14.5 8z%27/%3E %3C/svg%3E"},613:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27512%27 height=%27512%27 viewBox=%270 0 16 16%27%3E%3Cpath fill=%27%23FFF%27 d=%27M15.1 3.1L12.9.9 8 5.9 3.1.9.9 3.1l5 4.9-5 4.9 2.2 2.2 4.9-5 4.9 5 2.2-2.2-5-4.9z%27/%3E%3C/svg%3E"},522:t=>{t.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%27512%27 height=%27512%27 viewBox=%270 0 20 20%27%3E%3Cpath fill=%27%23000%27 d=%27M10.185,1.417c-4.741,0-8.583,3.842-8.583,8.583c0,4.74,3.842,8.582,8.583,8.582S18.768,14.74,18.768,10C18.768,5.259,14.926,1.417,10.185,1.417 M10.185,17.68c-4.235,0-7.679-3.445-7.679-7.68c0-4.235,3.444-7.679,7.679-7.679S17.864,5.765,17.864,10C17.864,14.234,14.42,17.68,10.185,17.68 M10.824,10l2.842-2.844c0.178-0.176,0.178-0.46,0-0.637c-0.177-0.178-0.461-0.178-0.637,0l-2.844,2.841L7.341,6.52c-0.176-0.178-0.46-0.178-0.637,0c-0.178,0.176-0.178,0.461,0,0.637L9.546,10l-2.841,2.844c-0.178,0.176-0.178,0.461,0,0.637c0.178,0.178,0.459,0.178,0.637,0l2.844-2.841l2.844,2.841c0.178,0.178,0.459,0.178,0.637,0c0.178-0.176,0.178-0.461,0-0.637L10.824,10z%27/%3E%3C/svg%3E"},738:t=>{t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gU3ZnIFZlY3RvciBJY29ucyA6IGh0dHA6Ly93d3cub25saW5ld2ViZm9udHMuY29tL2ljb24gLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAwIDEwMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiICA+DQo8Zz4NCgk8cGF0aCBkPSJNNTAwLDg0LjJjNTYuMiwwLDExMC42LDExLDE2MS44LDMyLjZjNDkuNSwyMC45LDk0LDUwLjksMTMyLjIsODkuMWMzOC4yLDM4LjIsNjguMiw4Mi43LDg5LjEsMTMyLjJjMjEuNyw1MS4yLDMyLjYsMTA1LjcsMzIuNiwxNjEuOGMwLDU2LjItMTEsMTEwLjYtMzIuNiwxNjEuOGMtMjAuOSw0OS41LTUwLjksOTQtODkuMSwxMzIuMmMtMzguMiwzOC4yLTgyLjcsNjguMi0xMzIuMiw4OS4xYy01MS4yLDIxLjctMTA1LjcsMzIuNi0xNjEuOCwzMi42Yy01Ni4yLDAtMTEwLjYtMTEtMTYxLjgtMzIuNmMtNDkuNS0yMC45LTk0LTUwLjktMTMyLjItODkuMWMtMzguMi0zOC4yLTY4LjItODIuNy04OS4xLTEzMi4yQzk1LjIsNjEwLjYsODQuMiw1NTYuMiw4NC4yLDUwMGMwLTU2LjIsMTEtMTEwLjYsMzIuNi0xNjEuOGMyMC45LTQ5LjUsNTAuOS05NCw4OS4xLTEzMi4yYzM4LjItMzguMiw4Mi43LTY4LjIsMTMyLjItODkuMUMzODkuNCw5NS4yLDQ0My44LDg0LjIsNTAwLDg0LjIgTTUwMCwxMEMyMjkuNCwxMCwxMCwyMjkuNCwxMCw1MDBzMjE5LjQsNDkwLDQ5MCw0OTBjMjcwLjYsMCw0OTAtMjE5LjQsNDkwLTQ5MFM3NzAuNiwxMCw1MDAsMTBMNTAwLDEweiIgZmlsbD0iI2ZmZmZmZiIvPg0KCTxwYXRoIGQ9Ik00NTAuMSwzMzIuMnYtOTIuM2g5OS43djkyLjNINDUwLjF6IE00NTAuMSw3NjAuMVYzODMuM2g5OS43djM3Ni44SDQ1MC4xeiIgZmlsbD0iI2ZmZmZmZiIvPjwvZz4NCjwvc3ZnPg=="},724:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtMyAyMmg2di0yMGgtNnYyMHogbTEwLTIwdjIwaDZ2LTIwaC02eiIvPjwvc3ZnPg=="},310:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNC45LDF2MjFsMTYuNS0xMC41TDQuOSwxeiIvPjwvc3ZnPg=="},309:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIyIDAgMjMgMjMiIHN0eWxlPSJmaWxsOndoaXRlIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNi45LDN2MTdsMTMuNS04LjVMNi45LDN6Ii8+PC9zdmc+"},392:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+NDgvbmV4dC1sYXJnZTwvdGl0bGU+PGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+PHBhdGggZD0iTTM4IDI0LjUxNHYtMS4wMjhMMjIuNjc3IDYuNzRjLS4zNzQtLjQxLS45ODQtLjQyNS0xLjM3My0uMDI0bC0xLjEwOCAxLjE0Yy0uMzg0LjM5NS0uMzkzIDEuMDM4LS4wMTYgMS40NEwzNCAyNCAyMC4xOCAzOC43MDVjLS4zNzYuNC0uMzczIDEuMDQuMDE2IDEuNDRsMS4xMDggMS4xNGMuMzg0LjM5NCAxIC4zOCAxLjM3My0uMDI1TDM4IDI0LjUxNHoiIGZpbGw9IiM5OTkiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg=="},26:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48dGl0bGU+NDgvcHJldmlvdXMtbGFyZ2U8L3RpdGxlPjxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPjxwYXRoIGQ9Ik0xMCAyNC41MTR2LTEuMDI4TDI1LjMyMyA2Ljc0Yy4zNzQtLjQxLjk4NC0uNDI1IDEuMzczLS4wMjRsMS4xMDggMS4xNGMuMzg0LjM5NS4zOTMgMS4wMzguMDE2IDEuNDRMMTQgMjRsMTMuODIgMTQuNzA1Yy4zNzYuNC4zNzMgMS4wNC0uMDE2IDEuNDRsLTEuMTA4IDEuMTRjLS4zODQuMzk0LTEgLjM4LTEuMzczLS4wMjVMMTAgMjQuNTE0eiIgZmlsbD0iIzk5OSIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+"},252:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTAwJSIgc3R5bGU9ImZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoyOyIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSIxMDAlIiA+PHJlY3QgaGVpZ2h0PSI0MDAiIHN0eWxlPSJmaWxsOm5vbmU7IiB3aWR0aD0iNDAwIiB4PSI1NiIgeT0iNTYiLz48cGF0aCBkPSJNMTYxLjAxNCw0NjQuMDEzYzE5My4yMDgsMCAyOTguODg1LC0xNjAuMDcxIDI5OC44ODUsLTI5OC44ODVjMCwtNC41NDYgMCwtOS4wNzIgLTAuMzA3LC0xMy41NzhjMjAuNTU4LC0xNC44NzEgMzguMzA1LC0zMy4yODIgNTIuNDA4LC01NC4zNzRjLTE5LjE3MSw4LjQ5NSAtMzkuNTEsMTQuMDY1IC02MC4zMzQsMTYuNTI3YzIxLjkyNCwtMTMuMTI0IDM4LjM0MywtMzMuNzgyIDQ2LjE4MiwtNTguMTAyYy0yMC42MTksMTIuMjM1IC00My4xOCwyMC44NTkgLTY2LjcwMywyNS40OThjLTE5Ljg2MiwtMjEuMTIxIC00Ny42MDIsLTMzLjExMiAtNzYuNTkzLC0zMy4xMTJjLTU3LjY4MiwwIC0xMDUuMTQ1LDQ3LjQ2NCAtMTA1LjE0NSwxMDUuMTQ0YzAsOC4wMDIgMC45MTQsMTUuOTc5IDIuNzIyLDIzLjc3M2MtODQuNDE4LC00LjIzMSAtMTYzLjE4LC00NC4xNjEgLTIxNi40OTQsLTEwOS43NTJjLTI3LjcyNCw0Ny43MjYgLTEzLjM3OSwxMDkuNTc2IDMyLjUyMiwxNDAuMjI2Yy0xNi43MTUsLTAuNDk1IC0zMy4wNzEsLTUuMDA1IC00Ny42NzcsLTEzLjE0OGwwLDEuMzMxYzAuMDE0LDQ5LjgxNCAzNS40NDcsOTMuMTExIDg0LjI3NSwxMDIuOTc0Yy0xNS40NjQsNC4yMTcgLTMxLjY5Myw0LjgzMyAtNDcuNDMxLDEuODAyYzEzLjcyNyw0Mi42ODUgNTMuMzExLDcyLjEwOCA5OC4xNCw3Mi45NWMtMzcuMTksMjkuMjI3IC04My4xNTcsNDUuMTAzIC0xMzAuNDU4LDQ1LjA1NmMtOC4zNTgsLTAuMDE2IC0xNi43MDgsLTAuNTIyIC0yNS4wMDYsLTEuNTE2YzQ4LjAzNCwzMC44MjUgMTAzLjk0LDQ3LjE4IDE2MS4wMTQsNDcuMTA0IiBzdHlsZT0iZmlsbDojMWRhMWYyO2ZpbGwtcnVsZTpub256ZXJvOyIvPjwvc3ZnPg=="},683:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTBweCIgaGVpZ2h0PSIxNTBweCIgdmlld0JveD0iMCAwIDQzMC4xMTcgNDMwLjExOCI+PGc+PHJlY3Qgd2lkdGg9IjgwJSIgaGVpZ2h0PSI5MCUiIHg9IjEwJSIgeT0iMTAlIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTM5OC4zNTUsMEgzMS43ODJDMTQuMjI5LDAsMC4wMDIsMTMuNzkzLDAuMDAyLDMwLjgxN3YzNjguNDcxICAgYzAsMTcuMDI1LDE0LjIzMiwzMC44MywzMS43OCwzMC44M2gzNjYuNTczYzE3LjU0OSwwLDMxLjc2LTEzLjgxNCwzMS43Ni0zMC44M1YzMC44MTdDNDMwLjExNSwxMy43OTgsNDE1LjkwNCwwLDM5OC4zNTUsMHogICAgTTEzMC40LDM2MC4wMzhINjUuNDEzVjE2NS44NDVIMTMwLjRWMzYwLjAzOHogTTk3LjkxMywxMzkuMzE1aC0wLjQzN2MtMjEuNzkzLDAtMzUuOTItMTQuOTA0LTM1LjkyLTMzLjU2MyAgIGMwLTE5LjAzNSwxNC41NDItMzMuNTM1LDM2Ljc2Ny0zMy41MzVjMjIuMjI3LDAsMzUuODk5LDE0LjQ5NiwzNi4zMzEsMzMuNTM1QzEzNC42NTQsMTI0LjQxNSwxMjAuNTU1LDEzOS4zMTUsOTcuOTEzLDEzOS4zMTV6ICAgIE0zNjQuNjU5LDM2MC4wMzhoLTY0Ljk2NlYyNTYuMTM4YzAtMjYuMTA3LTkuNDEzLTQzLjkyMS0zMi45MDctNDMuOTIxYy0xNy45NzMsMC0yOC42NDIsMTIuMDE4LTMzLjMyNywyMy42MjEgICBjLTEuNzM2LDQuMTQ0LTIuMTY2LDkuOTQtMi4xNjYsMTUuNzI4djEwOC40NjhoLTY0Ljk1NGMwLDAsMC44NS0xNzUuOTc5LDAtMTk0LjE5Mmg2NC45NjR2MjcuNTMxICAgYzguNjI0LTEzLjIyOSwyNC4wMzUtMzIuMSw1OC41MzQtMzIuMWM0Mi43NiwwLDc0LjgyMiwyNy43MzksNzQuODIyLDg3LjQxNFYzNjAuMDM4eiBNMjMwLjg4MywxOTMuOTkgICBjMC4xMTEtMC4xODIsMC4yNjYtMC40MDEsMC40Mi0wLjYxNHYwLjYxNEgyMzAuODgzeiIgZmlsbD0iIzQ4NzViNCIvPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4="},776:t=>{t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cmVjdCB3aWR0aD0iODAlIiBoZWlnaHQ9IjkwJSIgeD0iMTAlIiB5PSIxMCUiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNMjIuNjc1IDBoLTIxLjM1Yy0uNzMyIDAtMS4zMjUuNTkzLTEuMzI1IDEuMzI1djIxLjM1MWMwIC43MzEuNTkzIDEuMzI0IDEuMzI1IDEuMzI0aDExLjQ5NXYtOS4yOTRoLTMuMTI4di0zLjYyMmgzLjEyOHYtMi42NzFjMC0zLjEgMS44OTMtNC43ODggNC42NTktNC43ODggMS4zMjUgMCAyLjQ2My4wOTkgMi43OTUuMTQzdjMuMjRsLTEuOTE4LjAwMWMtMS41MDQgMC0xLjc5NS43MTUtMS43OTUgMS43NjN2Mi4zMTNoMy41ODdsLS40NjcgMy42MjJoLTMuMTJ2OS4yOTNoNi4xMTZjLjczIDAgMS4zMjMtLjU5MyAxLjMyMy0xLjMyNXYtMjEuMzVjMC0uNzMyLS41OTMtMS4zMjUtMS4zMjUtMS4zMjV6IiBzdHlsZT0iZmlsbDojM2I1OTk4O2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpub256ZXJvO3N0cm9rZTpub25lIi8+PC9zdmc+"}},__webpack_module_cache__={},inProgress,dataWebpackPrefix;function __webpack_require__(t){var i=__webpack_module_cache__[t];if(void 0!==i)return i.exports;var e=__webpack_module_cache__[t]={id:t,exports:{}};return __webpack_modules__[t](e,e.exports,__webpack_require__),e.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return __webpack_require__.d(i,{a:i}),i},__webpack_require__.d=(t,i)=>{for(var e in i)__webpack_require__.o(i,e)&&!__webpack_require__.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},__webpack_require__.f={},__webpack_require__.e=t=>Promise.all(Object.keys(__webpack_require__.f).reduce(((i,e)=>(__webpack_require__.f[e](t,i),i)),[])),__webpack_require__.u=t=>t+".m.js",__webpack_require__.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),inProgress={},dataWebpackPrefix="vi-stories:",__webpack_require__.l=(t,i,e,s)=>{if(inProgress[t])inProgress[t].push(i);else{var n,o;if(void 0!==e)for(var r=document.getElementsByTagName("script"),a=0;a<r.length;a++){var l=r[a];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")==dataWebpackPrefix+e){n=l;break}}n||(o=!0,(n=document.createElement("script")).charset="utf-8",n.timeout=120,__webpack_require__.nc&&n.setAttribute("nonce",__webpack_require__.nc),n.setAttribute("data-webpack",dataWebpackPrefix+e),n.src=t),inProgress[t]=[i];var d=(i,e)=>{n.onerror=n.onload=null,clearTimeout(h);var s=inProgress[t];if(delete inProgress[t],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach((t=>t(e))),i)return i(e)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=d.bind(null,n.onerror),n.onload=d.bind(null,n.onload),o&&document.head.appendChild(n)}},__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.p="https://s.vi-serve.com/",(()=>{__webpack_require__.b=document.baseURI||self.location.href;var t={source:0};__webpack_require__.f.j=(i,e)=>{var s=__webpack_require__.o(t,i)?t[i]:void 0;if(0!==s)if(s)e.push(s[2]);else{var n=new Promise(((e,n)=>s=t[i]=[e,n]));e.push(s[2]=n);var o=__webpack_require__.p+__webpack_require__.u(i),r=new Error;__webpack_require__.l(o,(e=>{if(__webpack_require__.o(t,i)&&(0!==(s=t[i])&&(t[i]=void 0),s)){var n=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;r.message="Loading chunk "+i+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,s[1](r)}}),"chunk-"+i,i)}};var i=(i,e)=>{var s,n,[o,r,a]=e,l=0;if(o.some((i=>0!==t[i]))){for(s in r)__webpack_require__.o(r,s)&&(__webpack_require__.m[s]=r[s]);if(a)a(__webpack_require__)}for(i&&i(e);l<o.length;l++)n=o[l],__webpack_require__.o(t,n)&&t[n]&&t[n][0](),t[n]=0},e=self.webpackJsonpViS=self.webpackJsonpViS||[];e.forEach(i.bind(null,0)),e.push=i.bind(null,e.push.bind(e))})(),__webpack_require__.nc=void 0;var __webpack_exports__={};(()=>{const t={amp:!1,fif:!0,mobile:!1,pageDomain:null,pageLanguage:null,pageUrl:null,canonicalUrl:null,sessionId:null,adUnitId:null,abTestingId:null,obAbTestIds:null,asid:null,lazyPaused:0,lazyTrigger:"",isEU:!1,consent:0},i={adIsLoaded:!1,adUnitIsClicked:!1,adUnitIsFloated:void 0,adUnitIsHidden:!1,adUnitIsSticky:void 0,adUnitInView:!1,adUnitInViewOnce:!1,closeReason:void 0,currentVideoType:void 0,defaultVideo:void 0,displayAdIsVisible:!1,outOfViewPaused:!1,pageIsVisible:!0,pendingNextIdx:void 0,pendingNextTrack:!1,playerIsMuted:!0,playerIsPaused:!0,playerIsPausedByUser:!1,remoteControlInViewOnce:!1},e="dmlkZW8gaW50ZWxsaWdlbmNl",s="dmlkZW8gaW50ZWxsaWdlbmNlIHF1ZXVl",n=["adsources_get_start","adsources_get_end","ad_bid","ad_log","ad_reject","ad_queued","ad_ready","ad_imp","ad_viewable_imp","ad_25","ad_50","ad_75","ad_100","ad_resume","ad_pause","ad_skip","ad_click","wf_end","content_start","content_25","content_50","content_75","content_100","content_autostart","content_play","content_resume","content_pause","content_click","content_timeline_click","player_loaded","player_inview","mute","unmute","close","error","hide_player"],o=["Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/534+ (KHTML, like Gecko) BingPreview/1.0b","Mozilla/5.0 (compatible; Seekport Crawler; http://seekport.com/","Mozilla/5.0 (Macintosh; U; Intel Mac OS X; en-US) AppleWebKit/537.36 (KHTML, like Gecko) cXensebot/2.0; +http://www.cxense.com/bot.html Safari/533.3","Mozilla/5.0 (compatible; Pinterestbot/1.0; +http://www.pinterest.com/bot.html)","Mozilla/5.0 (compatible; bingbot/2.0; +http://www.bing.com/bingbot.htm)","Mozilla/5.0 (compatible; adidxbot/2.0; +http://www.bing.com/bingbot.htm)"],r={tagConfig:{AbTesting:null,AccentColor:"",AccentTextColor:"",AdBreakRetry:!1,AdBreakRetrySettings:{retryCount:2,retryDelay:30},AdUnitType:"2",AllowImaAdsInHiddenMode:!1,AllowMultipleInstances:!1,AllowNonFriendlyIframe:!1,AllowSticky2s:!0,AllowSticky2sSettings:{offsetTop:0},AppBundle:"",AppPageTitle:"",AppPageUrl:"",AreaAbovePlaceholder:!1,AutoStart:!1,AutoStartAds:!0,BsSegment:"",BG_Color:"",BlockCookieSync:!1,BlockWaterfallCondition:"",BorderColor:"",CallbackFunction:null,CheckUnitOverlap:"IMP, VIEWABLE_IMP, AD_50, AD_100, NV_LOADED",ClickToPlay:!1,ClickToPlayAdSources:!1,CloseButton:"whileFloating",CloseButtonSettings:{location:"outside-vi-unit",position:"top-right"},CompanionAds:null,ContentClickthrough:"",ControlBarAutohide:!1,ControlBarAutohideSettings:{timeout:3},CustomActions:null,CustomAdParams:null,CustomMetaParams:null,CustomParams:null,CustomTracking:null,CustomTrackingUrlDispImp:"",CustomTrackingUrlDispBImp:"",CustomTrackingUrlError:"",CustomTrackingUrlImpression:"",CustomTrackingUrlPlacement:"",CustomViCSS:"",DefaultVideo:null,DelayWaterfallStart:!1,DemoVideos:null,DisplayAd:null,DisplayBanner:null,DivContainer:null,DivID:"",ExactCategoriesOnly:!1,ExtDemandParams:"",ExtPublisherID:"",ExtSchainGroupId:"",ExtSchainId:"",FallbackTag:"",FallbackTagSettings:{startTimeout:0,waitForAdReady:!1},FixedRatio:null,Float:!0,FloatLayoutMode:"",FloatLayoutSettings:{ribbonPlayerWidth:.47},FloatSettings:{any:{transformOrigin:"bottom right",position:{bottom:"0px",right:"0px"},originSelector:"",originOffset:{}},floatOnPaused:!1,floatFromStart:!1},FloatSize:.75,FloatLimit:336,Font:"",FontSize:"",FullscreenButton:!1,GdprConsent:0,HideUnit:"",IAB_Category:"",IASPixelEnabled:!1,IgnoreIndirectOpaInView:!1,IncludeVideoKeywords:!1,InViewRatio:.5,JumpOutOfIframe:!1,Keywords:"",KeywordSearch:null,KeywordStop:null,Language:"en-US",LazyLoading:!1,LazyLoadingSettings:{offset:"500px",pageLoad:!0,pageScroll:!1,timeout:3},LogoUrl:"https://s.vi-serve.com/vi_logo.svg",NoAds:!1,ObAbTest:null,ObAbTestList:"",ObAgr:!0,ObGetOdbUrl:null,ObIsOnyx:!1,ObIsSticky:null,ObPageUrl:"",ObVersion:"",ObSessionId:"",ObSubWidgetId:"",ObTimeZero:null,ObUniquePlacementId:"",ObWidgetId:"",OverlayMode:0,OverlaySettings:{showLogoOutside:!1},osTrackingEnabled:!1,PauseOutOfView:!1,PauseOutOfViewSettings:{beforeSeconds:0},PauseOutOfViewPlaylist:!0,PlacementSelector:null,Player:"playerVI",PlayerAdStartOverlayText:"",PlayerAdOverlayText:"",PlayerAdOverlaySettings:{adBreakType:"preroll",duration:4,startDelay:1,position:"bottom-right",thumbnail:!0},PlayerAggressiveness:null,PlayerContentOverlayThumbnail:!1,PlayerContentOverlayText:"",PlayerContentOverlaySettings:{duration:10,position:"top-right",thumbnail:!1},PlayerOverlayTextPosition:"",PlayerSuggestionOverlay:"",PlayerSuggestionOverlayNo:4,PlayInView:!1,PlayInFocus:!1,PlaylistLength:5,PlaylistMode:1,PlaylistSettings:{ui:"none",autoScroll:!0},PlaylistRandomOrder:!1,Prebid:!1,RafWrapperEnabled:!0,Resize65:!0,Resize65Ratio:1.2,ResizeCheckAfterLoad:!0,ResizeIframe:null,SendPageKeywords:!0,SkipContent:!1,SkipContentSettings:{contentPlayTime:10,labelShowTime:5,label:"Continue watching"},SocialSharing:null,SponsorPosition:"bottom-right",StopCondition:"",TextAbove:"",ThumbnailUrl:null,Text_Color:"",TimeTrackerInterval:0,TimeTrackerLimit:600,TitleText:null,TruncateTitleLines:2,UnmuteOverlay:null,UnmuteOnClickStart:!0,UnmuteFromStart:!1,UseAllCategories:!1,UseContextualApi:!1,UseOnlyCategories:!1,UserCategories:"",VersionOfBuild:"v1.95.9",VersionOfTag:"",VideoApiUrl:"",VideoIds:"",VideoUrl:null,ViSchainId:"",ViVideoPlayerSettings:null,ZIndexBase:899,ZIndexFloat:901},remoteControlConfig:{CustomViCSS:"",Enable:!1,HideAfterStart:!1,OpenAnim:!1,PlacementSelector:null},prebidConfig:{url:"",bidderTimeout:2e3,adUnits:[],startInView:!0,consentManagement:!0,globalVarName:"pbjsVidInt"},viPlayerConfig:{src:"",skipTimer:0,muted:!0,openAnim:!1,cacheAdSources:!0,preroll:1,midroll:1,prerolldelay:0,midrolltime:5,maximp:3,maxrun:30,maxAdErrors:24,waterfallRetry:24,env:{amp:!1,fif:!0,pageDomain:null,pageLanguage:null,pageUrl:null},macros:{},trackingParams:{},videoContext:"",abTestingId:null,obAbTestIds:null,obAbTestList:null,obIsOnyx:!1,obSubWidgetId:"",obTimeZero:null,obUniquePlacementId:"",obVersion:"",obWidgetId:"",adUnitType:"",enableAdServerOBTracking:!1},mobile:{tagConfig:{Float:!1,FloatLimit:!1}},video:[{id:"3tza13MByJmLcwxnZY8-",sourceId:"922",feedId:1640,url:"https://nv.vi-serve.com/vis-media/922/1640/3tza13MByJmLcwxnZY8-_720p.mp4",title:"10 Interesting Facts About Earth's Oceans",thumbnail:"https://nv.vi-serve.com/vis-media/922/1640/3tza13MByJmLcwxnZY8-.jpg",duration:81,description:"",keywords:""}],videoIdx:0};var a=__webpack_require__(651);const l={1:{preroll:1,midrolltime:30,maximp:2,maxrun:2,maxAdErrors:2,maxFetchedAds:1,waterfallRetry:3},2:{preroll:1,midrolltime:20,maximp:4,maxrun:4,maxAdErrors:6,maxFetchedAds:1,waterfallRetry:6},3:{preroll:2,midrolltime:10,maximp:10,maxrun:40,maxAdErrors:20,maxFetchedAds:2,waterfallRetry:30},4:{preroll:2,midrolltime:5,maximp:20,maxrun:60,maxAdErrors:30,maxFetchedAds:2,waterfallRetry:50},5:{preroll:3,midrolltime:3,maximp:30,maxrun:120,maxAdErrors:60,maxFetchedAds:3,waterfallRetry:100}};var d=__webpack_require__(714),h=__webpack_require__(282);class v{constructor(t,i){this.v=t,this.descriptionContainer=document.createElement("div"),this.descriptionContainer.id="vi-stories-description-container",this.descriptionContainer.classList.add("vi-stories-z-index-base","vi-stories-hide-while-floating"),i&&(this.descriptionContainer.style.height=i+"px"),this.v.video[this.v.videoIdx].title&&(this.titleDiv=document.createElement("div"),this.titleDiv.id="vi-stories-title",this.titleDiv.innerText=this.v.video[this.v.videoIdx].title,"top-left"===this.v.tagConfig.SponsorPosition||"top-right"===this.v.tagConfig.SponsorPosition&&this.titleDiv.classList.add("marginBottom","marginBottom20"),this.descriptionContainer.appendChild(this.titleDiv)),0===this.v.tagConfig.OverlayMode&&this.v.tagConfig.OverlaySettings&&!1===this.v.tagConfig.OverlaySettings.showLogoOutside&&(this.sponsor=new h.V(this.v),this.descriptionContainer.appendChild(this.sponsor.container)),this.update()}get container(){return this.descriptionContainer}update(){if(this.titleDiv)if(this.v.video[this.v.videoIdx].title&&(this.titleDiv.innerText=this.v.video[this.v.videoIdx].title),"he"===this.v.video[this.v.videoIdx].language&&this.titleDiv.classList.add("vi-stories-direction-rtl"),this.titleDiv.classList.remove("viTruncate1Line"),1===this.v.tagConfig.TruncateTitleLines)this.titleDiv.classList.add("viTruncate1Line");else if(this.v.tagConfig.TruncateTitleLines>0){const t=this.v.topDiv.querySelector("#vi-stories-main-container"),i=t&&t.offsetWidth<500?24:36,e=this.sponsor&&this.sponsor.container.offsetHeight||0;let s=this.v.tagConfig.FixedRatio?this.descriptionContainer.offsetHeight-e+i/4:i*this.v.tagConfig.TruncateTitleLines;if(window.frameElement){const t=.33*window.frameElement.offsetHeight-i;s=t>i&&t<s?t:t>s?s:i}if(this.titleDiv&&this.titleDiv.offsetHeight>s){for(;;){let t=this.titleDiv.innerText.replace(/[\s]([^\s])+$/,(function(t,i,e,s){return""}));if(t.length===this.titleDiv.innerText.length&&(t=t.substr(0,t.length-3)),this.titleDiv.innerText=t+"...",!(t&&this.titleDiv.offsetHeight>s))break;this.titleDiv.innerText=t}this.titleDiv.style.overflow="hidden"}}}dispose(){}}var c=__webpack_require__(625);const g=200,p=[];function u(){let t,i,e;for(let s=0;s<p.length;s++)t=p[s],!1===t.started&&(t.startCallback&&t.startCallback(t.startValue),t.started=!0,t.startTime=new Date),i=new Date-t.startTime,e=i/g,e>1&&(e=1),t.target.style[t.property]=t.startValue+t.deltaValue*e+"px",1===e&&(t.endCallback&&t.endCallback(),t.startTime=null,t.started=!1);for(let t=p.length-1;t>=0;t--)!1===p[t].started&&p.splice(t,1);p.length>0&&window.requestAnimationFrame(u)}function m(t,i,e,s,n,o){t&&i&&(0,c.hj)(e)&&(0,c.hj)(s)&&(p.push({target:t,property:i,startValue:e,endValue:s,deltaValue:s-e,startTime:null,started:!1,startCallback:n,endCallback:o}),window.requestAnimationFrame(u))}var y=__webpack_require__(996),f=__webpack_require__(11);class C extends y.p{constructor(t){super(),this.v=t,this.config=t.tagConfig.PlaylistSettings,this.scrollStep=1,this.playlistContainer=document.createElement("div"),this.playlistContainer.id="vi-stories-playlist-container",this.playlistContainer.classList.add("vi-stories-z-index-base","vi-stories-hide-while-floating"),this.maxEntries=Math.min(4,this.v.video.length),this.startIdx=this.v.videoIdx;const i=document.createElement("div");if(i.id="vi-stories-playlist-entries-viewport",this.playlistContainer.appendChild(i),this.playlistEntries=document.createElement("div"),this.playlistEntries.id="vi-stories-playlist-entries",i.appendChild(this.playlistEntries),this.v.video.length>this.maxEntries){const t=document.createElement("div");t.classList.add("vi-stories-playlist-nav","vi-stories-playlist-nav-left");const i=document.createElement("div");i.classList.add("vi-stories-playlist-nav","vi-stories-playlist-nav-right"),this.playlistContainer.appendChild(t),this.playlistContainer.appendChild(i)}this.render(),this.throttleClickHandler=(0,c.P2)(this.onClickHandler,500,this),this.playlistContainer.addEventListener("click",this.throttleClickHandler,!1)}get container(){return this.playlistContainer}update(){this.config.autoScroll&&(this.startIdx=this.v.videoIdx),this.render()}dispose(){this.playlistContainer&&this.playlistContainer.removeEventListener("click",this.throttleClickHandler,!1)}render(){if(this.playlistEntries){this.playlistEntries.innerHTML="";let t,i=this.startIdx,e=!1;for(let s=0;s<this.maxEntries;s++)i+s>=this.v.video.length&&(i=-s),t=this.v.video[i+s],e=i+s===this.v.videoIdx,this.playlistEntries.appendChild(this.renderItem(t,e))}}renderItem(t,i){let e,s,n,o,r;if(e=document.createElement("div"),e.classList.add("vi-stories-playlist-entry"),e.setAttribute("data-id",t.id),e.style.backgroundImage="url("+t.thumbnail+")",s=document.createElement("div"),s.classList.add("vi-stories-playlist-entry-blur"),s.setAttribute("data-id",t.id),n=document.createElement("div"),n.classList.add("vi-stories-playlist-entry-icon"),n.setAttribute("data-id",t.id),o=document.createElement("div"),o.classList.add("vi-stories-playlist-entry-text"),o.setAttribute("data-id",t.id),o.innerHTML=t.title,r=document.createElement("div"),r.classList.add("vi-stories-playlist-entry-duration"),r.setAttribute("data-id",t.id),r.innerHTML=(0,c.rJ)(t.duration),"he"===t.language&&o.classList.add("vi-stories-direction-rtl"),e.appendChild(s),e.appendChild(n),e.appendChild(o),e.appendChild(r),i){e.classList.add("vi-stories-playlist-current-item");const i=document.createElement("div");i.classList.add("vi-stories-playlist-entry-now"),i.setAttribute("data-id",t.id),i.innerHTML=a.z.nowPlaying,e.appendChild(i)}return e}determineEntryWidth(){if(!this.entryWidth){const t=this.playlistEntries.firstChild,i=t&&window.getComputedStyle(t,null);this.entryWidth=i&&t.offsetWidth+parseFloat(i.getPropertyValue("margin-left"))+parseFloat(i.getPropertyValue("margin-right"))}}navigateLeft(){this.determineEntryWidth(),m(this.playlistEntries,"left",-this.entryWidth,0,(()=>{let t=this.startIdx-this.scrollStep;t<0&&(t+=this.v.video.length);const i=this.v.video[t];this.playlistEntries&&this.playlistEntries.insertBefore(this.renderItem(i,t===this.v.videoIdx),this.playlistEntries.firstChild),this.playlistEntries&&(this.playlistEntries.style.left=-this.entryWidth+"px")}),(()=>{this.startIdx-=this.scrollStep,this.startIdx<0&&(this.startIdx+=this.v.video.length),this.playlistEntries&&this.playlistEntries.removeChild(this.playlistEntries.lastChild)}))}navigateRight(){this.determineEntryWidth(),m(this.playlistEntries,"left",0,-this.entryWidth,(()=>{let t=this.startIdx+this.maxEntries;t>=this.v.video.length&&(t-=this.v.video.length);const i=this.v.video[t];this.playlistEntries&&this.playlistEntries.appendChild(this.renderItem(i,t===this.v.videoIdx))}),(()=>{this.startIdx+=this.scrollStep,this.startIdx>=this.v.video.length&&(this.startIdx-=this.v.video.length),this.playlistEntries&&(this.playlistEntries.style.left=0,this.playlistEntries.removeChild(this.playlistEntries.firstChild))}))}onClickHandler(t){const i=t&&t.target;if(i)if(i.classList.contains("vi-stories-playlist-nav-left"))this.navigateLeft();else if(i.classList.contains("vi-stories-playlist-nav-right"))this.navigateRight();else if((i.classList.contains("vi-stories-playlist-entry")||i.classList.contains("vi-stories-playlist-entry-blur")||i.classList.contains("vi-stories-playlist-entry-icon")||i.classList.contains("vi-stories-playlist-entry-text")||i.classList.contains("vi-stories-playlist-entry-duration"))&&i.getAttribute("data-id")){const t=i.getAttribute("data-id");let e,s;for(let i=0;i<this.v.video.length;i++)if(this.v.video[i].id===t){e=this.v.video[i],s=i;break}if(e){const t={nv_navigate_to_video_id:e.id};(0,f.j)("NV_SUGGESTION_CLICK",t,this.v),this.v.tagConfig.AutoStart=!0,this.v.state.pendingNextTrack=!0,this.v.state.pendingNextIdx=s}this.dispatchEvent("vi-stories-video-open-event")}}}function b(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,s)}return e}function w(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?b(Object(e),!0).forEach((function(i){I(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):b(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function I(t,i,e){return(i=function(t){var i=function(t,i){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}const x={1:{},2:{},3:{},4:{BG_Color:"transparent",TruncateTitleLines:5}};class _ extends y.p{constructor(t,i){super(),this.v=t,this._player=null,this._mainContainer=null,this._playerContainer=null,this.companionAdForVideoAd=!1,this.autoHideTimer=0,this.v.tagConfig=(0,c.l7)(this.v.tagConfig,x[this.v.tagConfig.AdUnitType.toString()]);let e,s,n=0,o=0,r=!1,l=document.getElementById(this.v.topDivId);if((0,c.Xb)(this.v.tagConfig.DivContainer)&&(l&&this.v.tagConfig.DivContainer.querySelector(this.v.topDivId)||(l=document.createElement("div"),l.id=this.v.topDivId,this.v.tagConfig.DivContainer.appendChild(l))),!l){if(-1!==this.v.tagConfig.StopCondition.indexOf("missingDivID")&&this.v.topDivId!=="vi-stories-top-div-"+this.v.env.adUnitId)return void this.handleError(a.p.stopCondition+": missingDivID");if(l=document.createElement("div"),l.id=this.v.topDivId,this.v.tagConfig.PlacementSelector)if(s=(0,c.mC)(this.v.tagConfig.PlacementSelector.position,this.v.tagConfig.PlacementSelector.selector,l),s&&"exact"===this.v.tagConfig.PlacementSelector.position)l=s,l.id?this.v.topDivId=l.id:l.id=this.v.topDivId;else if(!s&&-1!==this.v.tagConfig.StopCondition.indexOf("missingPlacementSelector"))return void this.handleError(a.p.stopCondition+": missingPlacementSelector");s||i.parentNode.insertBefore(l,i)}l.classList.add("vi-stories-top-div","viUnit"+this.v.tagConfig.AdUnitType),l.parentNode.classList.add("vi-stories-parent-div"),this.v.topDiv=l,window.frameElement&&(window.frameElement.classList.add("vi-stories-iframe-element"),window.frameElement.parentElement&&window.frameElement.parentElement.classList.add("vi-stories-iframe-container-element")),window.frameElement&&window.frameElement.offsetHeight>0?e=window.frameElement.getBoundingClientRect():(e=this.v.topDiv.getBoundingClientRect(),0===e.width&&0===e.height&&(e=this.v.topDiv.parentNode.getBoundingClientRect())),this.v.tagConfig.FixedRatio?e.height>100&&e.height*this.v.tagConfig.FixedRatio<e.width?(n=e.height*this.v.tagConfig.FixedRatio,o=e.height):(n=e.width,o=e.width/this.v.tagConfig.FixedRatio):(r=this.v.tagConfig.Resize65&&e.height>100&&e.height*this.v.tagConfig.Resize65Ratio<e.width,n=r?e.height*this.v.tagConfig.Resize65Ratio:e.width),n=Math.floor(n),o=Math.floor(o);const d=document.createElement("div");d.id="vi-stories-main-placeholder",d.classList.add("displayNone"),this.mainContainer=document.createElement("div"),this.mainContainer.id="vi-stories-main-container",this.mainContainer.classList.add("vi-stories-main-container","vi-stories-z-index-base"),this.v.env.mobile&&this.mainContainer.classList.add("vi-stories-mobile"),this.v.tagConfig.FixedRatio&&this.mainContainer.classList.add("fixedRatio"),this.v.tagConfig.OverlayMode>0&&(this.mainContainer.classList.add("vi-stories-overlay-ui","vi-stories-overlay-ui-enable","vi-stories-overlay-ui-show"),this.v.env.mobile||this.mainContainer.classList.add("vi-stories-overlay-ui-hoverable")),this.resize(n,o),this.playerContainer=document.createElement("div"),this.playerContainer.id="vi-stories-player-container",this.playerContainer.classList.add("vi-stories-player-container","vi-stories-z-index-base");const h=document.createElement("div");h.id="vi-stories-ad-container";const v=document.createElement("div");v.id="vi-stories-gui-container",this.closeButton=document.createElement("div"),this.closeButton.id="vi-stories-close-button",this.closeButton.classList.add("pointer","displayNone","vi-stories-position",this.v.tagConfig.CloseButtonSettings.position,this.v.tagConfig.CloseButtonSettings.location),this.playerContainer.appendChild(h),this.playerContainer.appendChild(v),this.mainContainer.appendChild(this.playerContainer),this.mainContainer.appendChild(this.closeButton),this.v.topDiv.appendChild(d),this.v.topDiv.appendChild(this.mainContainer),this.resizeCheck={storedWidth:this.v.tagConfig.ResizeCheckAfterLoad&&(this.v.tagConfig.FixedRatio||r?0:n),counter:0,maxCount:60},this.resizeCheck.storedWidth&&(this.boundCheckResize=this.checkResize.bind(this),this.boundCheckResize()),"3"===this.v.tagConfig.AdUnitType.toString()||this.v.topDiv.parentNode.classList.contains("ob-player")||(0,c.pn)(this.v.topDiv.parentNode)&&(0!==this.v.topDiv.parentNode.offsetHeight||0!==n)?(this.v.env.amp||!this.v.tagConfig.HideUnit||-1===this.v.tagConfig.HideUnit.indexOf("beforeAdQueued")&&-1===this.v.tagConfig.HideUnit.indexOf("beforeAd")&&-1===this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")||(this.v.tagConfig.ClickToPlay=!1,this.v.tagConfig.DelayWaterfallStart=!1,this.v.tagConfig.DisplayAd=null,this.mainContainer.classList.add("hideUnitBeforeAd"),this.hide()),this.size={width:n,height:o}):this.handleError(a.p.nonVisible)}render(){if(!this.mainContainer)return;let t,i=!1;this.v.tagConfig.FixedRatio&&(t=this.mainContainer.offsetHeight-this.playerContainer.offsetHeight,t&&!this.v.tagConfig.FontSize&&(this.v.tagConfig.FontSize=Math.min(18,.25*t)+"px")),this.v.tagConfig.TextAbove||"top-left"===this.v.tagConfig.SponsorPosition||"top-right"===this.v.tagConfig.SponsorPosition||"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&"show"===this.v.tagConfig.CloseButton?this.v.tagConfig.AreaAbovePlaceholder=!0:"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&"whileFloating"===this.v.tagConfig.CloseButton&&this.v.env.fif&&window.frameElement&&(this.v.tagConfig.AreaAbovePlaceholder=!0,i=!0),""!==this.v.tagConfig.LogoUrl&&!1!==this.v.tagConfig.LogoUrl||(this.v.tagConfig.PoweredByText=!1),void 0===this.v.tagConfig.PoweredByText&&(this.v.tagConfig.PoweredByText=a.z.poweredBy);const e=document.createElement("style");e.id="vi-css-gui",e.type="text/css",e.innerHTML=function(t,i,e,s){let n="      .vi-stories-z-index-base {         z-index:"+t.ZIndexBase+";       }       .vi-stories-z-index-float {         z-index:"+t.ZIndexFloat+";       } ";if(t.AccentColor&&(n+="        #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-entry:hover,         #vi-stories-playlist-container .vi-stories-playlist-entry.vi-stories-playlist-current-item,         #vi-stories-playlist-container .vi-stories-playlist-entry:hover {           border-color:"+t.AccentColor+";         }         #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-now,         #vi-stories-gui-container .GUI-module__gui.GUI-module__container .GUI-module__timelineProgress {           background-color:"+t.AccentColor+";         }         #vi-stories-main-container #av-container #av-inner #gui #timeline #timeline-progress {           background:"+t.AccentColor+";         } "),t.AccentTextColor&&(n+="        #vi-stories-player-suggestion-overlay .vi-stories-player-suggestion-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-duration,         #vi-stories-playlist-container .vi-stories-playlist-entry-now {           color:"+t.AccentTextColor+";          } "),t.BG_Color&&(n+="        #vi-stories-main-container, #vi-stories-playlist-container .vi-stories-playlist-nav {           background-color:"+t.BG_Color+";         } "),t.BorderColor&&(n+="        #vi-stories-description-container {           border-color:"+t.BorderColor+";         } "),(t.Text_Color||t.FontSize||t.Font)&&(n+="        #vi-stories-text-above {           "+(t.Text_Color?"color: "+t.Text_Color+";":"")+"         }         #vi-stories-title {           "+(t.Text_Color?"color: "+t.Text_Color+";":"")+"           "+(t.Font?"font-family: "+t.Font+";":"")+"           "+(t.FontSize?"font-size: "+t.FontSize+";":"")+"         }         #vi-stories-sponsor-powered {           "+(t.Text_Color?"color: "+t.Text_Color+";":"")+"         } "),"ribbon"===t.FloatLayoutMode){const e=window.frameElement&&i.fif&&window.top.document||window.document,s=t.FloatLayoutSettings.ribbonPlayerWidth||.47;n+="        #vi-stories-main-container.vi-stories-ribbon-ui #vi-stories-player-container {           width: "+e.body.clientWidth*s+"px !important;           height: "+e.body.clientWidth*s*9/16+"px !important;         } "}if(t.Float&&t.FloatSize){const i=1/t.FloatSize,e=i<1.43,o=1.43<=i&&i<2;let r,a=e?10:o?15:25,l=e?20:o?30:60,d=15;s>=800?r=e?5:o?15:22:s>=700&&s<800?r=e?5:o?15:20:s>=600&&s<700?(a=e?10:o?15:20,r=e?5:o?15:20):s>=500&&s<600?(a=e||o?15:20,r=e?5:o?10:20,l=e?20:o?25:60):(a=3,r=5,l=10,d=0),n+="        .vi-stories-floating .GUI-module__controlsBtn {           transform: scale("+i+");           margin: 0 "+r+"px;         }         .vi-stories-floating .GUI-module__timeDisplay {           transform: scale("+i+");           margin: 0 "+l+"px;         }         .vi-stories-floating .GUI-module__gui.GUI-module__container .GUI-module__controlsBtns {           padding: "+a+"px 5px;         }         .vi-stories-floating .GUI-module__container .vi-stories-social-share-button {           transform: scale("+i+");           margin: 0 "+r+"px;         }         .vi-stories-floating #vi-stories-gui-container #vi-stories-license-info-button {           transform: scale("+i+");           margin: 9px "+d+"px 0 0;         } ",n+="        .vi-stories-floating #vi-stories-close-button {           transform: scale("+1/t.FloatSize+");         }         .vi-stories-floating #vi-stories-close-button.inside-vi-unit.top-left{           transform-origin: left top;         }         .vi-stories-floating #vi-stories-close-button.outside-vi-unit.top-left{           transform-origin: left bottom;         }         .vi-stories-floating #vi-stories-close-button.inside-vi-unit.top-right{           transform-origin: right top;         }         .vi-stories-floating #vi-stories-close-button.outside-vi-unit.top-right{           transform-origin: right bottom;         } "}return n}(this.v.tagConfig,this.v.env,this.v.state,this.mainContainer.clientWidth);if((document.getElementsByTagName("head")[0]||document.appendChild(document.createElement("head"))).appendChild(e),this.v.tagConfig.AreaAbovePlaceholder){const t=document.createElement("div");t.id="vi-stories-area-above-placeholder",t.classList.add("vi-stories-hide-while-floating"),i&&t.classList.add("displayNone"),this.v.topDiv.insertBefore(t,this.mainContainer),"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&("show"===this.v.tagConfig.CloseButton||"whileFloating"===this.v.tagConfig.CloseButton&&this.v.env.fif&&window.frameElement)&&(t.classList.remove("vi-stories-hide-while-floating"),t.classList.add("vi-stories-show-while-floating"))}if(this.v.tagConfig.TextAbove){const t=document.createElement("div");t.id="vi-stories-text-above",t.classList.add("vi-stories-hide-while-floating"),t.innerText=this.v.tagConfig.TextAbove,this.mainContainer.insertBefore(t,this.mainContainer.childNodes[0])}this.description=new v(this.v,t),this.mainContainer.appendChild(this.description.container),1===this.v.tagConfig.OverlayMode&&this.v.tagConfig.OverlaySettings&&!0===this.v.tagConfig.OverlaySettings.showLogoOutside&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.sponsor=new t.Sponsor(this.v),this.mainContainer.appendChild(this.sponsor.container)})),(this.v.tagConfig.PlayerAdOverlayText||this.v.tagConfig.PlayerAdStartOverlayText||this.v.tagConfig.PlayerContentOverlayText)&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.textOverlay=new t.TextOverlay(this.v,this.player),this.playerContainer&&this.playerContainer.appendChild(this.textOverlay.container)})),this.v.tagConfig.SkipContent&&this.v.tagConfig.SkipContentSettings&&this.v.tagConfig.SkipContentSettings.contentPlayTime>0&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.skipContent=new t.SkipContent(this.v),this.skipContent.addEventListener("vi-stories-skip-content-event",(()=>{var t,i;this.player&&this.player.playNextVideoIfAvailable(),"skipContent"===(null===(t=this.v.tagConfig)||void 0===t||null===(i=t.ViVideoPlayerSettings)||void 0===i?void 0:i.vidgetFeatureFlag)&&this.dispatchEvent("hide_player")}),this),this.playerContainer&&this.playerContainer.appendChild(this.skipContent.container)})),this.v.tagConfig.DisplayAd&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.displayAd=new t.DisplayAd(this.v),this.mainContainer.appendChild(this.displayAd.container),this.displayAd.init()})),this.v.tagConfig.DisplayBanner&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.displayBanner=new t.DisplayBanner(this.v),this.playerContainer&&this.playerContainer.appendChild(this.displayBanner.container)})),"none"!==this.v.tagConfig.PlaylistSettings.ui&&!1===this.v.state.defaultVideo&&(this.playlistUi=new C(this.v),this.playlistUi.addEventListener("vi-stories-video-open-event",(()=>{this.player&&this.player.playNextVideo(),this.textOverlay&&this.textOverlay.hide()}),this),this.mainContainer.appendChild(this.playlistUi.container)),this.v.tagConfig.SocialSharing&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.socialSharing=new t.SocialSharing(this.v)})),this.v.tagConfig.PlayerSuggestionOverlay&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.suggestions=new t.Suggestions(this.v),this.suggestions.addEventListener("vi-stories-video-open-event",(()=>{this.player&&this.player.playNextVideo(),this.textOverlay&&this.textOverlay.hide()}),this),this.playerContainer&&this.playerContainer.appendChild(this.suggestions.container)})),this.v.tagConfig.UnmuteOverlay&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.unmuteOverlay=new t.UnmuteOverlay(this.v),this.unmuteOverlay.addEventListener("vi-stories-unmute-from-overlay-event",(()=>{this.player&&this.player.unmutePlayer()}),this),this.playerContainer&&this.playerContainer.appendChild(this.unmuteOverlay.container)})),this.v.video.filter((t=>t.licenseInfo)).length>0&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.licenseInfo=new t.LicenseInfo(this.v)})),this.v.tagConfig.Prebid&&this.v.prebidConfig&&this.v.prebidConfig.adUnits&&this.v.prebidConfig.adUnits.length>0&&1===this.v.env.adUnitId&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.prebid=new t.Prebid(this.v),this.prebid.addEventListener("vi-stories-prebid-imp-event",(()=>{this.player.closePlayer(),this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block")})),this.prebid.addEventListener("vi-stories-prebid-nobid-event",(()=>{this.fallback&&(this.fallback.waitForPrebid=!1)}));(this.v.env.fif&&window.frameElement&&window.frameElement.parentNode||this.v.topDiv).appendChild(this.prebid.container)})),this.v.tagConfig.FallbackTag&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{this.fallback=new t.Fallback(this.v),this.fallback.addEventListener("vi-stories-fallback-event",(t=>{this.player.closePlayer(t.data.reason),this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block")})),this.v.tagConfig.Prebid&&this.v.prebidConfig&&this.v.prebidConfig.adUnits&&this.v.prebidConfig.adUnits.length>0&&(this.fallback.waitForPrebid=!0),this.fallback.initializedAd=()=>this.player.initializedAd,this.fallback.init()})),this.player&&(this.boundClosePlayer=this.player.closePlayer.bind(this.player,"close-button"),this.updateCloseButton(),this.handlePlayerEvents())}dispose(){if(this.dispatchEvent("vi-stories-close-gui-event"),this.description&&this.description.dispose(),this.displayAd&&this.displayAd.dispose(),this.displayBanner&&this.displayBanner.dispose(),this.licenseInfo&&this.licenseInfo.dispose(),this.playlistUi&&this.playlistUi.dispose(),this.skipContent&&this.skipContent.dispose(),this.socialSharing&&this.socialSharing.dispose(),this.suggestions&&this.suggestions.dispose(),this.textOverlay&&this.textOverlay.dispose(),this.unmuteOverlay&&this.unmuteOverlay.dispose(),this.mainContainer){const t=this.v.topDiv.querySelector("#vi-stories-main-placeholder");t&&t.parentNode.removeChild(t);const i=this.v.topDiv.querySelector("#vi-stories-area-above-placeholder");i&&i.parentNode.removeChild(i),this.v.topDiv.removeChild(this.mainContainer)}!this.v.tagConfig.FallbackTag&&!this.v.tagConfig.Prebid&&window.frameElement&&window.frameElement.parentElement&&window.frameElement.parentElement.removeChild(window.frameElement)}get player(){return this._player}set player(t){this._player=t}get mainContainer(){return this._mainContainer}set mainContainer(t){this._mainContainer=t}get playerContainer(){return this._playerContainer}set playerContainer(t){this._playerContainer=t}enableOverlayMode(t){t?this.mainContainer.classList.add("vi-stories-overlay-ui-enable"):this.mainContainer.classList.remove("vi-stories-overlay-ui-enable")}showOverlayMode(t){t?this.mainContainer.classList.add("vi-stories-overlay-ui-show"):this.mainContainer.classList.remove("vi-stories-overlay-ui-show")}show(){this.v.state.adUnitIsHidden=!1,this.mainContainer.classList.remove("displayNone"),this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block")}hide(){this.v.state.adUnitIsHidden=!0,this.mainContainer.classList.add("displayNone"),this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="none")}resize(t,i){this.mainContainer.style.width=t+"px",i&&(this.mainContainer.style.height=i+"px"),this.mainContainer.classList.remove(...c.Vp),this.mainContainer.classList.add((0,c.E6)(t))}updateCloseButton(){let t=!1;"hide"===this.v.tagConfig.CloseButton?t=!1:"show"===this.v.tagConfig.CloseButton?t=!0:"whileFloating"===this.v.tagConfig.CloseButton&&(t=!!this.v.state.adUnitIsFloated),"inside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location?this.mainContainer.classList.add("vi-stories-close-button-inside"):this.mainContainer.classList.remove("vi-stories-close-button-inside"),t?(this.mainContainer.classList.add("vi-stories-close-button-show"),this.closeButton.classList.remove("displayNone"),this.closeButton.addEventListener("click",this.boundClosePlayer,!1)):(this.mainContainer.classList.remove("vi-stories-close-button-show"),this.closeButton.classList.add("displayNone"),this.closeButton.removeEventListener("click",this.boundClosePlayer,!1)),this.updateCloseButtonTimer()}updateCloseButtonTimer(){"ad"===this.v.state.currentVideoType&&this.player.remainingSkipTime>0?(this.closeButton.classList.add("vi-stories-close-timer"),this.closeButton.classList.remove("pointer"),this.closeButton.removeEventListener("click",this.boundClosePlayer,!1),this.closeButton.innerHTML=this.player.remainingSkipTime):(this.closeButton.classList.remove("vi-stories-close-timer"),this.closeButton.classList.add("pointer"),this.closeButton.addEventListener("click",this.boundClosePlayer,!1),this.closeButton.innerHTML="")}checkResize(){if(this.resizeCheck.counter++,this.resizeCheck.counter===this.resizeCheck.maxCount)return;const t=this.v.topDiv&&window.getComputedStyle(this.v.topDiv,null),i=t&&this.v.topDiv.clientWidth-parseFloat(t.getPropertyValue("padding-left"))-parseFloat(t.getPropertyValue("padding-right"));i&&Math.abs(this.resizeCheck.storedWidth-i)>=1?(this.resizeCheck.storedWidth=i,this.mainContainer&&(this.mainContainer.style.width=i+"px"),this.player&&this.player.resize(i)):window.requestAnimationFrame(this.boundCheckResize)}launchCompanionAdForVideoAd(){if(this.companionAdForVideoAd=!0,this.displayBanner)this.displayBanner.close(),this.displayBanner.config=this.player.adCompanion,this.displayBanner.init();else{const t=(0,c.l7)({},this.player.adCompanion);__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((i=>{this.displayBanner=new i.DisplayBanner(this.v),this.displayBanner.config=t,this.playerContainer&&this.playerContainer.appendChild(this.displayBanner.container),this.displayBanner.init()}))}}getIdPayload(){return"ad"===this.v.state.currentVideoType?{adSourceId:this.v.env.asid}:"content"===this.v.state.currentVideoType?{videoId:this.v.video[this.v.videoIdx].id}:{}}handleError(t){(0,f.j)("ERROR",{error_msg:t},this.v),y.Y.dispatchEvent("vi-stories-unit-event",{action:"error",v:this.v,message:t})}handlePlayerEvents(){const t={"vi-stories-adsourcesgetstart-event":this.onPlayerAdsourcesgetstart,"vi-stories-adsourcesgetend-event":this.onPlayerAdsourcesgetend,"vi-stories-ad-bid-event":this.onPlayerAdBid,"vi-stories-ad-reject-event":this.onPlayerAdReject,"vi-stories-ad-log-event":this.onPlayerAdLog,"vi-stories-ad-queued-event":this.onPlayerAdQueued,"vi-stories-ad-ready-event":this.onPlayerAdReady,"vi-stories-ad-impression-event":this.onPlayerAdImpression,"vi-stories-ad-progress-2s-event":this.onPlayerAdProgress2s,"vi-stories-ad-progress-25-event":this.onPlayerAdProgress25,"vi-stories-ad-progress-50-event":this.onPlayerAdProgress50,"vi-stories-ad-progress-75-event":this.onPlayerAdProgress75,"vi-stories-ad-complete-event":this.onPlayerAdComplete,"vi-stories-ad-skipped-event":this.onPlayerAdSkiped,"vi-stories-ad-click-event":this.onPlayerAdClick,"vi-stories-adsourcesexhausted-event":this.onPlayerAdsourcesexhausted,"vi-stories-content-impression-event":this.onPlayerContentImpression,"vi-stories-content-playing-event":this.onPlayerContentPlaying,"vi-stories-content-progress-25-event":this.onPlayerContentProgress25,"vi-stories-content-progress-50-event":this.onPlayerContentProgress50,"vi-stories-content-progress-75-event":this.onPlayerContentProgress75,"vi-stories-current-content-complete-event":this.onPlayerCurrentContentComplete,"vi-stories-all-content-complete-event":this.onPlayerAllContentComplete,"vi-stories-content-click-event":this.onPlayerContentClick,"vi-stories-content-timeline-click-event":this.onPlayerContentTimelineClick,"vi-stories-play-event":this.onPlayerPlay,"vi-stories-pause-event":this.onPlayerPause,"vi-stories-mute-unmute-event":this.onPlayerMuteUnmute,"vi-stories-new-content-event":this.onPlayerNewContent,"vi-stories-close-player-event":this.onPlayerClose,"vi-stories-timeupdate-event":this.onPlayerTimeupdate,"vi-stories-viewability-change-event":this.onPlayerViewabilityChange,"vi-stories-inview-2s-event":this.onPlayerInview2s,"vi-stories-error-event":this.onPlayerError,"vi-stories-touchstart-event":this.onPlayerTouchstart};Object.keys(t).forEach((i=>{"function"==typeof t[i]&&this.player.addEventListener(i,(e=>{t[i].call(this,e)}),this)}))}onPlayerAdsourcesgetstart(){var t,i;this.dispatchEvent("adsources_get_start",{viDomain:null===(t=this._player.adEngine.macros)||void 0===t?void 0:t.VI_DOMAIN,viPublisherId:null===(i=this._player.adEngine.macros)||void 0===i?void 0:i.VI_PUBLISHERID})}onPlayerAdsourcesgetend(){this.dispatchEvent("adsources_get_end")}onPlayerAdBid(t){this.dispatchEvent("ad_bid",w({},t.data))}onPlayerAdReject(t){this.dispatchEvent("ad_reject",w({},t.data))}onPlayerAdLog(t){this.dispatchEvent("ad_log",w({},t.data))}onPlayerAdQueued(){this.dispatchEvent("ad_queued")}onPlayerAdReady(t){this.displayAd&&!this.v.state.displayAdIsVisible&&this.displayAd.hide(),this.dispatchEvent("ad_ready",w({},t.data))}onPlayerAdImpression(t){this.displayBanner&&this.displayBanner.hide(),this.licenseInfo&&this.licenseInfo.hide(),this.licenseInfo&&this.licenseInfo.hideLicenseInfoDialog(),this.skipContent&&this.skipContent.hide(),this.socialSharing&&this.socialSharing.hide(),this.textOverlay&&this.textOverlay.showOverAd(),this.unmuteOverlay&&this.unmuteOverlay.showOverAd(),this.v.tagConfig.OverlayMode>0&&(clearTimeout(this.autoHideTimer),this.enableOverlayMode(!1),this.showOverlayMode(!1)),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&this.suggestions&&this.suggestions.hide(),this.updateCloseButton(),this.dispatchEvent("ad_imp",w({adSourceId:this.v.env.asid},t.data))}onPlayerAdProgress2s(){this.dispatchEvent("ad_viewable_imp",{adSourceId:this.v.env.asid})}onPlayerAdProgress25(){this.dispatchEvent("ad_25",{adSourceId:this.v.env.asid})}onPlayerAdProgress50(){this.dispatchEvent("ad_50",{adSourceId:this.v.env.asid})}onPlayerAdProgress75(){this.dispatchEvent("ad_75",{adSourceId:this.v.env.asid})}onPlayerAdComplete(){this.textOverlay&&this.textOverlay.hide(),this.player.adCompanion&&!this.companionAdForVideoAd&&this.launchCompanionAdForVideoAd(),this.dispatchEvent("ad_100",{adSourceId:this.v.env.asid})}onPlayerAdSkiped(){this.textOverlay&&this.textOverlay.hide(),this.player.adCompanion&&!this.companionAdForVideoAd&&this.launchCompanionAdForVideoAd(),this.dispatchEvent("ad_skip",{adSourceId:this.v.env.asid})}onPlayerAdClick(){this.dispatchEvent("ad_click",{adSourceId:this.v.env.asid})}onPlayerAdsourcesexhausted(){this.v.state.adUnitIsClicked||((0,f.j)("WF_END",{},this.v),this.dispatchEvent("wf_end")),this.v.tagConfig.FallbackTag||"1"!==this.v.tagConfig.AdUnitType.toString()||this.player.closePlayer("ad-sources-exhausted"),this.prebid&&(this.prebid.adsourcesexhausted=!0),this.fallback&&(this.fallback.adsourcesexhausted=!0),this.v.tagConfig.CallbackFunction&&"function"==typeof this.v.tagConfig.CallbackFunction&&this.v.tagConfig.CallbackFunction("ERROR")}onPlayerContentImpression(t){this.skipContent&&this.skipContent.init(),this.v.tagConfig.DisplayBanner&&this.displayBanner&&!this.companionAdForVideoAd&&(this.displayBanner.config=this.v.tagConfig.DisplayBanner,this.displayBanner.init()),t.data.startedByClick?this.dispatchEvent("content_play",{videoId:this.v.video[this.v.videoIdx].id}):this.dispatchEvent("content_autostart",{videoId:this.v.video[this.v.videoIdx].id}),this.dispatchEvent("content_start",{videoId:this.v.video[this.v.videoIdx].id})}onPlayerContentPlaying(){this.displayBanner&&this.displayBanner.show(),this.licenseInfo&&this.licenseInfo.show(),this.socialSharing&&this.socialSharing.show(),this.textOverlay&&this.textOverlay.showOverContent(),this.unmuteOverlay&&this.unmuteOverlay.showOverContent(),this.v.tagConfig.OverlayMode>0&&(this.enableOverlayMode(!0),this.v.tagConfig.OverlayMode>0&&this.v.env.mobile&&this.v.tagConfig.ControlBarAutohide?(clearTimeout(this.autoHideTimer),this.autoHideTimer=window.setTimeout((()=>{this.showOverlayMode(!1)}),1e3*this.v.tagConfig.ControlBarAutohideSettings.timeout)):this.showOverlayMode(!1)),this.updateCloseButton()}onPlayerContentProgress25(){this.dispatchEvent("content_25",{videoId:this.v.video[this.v.videoIdx].id})}onPlayerContentProgress50(){this.dispatchEvent("content_50",{videoId:this.v.video[this.v.videoIdx].id})}onPlayerContentProgress75(){this.dispatchEvent("content_75",{videoId:this.v.video[this.v.videoIdx].id})}onPlayerCurrentContentComplete(){this.displayBanner&&this.displayBanner.close(),this.textOverlay&&this.textOverlay.hide(),this.dispatchEvent("content_100",{videoId:this.v.video[this.v.videoIdx].id})}onPlayerAllContentComplete(){this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("end")&&(this.suggestions&&this.suggestions.show(),this.v.tagConfig.OverlayMode>0&&this.enableOverlayMode(!1))}onPlayerContentClick(){this.dispatchEvent("content_click",{videoId:this.v.video[this.v.videoIdx].id})}onPlayerContentTimelineClick(){this.dispatchEvent("content_timeline_click",{videoId:this.v.video[this.v.videoIdx].id})}onPlayerPlay(){this.v.tagConfig.OverlayMode>0&&(this.v.tagConfig.OverlayMode>0&&this.v.env.mobile&&this.v.tagConfig.ControlBarAutohide?(clearTimeout(this.autoHideTimer),this.autoHideTimer=window.setTimeout((()=>{this.showOverlayMode(!1)}),1e3*this.v.tagConfig.ControlBarAutohideSettings.timeout)):this.showOverlayMode(!1)),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&"content"===this.v.state.currentVideoType&&(this.suggestions&&this.suggestions.hide(),this.v.tagConfig.OverlayMode>0&&this.enableOverlayMode(!0)),"ad"===this.v.state.currentVideoType&&this.dispatchEvent("ad_resume",this.getIdPayload()),"content"===this.v.state.currentVideoType&&this.dispatchEvent("content_resume",this.getIdPayload())}onPlayerPause(){this.v.tagConfig.OverlayMode>0&&(clearTimeout(this.autoHideTimer),this.showOverlayMode(!0)),this.v.tagConfig.PlayerSuggestionOverlay&&-1!==this.v.tagConfig.PlayerSuggestionOverlay.indexOf("pause")&&"content"===this.v.state.currentVideoType&&(this.suggestions&&this.suggestions.show(),this.v.tagConfig.OverlayMode>0&&this.enableOverlayMode(!1)),"ad"===this.v.state.currentVideoType&&this.dispatchEvent("ad_pause",this.getIdPayload()),"content"===this.v.state.currentVideoType&&this.dispatchEvent("content_pause",this.getIdPayload())}onPlayerMuteUnmute(){this.unmuteOverlay&&this.unmuteOverlay.unmuteFromPlayer(),this.v.state.playerIsMuted?this.dispatchEvent("mute",this.getIdPayload()):this.dispatchEvent("unmute",this.getIdPayload())}onPlayerNewContent(){this.companionAdForVideoAd=!1,this.displayBanner&&this.displayBanner.close(),this.licenseInfo&&this.licenseInfo.hide(),this.licenseInfo&&this.licenseInfo.hideLicenseInfoDialog(),this.skipContent&&this.skipContent.hide(),this.socialSharing&&this.socialSharing.hide(),this.suggestions&&this.suggestions.hide(),this.description&&this.description.update(),this.playlistUi&&this.playlistUi.update(),this.displayBanner&&this.displayBanner.init()}onPlayerClose(){this.dispatchEvent("close",this.getIdPayload()),this.dispose()}onPlayerTimeupdate(){this.textOverlay&&this.textOverlay.timeUpdate(),"hide"!==this.v.tagConfig.CloseButton&&this.player.config.skipTimer>0&&this.updateCloseButtonTimer()}onPlayerViewabilityChange(){this.companionAd&&this.companionAd.show(),this.displayAd&&this.displayAd.show(),this.prebid&&this.prebid.show(),"whileFloating"===this.v.tagConfig.CloseButton&&this.updateCloseButton()}onPlayerInview2s(){this.dispatchEvent("player_inview")}onPlayerError(t){this.dispatchEvent("error",{message:t.data.message})}onPlayerTouchstart(){this.v.tagConfig.OverlayMode>0&&this.v.env.mobile&&this.v.tagConfig.ControlBarAutohide&&(clearTimeout(this.autoHideTimer),this.showOverlayMode(!0),this.autoHideTimer=window.setTimeout((()=>{this.showOverlayMode(!1)}),1e3*this.v.tagConfig.ControlBarAutohideSettings.timeout))}}var P=__webpack_require__(275);function E(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,s)}return e}function A(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?E(Object(e),!0).forEach((function(i){M(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):E(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function M(t,i,e){return(i=function(t){var i=function(t,i){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}let S;const T={1:{openAnim:!0},2:{},3:{},4:{width:300,height:150}};class k extends y.p{constructor(t,i,e){if(super(),this.v=t,this.config=t.viPlayerConfig,this._playerContainer=e,this._canFloatNow=!0,this._canRunWaterfall=!0,this._noAdSourcesNow=!1,S=window["dmlkZW8gaW50ZWxsaWdlbmNlIHBsYXllcg=="],this.contentPlayer=this.adEngine=this.gui=this.viewabilityService=null,this.framePlaceHolder=null,this.started=this.ended=this.nextVideoPrepared=null,this.adImp=this.adInviewOnce=this.adInview2s=null,this.inview2s=this.inview2sTimer=null,this.currentVideoStartedByClick=!1,this.adSourcesExhausted=null,this.firstAdQueuedEvent=!1,this.startAdPending=null,this.prerollDelayStart=this.prerollDelayTimer=null,this.adBreakRetryTimer=null,this.adBreakRetryCounter=0,this.reqIndex=1,this.adMonitor={adBreak:{type:"",adsLeft:0},lastTimestamp:null,nextAdType:"preroll",secPassedSinceLastAd:0,secPlayedSinceLastAd:0,adsPlayed:0,playAdsTimer:null},this.v.tagConfig.IFA&&(this.config.macros.VI_IDFA=encodeURIComponent(this.v.tagConfig.IFA)),this.v.tagConfig.SubID&&(this.config.macros.VI_APPNAME=encodeURIComponent(this.v.tagConfig.SubID)),this.v.tagConfig.SubID&&(this.config.macros.VI_SUBID=encodeURIComponent(this.v.tagConfig.SubID)),this.v.tagConfig.DeviceIsp&&(this.config.macros.VI_CUSTOM1=encodeURIComponent(this.v.tagConfig.DeviceIsp)),this.v.tagConfig.Latitude&&(this.config.macros.VI_LATITUDE=this.v.tagConfig.Latitude),this.v.tagConfig.Longitude&&(this.config.macros.VI_LONGITUDE=this.v.tagConfig.Longitude),this.v.tagConfig.AppBundle&&(this.config.macros.VI_APPBUNDLE=encodeURIComponent(this.v.tagConfig.AppBundle)),this.v.tagConfig.DeviceModel&&(this.config.macros.VI_MODEL=encodeURIComponent(this.v.tagConfig.DeviceModel)),this.v.tagConfig.ExtDemandParams&&(this.config.macros.VIC_EXT_DEMAND_PARAMS=this.v.tagConfig.ExtDemandParams),this.v.tagConfig.ObGetOdbUrl&&(this.config.macros.VIC_OPAURL=this.v.tagConfig.ObGetOdbUrl),this.v.tagConfig.ExtPublisherID&&(this.config.macros.VI_OBPUBLISHERID=encodeURIComponent(this.v.tagConfig.ExtPublisherID)),this.v.tagConfig.ObWidgetId&&(this.config.macros.VI_OBWIDGETID=encodeURIComponent(this.v.tagConfig.ObWidgetId)),this.v.tagConfig.ObSubWidgetId&&(this.config.macros.VI_OBSUBWIDGETID=encodeURIComponent(this.v.tagConfig.ObSubWidgetId)),this.v.tagConfig.ObUserId&&(this.config.macros.VI_OBUSERID=encodeURIComponent(this.v.tagConfig.ObUserId)),this.config.macros.VI_PUBLISHERID=encodeURIComponent(this.v.tagConfig.PublisherID),this.config.macros.VI_AFFILIATEID=encodeURIComponent(this.v.tagConfig.ChannelID),this.config.macros.VI_CDIM2=encodeURIComponent(this.v.tagConfig.PublisherID),this.config.macros.VI_DNT=encodeURIComponent(navigator.doNotTrack||"0"),this.config.macros.VI_SEGMENTS=this.v.video[this.v.videoIdx].segments||"",this.config.macros.VI_BSAFE=this.v.video[this.v.videoIdx].brandSafety||"",this.config.macros.VI_OB_AGR=this.v.tagConfig.ObAgr,this.config.macros.VIC_URL=decodeURIComponent(this.v.env.pageUrl),this.config.macros.VIC_PAGELANGUAGE=(0,c.$G)(this.v.env.pageLanguage),this.config.macros.VIC_REQ_IDX=()=>1e3*this.v.env.adUnitId+this.reqIndex++,this.config.macros.VIC_ODB_EXTRA_PARAMS=()=>"videolinearity=".concat("1"===this.v.tagConfig.AdUnitType.toString()?"2":"1"),this.config.videoContext="2"===this.v.tagConfig.AdUnitType.toString()||"4"===this.v.tagConfig.AdUnitType.toString()?"instream":"outstream",this.config.trackingParams.env="w",i&&i.gdpr&&(this.config.gdprConsent={gdprApplies:!!i.gdpr.applies,consentString:i.gdpr.consent,vendorData:i.gdpr.vendorData,apiVersion:i.gdpr.apiVersion},i.gdpr.addtlConsent&&(0,c.HD)(i.gdpr.addtlConsent)&&(this.config.gdprConsent.addtlConsent=i.gdpr.addtlConsent)),i&&i.ccpa&&(this.config.uspConsent=i.ccpa.uspString),this.v.tagConfig.AppBundle?this.config.macros.VI_URL=encodeURIComponent(this.v.tagConfig.AppBundle):this.v.env.amp&&(this.config.macros.VI_URL=decodeURIComponent(this.v.env.pageUrl)),this.v.tagConfig.BsSegment){const t=this.v.video[this.v.videoIdx].brandSafety||[];let i="";i=this.v.state.defaultVideo?"E":this.v.video[this.v.videoIdx].analyzed?-1!==t.indexOf(this.v.tagConfig.BsSegment)?"Y":"N":"U",this.config.trackingParams.brand_safe=i}this.config.pubData={vi:{id:this.v.tagConfig.ViSchainId||this.v.tagConfig.ExtSchainGroupId||this.v.tagConfig.PublisherID,d:"vi.ai"},ext:{id:this.v.tagConfig.ExtSchainId,d:"outbrain.com"}},this.config.affiliateID=this.v.tagConfig.ChannelID,this.config.obWidgetId=this.v.tagConfig.ObWidgetId,this.config.obSubWidgetId=this.v.tagConfig.ObSubWidgetId,this.config.obTimeZero=this.v.tagConfig.ObTimeZero,this.config.obUniquePlacementId=this.v.tagConfig.ObUniquePlacementId,this.config.obIsOnyx=this.v.tagConfig.ObIsOnyx,this.config.obVersion=this.v.tagConfig.ObVersion,this.config.adUnitType=this.v.tagConfig.AdUnitType,this.config.trackPlacement=!1,this.config.trackInview=!1,this.config.startCond={ok:t=>{var i,e;const s=!0===t.adSource.playInView?50:t.adSource.playInView?t.adSource.playInView:0,n=this.v.tagConfig.IgnoreIndirectOpaInView&&t.adSource.isOpaDemand&&(!(null!==(i=t.odbParams)&&void 0!==i&&i.dealId)||"-1"===(null===(e=t.odbParams)||void 0===e?void 0:e.dealId));return(!this.v.tagConfig.PlayInView&&!t.adSource.playInView||this.viewabilityService.intersectionRatio>=.01*s||n||this.v.state.adUnitIsFloated||this.v.tagConfig.FloatSettings.floatFromStart&&this.v.tagConfig.Float||this.v.state.adUnitInViewOnce&&this.v.tagConfig.Float)&&(!t.adSource.playInFocus||this.v.env.amp||!this.v.env.fif||!0===this.v.state.pageIsVisible)&&(!t.adSource.adbreakPosition||t.adSource.adbreakPosition===this.adBreakType)},listen:t=>{this.viewabilityService.addEventListener(P.Y.Events.viewabilitychange,t),this.addEventListener("vi-stories-adbreak-type-change",t),this.addEventListener("vi-stories-page-visibility-change",t)},off:t=>{this.viewabilityService.removeEventListener(P.Y.Events.viewabilitychange,t),this.removeEventListener("vi-stories-adbreak-type-change",t),this.removeEventListener("vi-stories-page-visibility-change",t)}},this.config.sessionId=this.v.env.sessionId,this.playerContainer&&this.playerContainer.offsetWidth&&(this.config.width=this.playerContainer.offsetWidth,this.config.height=Math.round(this.config.width/16*9)),this.config=(0,c.l7)(this.config,T[this.v.tagConfig.AdUnitType.toString()]),["maxAdErrors","maximp","maxNoAdsResponses","maxrun","midroll","midrolltime","preroll","waterfallRetry"].forEach((t=>{const i=t.charAt(0).toUpperCase()+t.slice(1),e=this.v.tagConfig[i];null!=e&&(this.config[t]=e)})),this.config.maxImpressions=this.config.maximp,this.config.maxWaterfallRetries=this.config.maxrun,this.config.curWaterfallRetries=this.config.waterfallRetry,this.config.environment={amp:this.v.env.amp,fif:this.v.env.fif,pageDomain:decodeURIComponent(this.v.env.pageDomain),pageLanguage:this.v.env.pageLanguage,pageUrl:decodeURIComponent(this.v.env.pageUrl)},2===this.v.tagConfig.PlaylistMode&&(this.config.midroll=0),this.v.tagConfig.UnmuteFromStart&&(this.v.state.playerIsMuted=!1),this.setVideoSource(),!0===this.config.openAnim&&(this.playerContainer.classList.add("heightTransition"),this.playerContainer.style.height="0px",this.playerContainer.offsetLeft)}init(){this.playerContainer.style.width=this.config.width+"px",this.playerContainer.style.height=this.config.height+"px";try{this.contentPlayer=new S.ContentPlayer(this.playerContainer,this.config)}catch(t){return this.handleError("CONTENT_PLAYER initialize: "+(t&&t.message)),this.closePlayer("error"),!1}this.contentPlayer.on(S.ContentPlayer.Events.canplay,this.onContentPlayerCanplay,this),this.contentPlayer.on(S.ContentPlayer.Events.playing,this.onContentPlayerPlaying,this),this.contentPlayer.on(S.ContentPlayer.Events.pause,this.onContentPlayerPause,this),this.contentPlayer.on(S.ContentPlayer.Events.firstquartile,this.onContentPlayerFirstquartile,this),this.contentPlayer.on(S.ContentPlayer.Events.midpoint,this.onContentPlayerMidpoint,this),this.contentPlayer.on(S.ContentPlayer.Events.thirdquartile,this.onContentPlayerThirdquartile,this),this.contentPlayer.on(S.ContentPlayer.Events.ended,this.onContentPlayerEnded,this),this.contentPlayer.on(S.ContentPlayer.Events.click,this.onContentPlayerClick,this),this.contentPlayer.on(S.ContentPlayer.Events.timeupdate,this.onContentPlayerTimeupdate,this),this.contentPlayer.on(S.ContentPlayer.Events.error,this.onContentPlayerError,this);const t=this.playerContainer.querySelector("#vi-stories-ad-container");try{this.adEngine=new S.AdEngine(t,this.config)}catch(t){return this.handleError("AD_ENGINE initialize: "+(t&&t.message)),this.closePlayer("error"),!1}this.adEngine.on(S.AdPlayerEvents.playing,this.onAdEnginePlaying,this),this.adEngine.on(S.AdPlayerEvents.pause,this.onAdEnginePause,this),this.adEngine.on(S.AdPlayerEvents.firstquartile,this.onAdEngineFirstQuartile,this),this.adEngine.on(S.AdPlayerEvents.midpoint,this.onAdEngineMidpoint,this),this.adEngine.on(S.AdPlayerEvents.thirdquartile,this.onAdEngineThirdQuartile,this),this.adEngine.on(S.AdPlayerEvents.ended,this.onAdEngineEnded,this),this.adEngine.on(S.AdPlayerEvents.skipped,this.onAdEngineSkipped,this),this.adEngine.on(S.AdPlayerEvents.click,this.onAdEngineClick,this),this.adEngine.on(S.AdPlayerEvents.timeupdate,this.onAdEngineTimeupdate,this),this.adEngine.on(S.AdEngine.Events.adsourcesgetstart,this.onAdEngineAdsourcesgetstart,this),this.adEngine.on(S.AdEngine.Events.adsourcesgetend,this.onAdEngineAdsourcesgetend,this),this.adEngine.on(S.AdEngine.Events.error,this.onAdEngineError,this),this.adEngine.on(S.AdEngine.Events.queuedad,this.onAdEngineQueuedad,this),this.adEngine.on(S.AdPlayerEvents.bid,this.onAdEngineBid,this),this.adEngine.on(S.AdPlayerEvents.adReject,this.onAdEngineAdReject,this),this.adEngine.on(S.AdPlayerEvents.adLog,this.onAdEngineAdLog,this),this.adEngine.on(S.AdPlayerEvents.impression,this.onAdEngineImpression,this),this.adEngine.on(S.AdPlayerEvents.viewableImpression,this.onAdEngineViewableImpression,this),this.adEngine.on(S.AdEngine.Events.noadsources,this.onNoAdSources,this),this.adEngine.on(S.AdEngine.Events.noadsourcesnow,this.onNoAdSourcesNow,this),this.adEngine.on(S.AdEngine.Events.adsourcesexhausted,this.onAdEngineAdsourcesexhausted,this),this.adEngine.on(S.AdEngine.Events.playerremoved,this.onAdEnginePlayerremoved,this);const i=this.playerContainer.querySelector("#vi-stories-gui-container");let e;if(this.gui=new S.GUI(i,{isMobile:this.v.env.mobile,autohideTime:this.v.tagConfig.ControlBarAutohideSettings.timeout}),this.gui.on(S.GUI.Events.play,this.onGuiPlay,this),this.gui.on(S.GUI.Events.pause,this.onGuiPause,this),this.gui.on(S.GUI.Events.volumechange,this.onGuiVolumechange,this),this.gui.on(S.GUI.Events.rewind,this.onGuiRewind,this),this.gui.attach(this.contentPlayer),this.gui.thumbnail=this.v.video[this.v.videoIdx].thumbnail,this.v.tagConfig.FullscreenButton&&(this.gui.fullscreenButtonIsShown=!0),e=window.frameElement&&this.v.env.fif?this.createFramePlaceHolder():this.v.topDiv,this.viewabilityService=new P.Y(e,{intersectionThreshold:this.v.tagConfig.InViewRatio,observationThreshold:P.Y.percentPoints()}),this.viewabilityService.addEventListener(P.Y.Events.viewabilitychange,this.onViewabilitychange,this),!this.v.tagConfig.Float&&this.v.tagConfig.AllowSticky2s&&(this.viewabilityServiceSticky2s=new P.Y(e,{intersectionThreshold:1,observationThreshold:1}),this.viewabilityServiceSticky2s.addEventListener(P.Y.Events.viewabilitychange,this.onViewabilitychangeSticky2s,this)),this.boundVisibilitychange=this.onVisibilitychange.bind(this),document.addEventListener("visibilitychange",this.boundVisibilitychange,!1),this.v.env.mobile){if(this.gui.hovered=!0,this.v.tagConfig.ControlBarAutohide){let t=0;this.playerContainer.addEventListener("touchstart",(()=>{this.v.state.playerIsPaused||(this.dispatchEvent("vi-stories-touchstart-event"),this.gui.autohideControlBar=!0),window.clearTimeout(t)})),t=window.setTimeout((()=>{this.gui.hovered=!1}),1e3*this.v.tagConfig.ControlBarAutohideSettings.timeout)}}else this.playerContainer.addEventListener("mouseover",(()=>{this.gui.hovered=!0})),this.playerContainer.addEventListener("mouseout",(()=>{this.gui.hovered=!1}));return!0}start(){"3"===this.v.tagConfig.AdUnitType.toString()?(this.adEngine.on(S.AdEngine.Events.readyad,(t=>{this.dispatchEvent("vi-stories-ad-ready-event",{cpm:t})}),this),this.adEngine.runWaterfall()):this.v.tagConfig.DelayWaterfallStart&&(this.v.tagConfig.ClickToPlay||this.v.tagConfig.PlayInView)||(0,c.cK)((()=>{this.playPrerolls()}),this.v.tagConfig.RafWrapperEnabled)}dispose(){this.removeAllListeners(),document.removeEventListener("visibilitychange",this.boundVisibilitychange)}get playerContainer(){return this._playerContainer}set playerContainer(t){this._playerContainer=t}get canFloatNow(){return this._canFloatNow}set canFloatNow(t){this._canFloatNow=t}get canRunWaterfall(){return this._canRunWaterfall}set canRunWaterfall(t){this._canRunWaterfall=t}get adBreakType(){return this.adMonitor.adBreak.type}set adBreakType(t){this.adMonitor.adBreak.type=t,this.dispatchEvent("vi-stories-adbreak-type-change")}get adType(){var t,i;return null===(t=this.adEngine.adPlayer)||void 0===t||null===(i=t.adSource)||void 0===i?void 0:i.type}get adCompanion(){var t,i;return null===(t=this.adEngine.adPlayer)||void 0===t||null===(i=t.adSource)||void 0===i?void 0:i.companionAd}get initializedAd(){return this.adEngine.initializedAdPlayer()}get readyAd(){return this.adEngine.readyAdPlayer()}get duration(){return"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer?Math.ceil(this.adEngine.adPlayer.duration):"content"===this.v.state.currentVideoType?Math.ceil(this.contentPlayer.duration):0}get currentTime(){return"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer?Math.ceil(this.adEngine.adPlayer.currentTime):"content"===this.v.state.currentVideoType?Math.ceil(this.contentPlayer.currentTime):0}get remainingTime(){return"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer?Math.ceil(this.adEngine.adPlayer.duration-this.adEngine.adPlayer.currentTime):"content"===this.v.state.currentVideoType?Math.ceil(this.contentPlayer.duration-this.contentPlayer.currentTime):0}get mediaFileSize(){var t,i;return null===(t=this.adEngine)||void 0===t||null===(i=t.adPlayer)||void 0===i?void 0:i.mediaFileSize}get remainingSkipTime(){const t=this.adEngine.adPlayer&&this.adEngine.adPlayer.currentTime||0;return"ad"===this.v.state.currentVideoType?Math.ceil(this.config.skipTimer-t):0}get remainingAdStartTime(){let t=0;if("content"===this.v.state.currentVideoType&&null!==this.prerollDelayStart&&null!==this.prerollDelayTimer&&this.config.prerolldelay>0){const i=(new Date-this.prerollDelayStart)/1e3;t=Math.round(this.config.prerolldelay-i)}return t}resize(t,i,e){const s=i&&e?i:Math.round(t/16*9);this.playerContainer.style.width=t+"px",this.playerContainer.style.height=s+"px",this.adEngine&&this.adEngine.resize(t,s)}closePlayer(t){this.v.state.closeReason=t,"ad"===this.v.state.currentVideoType?(0,f.j)("AD_CLOSE",{},this.v):(0,f.j)("NV_CLOSE",{},this.v),this.adMonitorStop(),this.inview2sMonitorStop(),this.floatUnit(!1),!0===this.config.openAnim&&(this.playerContainer.style.height="0px");const i=this.v.topDiv.querySelector("#vi-stories-area-above-placeholder");i&&i.classList.add("displayNone");const e=this.v.topDiv.querySelector("#vi-stories-description-container");e&&e.classList.add("displayNone"),this.adEngine&&this.adEngine.dispose(),this.gui&&this.gui.dispose(),this.viewabilityService&&this.viewabilityService.dispose();this.v.topDiv.querySelector("#vi-stories-main-container").classList.add("displayNone");const s=this.v.env.fif&&window.frameElement&&!this.v.tagConfig.FallbackTag;setTimeout((()=>{this.contentPlayer&&this.contentPlayer.dispose(),this.dispatchEvent("vi-stories-close-player-event"),this.dispose(),s&&(window.frameElement.style.display="none")}),1e3),this.v.state.closeReason&&this.v.tagConfig.CustomActions&&(0,c._5)(this.v.tagConfig.CustomActions,this.v)}setVideoSource(){this.config.src=this.v.video[this.v.videoIdx].url,this.contentPlayer&&(this.contentPlayer.src=this.v.video[this.v.videoIdx].url),this.gui&&(this.gui.thumbnail=this.v.video[this.v.videoIdx].thumbnail);let t={VI_CDIM1:this.v.video[this.v.videoIdx].sourceId,VI_IAB:this.v.video[this.v.videoIdx].targetingCategoryCode||this.v.tagConfig.IAB_Category,VI_IABSHORT:(0,c.xl)(this.v.video[this.v.videoIdx].targetingCategoryCode||this.v.tagConfig.IAB_Category),VI_DURATION:this.v.video[this.v.videoIdx].duration,VI_CATEGORY:this.v.video[this.v.videoIdx].targetingCategoryName||"",VI_TITLE:this.v.video[this.v.videoIdx].title||"",VI_VIDSEG:this.v.video[this.v.videoIdx].videoSegments||""};if(("2"===this.v.tagConfig.AdUnitType.toString()||"4"===this.v.tagConfig.AdUnitType.toString())&&this.v.video[this.v.videoIdx].gsSegments&&(t.VI_GS=this.v.video[this.v.videoIdx].gsSegments),this.v.tagConfig.KeywordSearch){const i=(0,c.HB)(this.v.tagConfig.KeywordSearch,"param","AV_","VI_");t=(0,c.l7)(t,(0,c.ZB)(i))}if(this.v.tagConfig.CustomAdParams){const i=(0,c.HB)(this.v.tagConfig.CustomAdParams,"param","AV_","VI_");t=(0,c.l7)(t,(0,c.Nk)(i,this.v))}for(let i in t)t.hasOwnProperty(i)&&(this.config.macros[i]=t[i]);y.Y.dispatchEvent("vi-stories-unit-event",{action:"update",v:this.v})}playNextVideo(){this.nextVideoPrepared=!0,this.adMonitor.secPassedSinceLastAd+=this.v.video[this.v.videoIdx].duration,this.v.state.pendingNextTrack=!1,this.v.videoIdx=this.v.state.pendingNextIdx,this.currentVideoStartedByClick=!1,this.setVideoSource();const t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:encodeURIComponent(this.v.tagConfig.Language)};(0,f.j)("NV_LOADED",t,this.v),1===this.v.tagConfig.PlaylistMode?(this.adEngine.resetStats(),this.resetAdMonitor()):2===this.v.tagConfig.PlaylistMode&&(this.v.tagConfig.AutoStart=!0,this.adMonitor.secPassedSinceLastAd>=this.config.midrolltime&&this.adMonitor.adsPlayed<this.config.maximp?(this.config.preroll=1,this.adMonitor.secPassedSinceLastAd=0):this.config.preroll=0),this.dispatchEvent("vi-stories-new-content-event"),this.prerollDelayStart=null,clearTimeout(this.prerollDelayTimer),this.prerollDelayTimer=null,clearTimeout(this.adBreakRetryTimer),this.adBreakRetryTimer=null,this.adBreakRetryCounter=0,this.adEngine.cancelAd(),this.adEngine.flushReadyAdPlayers(),this.adEngine.flushCachedAdSources(),this.adEngine.incInterval("video"),(0,c.cK)((()=>{this.playPrerolls()}),this.v.tagConfig.RafWrapperEnabled)}playNextVideoIfAvailable(){this.v.video[this.v.videoIdx+1]&&(this.v.state.pendingNextIdx=this.v.videoIdx+1,this.v.state.pendingNextTrack=!0,this.playNextVideo())}createFramePlaceHolder(){if(window.frameElement&&!this.framePlaceHolder){const t=window.frameElement.getBoundingClientRect(),i=window.frameElement.parentElement;this.framePlaceHolder=document.createElement("div"),this.framePlaceHolder.id="framePlaceHolder",this.framePlaceHolder.style.position="absolute",this.framePlaceHolder.style.width="1px",this.framePlaceHolder.style.height=t.height+"px",i.parentNode.insertBefore(this.framePlaceHolder,i)}return this.framePlaceHolder}floatUnit(t,i){if(this.v.state.adUnitIsFloated===t)return;if(t&&this.v.state.playerIsPaused&&!this.v.tagConfig.FloatSettings.floatOnPaused&&!this.v.tagConfig.FloatSettings.floatFromStart)return;const e=this.v.tagConfig.FloatSettings[i]||this.v.tagConfig.FloatSettings.any;if(t&&!e)return;if(!this.canFloatNow)return;const s=e&&JSON.parse(JSON.stringify(e.position))||{};if(e&&e.originSelector&&e.originOffset){const i=window.frameElement&&this.v.env.fif&&window.top.document||window.document,n=i.querySelector(e.originSelector);if(n){const o=window.top&&window.top.innerHeight,r=i.body.clientWidth,a=window.getComputedStyle(n,null),l=n.getBoundingClientRect(),d={bottom:o-l.bottom,left:l.left,right:r-l.right,top:l.top};if(["bottom","left","right","top"].forEach((t=>{e.originOffset.hasOwnProperty(t)&&(s[t]=d[t]+(a?parseFloat(a.getPropertyValue("padding-"+t)):0)+parseFloat(e.originOffset[t])+"px")})),t&&(s.bottom&&parseFloat(s.bottom)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=o||s.left&&parseFloat(s.left)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=r||s.right&&parseFloat(s.right)+this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize>=r||s.top&&parseFloat(s.top)+this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize>=o))return}}this.v.state.adUnitIsFloated=t,y.Y.dispatchEvent("vi-stories-unit-event",{action:"float",v:this.v,info:t});const n=t?{bottom:void 0!==s.bottom?s.bottom:"",left:void 0!==s.left?s.left:"",position:"fixed",right:void 0!==s.right?s.right:"",top:void 0!==s.top?s.top:"",zIndex:this.v.tagConfig.ZIndexFloat}:{bottom:"",left:"",position:"relative",right:"",top:"",zIndex:this.v.tagConfig.ZIndexBase},o=t?{transform:"scale("+this.v.tagConfig.FloatSize+")",transformOrigin:e.transformOrigin,webkitTransform:"scale("+this.v.tagConfig.FloatSize+")",webkitTransformOrigin:e.transformOrigin}:{transform:"none",transformOrigin:"",webkitTransform:"none",webkitTransformOrigin:""},r=this.v.topDiv.querySelector("#vi-stories-main-container");for(let t in o)o.hasOwnProperty(t)&&(r.style[t]=o[t]);if(window.frameElement&&window.frameElement.parentElement){const i=window.frameElement.parentElement;this.framePlaceHolder&&this.framePlaceHolder.style.setProperty("position",t?"static":"absolute"),n.overflow=t?"hidden":"";for(let t in n)n.hasOwnProperty(t)&&(i.style[t]=n[t]);if(t){const t="hide"!==this.v.tagConfig.CloseButton&&"outside-vi-unit"===this.v.tagConfig.CloseButtonSettings.location&&this.v.env.fif&&window.frameElement?25:0;let e=Math.ceil(this.playerContainer.offsetWidth*this.v.tagConfig.FloatSize),s=Math.ceil(this.playerContainer.offsetHeight*this.v.tagConfig.FloatSize)+t;if("ribbon"===this.v.tagConfig.FloatLayoutMode){const i=window.frameElement&&this.v.env.fif&&window.top.document||window.document,n=this.v.tagConfig.FloatLayoutSettings.ribbonPlayerWidth||.47;e=i.body.clientWidth,s=i.body.clientWidth*n*9/16+t,window.frameElement.style.width="100%"}i.style.width=e+"px",i.style.height=s+"px",window.frameElement.contentDocument.body.classList.add("vi-stories-floating"),r.style.margin="0",r.style.transformOrigin="top left"}else"ribbon"===this.v.tagConfig.FloatLayoutMode&&(window.frameElement.style.width=""),i.style.width="",i.style.height="",window.frameElement.contentDocument.body.classList.remove("vi-stories-floating"),r.style.margin="0 auto",r.style.transformOrigin=""}else{const i=this.v.topDiv.querySelector("#vi-stories-main-placeholder");i.style.height=r.offsetHeight+"px",t?i.classList.remove("displayNone"):i.classList.add("displayNone");for(let t in n)n.hasOwnProperty(t)&&(r.style[t]=n[t])}t?r.classList.add("vi-stories-floating"):r.classList.remove("vi-stories-floating"),"ribbon"===this.v.tagConfig.FloatLayoutMode&&(t?r.classList.add("vi-stories-ribbon-ui"):r.classList.remove("vi-stories-ribbon-ui"),this.playerContainer.style.width="",this.playerContainer.style.height="",this.resize(this.playerContainer.offsetWidth))}handleError(t){(0,f.j)("ERROR",{error_msg:t},this.v),this.dispatchEvent("vi-stories-error-event",{message:t})}handleOutOfView(){!this.v.tagConfig.Float&&(this.v.tagConfig.PauseOutOfView||this.adEngine.adPlayer&&this.adEngine.adPlayer.adSource&&this.adEngine.adPlayer.adSource.pauseOutOfView)?this.v.state.adUnitInView||this.v.state.outOfViewPaused?this.v.state.adUnitInView&&this.v.state.outOfViewPaused&&("content"===this.v.state.currentVideoType?(this.v.state.outOfViewPaused=!1,this.contentPlayer.play()):"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&(this.v.state.outOfViewPaused=!1,this.adEngine.adPlayer.play())):"content"===this.v.state.currentVideoType?(this.v.state.outOfViewPaused=!0,this.contentPlayer.pause()):"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&(!this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds||this.v.tagConfig.PauseOutOfViewSettings.beforeSeconds>this.adEngine.adPlayer.currentTime)&&(this.v.state.outOfViewPaused=!0,this.adEngine.adPlayer.pause()):!this.v.tagConfig.Float&&this.v.tagConfig.PauseOutOfViewPlaylist&&this.v.state.adUnitInView&&this.v.state.outOfViewPaused&&(this.v.state.outOfViewPaused=!1,this.v.state.pendingNextTrack=!0,this.playNextVideo())}unmutePlayer(){const t="content"===this.v.state.currentVideoType?this.contentPlayer:"ad"===this.v.state.currentVideoType?this.adEngine.adPlayer:null;t&&(t.muted=!1),this.onGuiVolumechange.call(this)}onTransitionend(){const t=this.v.topDiv.querySelector("#vi-stories-main-container");t.removeEventListener("transitionend",this.boundTransitionend),t.classList.remove("transformTransition"),t.style.transform="none",t.style.webkitTransform="none",t.style.transformOrigin="",t.style.webkitTransformOrigin="",this.v.state.adUnitIsSticky=!1,this.floatUnit(!1)}adMonitorStart(){this.adMonitor.lastTimestamp=Date.now(),this.adMonitorStop();let t=this.config.midroll,i=this.playMidrolls.bind(this);if("preroll"===this.adMonitor.nextAdType&&(t=this.config.preroll,i=this.playPrerolls.bind(this)),t>0&&this.adMonitor.adsPlayed<this.config.maximp){const t=this.config.midrolltime-this.adMonitor.secPlayedSinceLastAd;clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=setTimeout(i,1e3*t)}}adMonitorStop(){null!==this.adMonitor.playAdsTimer&&(this.adMonitor.lastTimestamp&&(this.adMonitor.secPlayedSinceLastAd+=(Date.now()-this.adMonitor.lastTimestamp)/1e3),clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null)}playPrerolls(){clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null,this.config.preroll>0&&this.adMonitor.adsPlayed<this.config.maximp?(this.adBreakType="preroll",this.adMonitor.adBreak.adsLeft=this.config.preroll,this.prepareAd()):(this.adBreakType="",this.adMonitor.nextAdType="midroll",this.resumeContent())}playMidrolls(){clearTimeout(this.adMonitor.playAdsTimer),this.adMonitor.playAdsTimer=null,this.config.midroll>0&&this.adMonitor.adsPlayed<this.config.maximp&&(this.adBreakType="midroll",this.adMonitor.adBreak.adsLeft=this.config.midroll,this.prepareAd())}prepareAd(){if(!this.v.tagConfig.NoAds){if(!this.canRunWaterfall){this.handleError(a.p.blockWaterfallCondition+": missingImpressionListener");const t=new CustomEvent("vi-stories-error-event",{detail:{id:this.v.env.adUnitId,divid:this.v.topDivId,publisherid:this.v.tagConfig.PublisherID,reason:"missingImpressionListener"}});return(this.v.env.fif&&!this.v.env.amp&&window.top||window).dispatchEvent(t),void this.closePlayer("error")}if((0,f.j)("INVENTORY",{},this.v),this.adEngine.off(S.AdEngine.Events.readyad,this.onAdReady,this),this.readyAd)return this.onAdReady();this.adEngine.once(S.AdEngine.Events.readyad,this.onAdReady,this),this.adEngine.runWaterfall().then((()=>{}),(t=>{if(t===S.AdEngine.Errors.nopublisherid)return this.handleError(a.p.noPublisherId),void this.closePlayer("error");if(t!==S.AdEngine.Errors.disposed&&(t===S.AdEngine.Errors.retrylimitreached&&this.onAdEngineAdsourcesexhausted(),!this.readyAd&&!this.adEngine.disposed)){const t=this.v.tagConfig.AutoStart&&(!this.v.tagConfig.PlayInView||this.v.state.adUnitInView||this.v.state.adUnitIsFloated),i=this.adMonitor.adsPlayed>0&&this.adMonitor.adBreak.adsLeft>0;t||i||"midroll"===this.adBreakType?(this.resumeContent(),this.adMonitorStart()):this.v.tagConfig.AdBreakRetry&&this.v.tagConfig.AdBreakRetrySettings&&this.v.tagConfig.AdBreakRetrySettings.retryCount>0&&this.v.tagConfig.AdBreakRetrySettings.retryDelay>0&&"preroll"===this.adBreakType&&null===this.adBreakRetryTimer&&this.adBreakRetryCounter<this.v.tagConfig.AdBreakRetrySettings.retryCount&&(this.adBreakRetryTimer=setTimeout((()=>{this.v.state.currentVideoType||(clearTimeout(this.adBreakRetryTimer),this.adBreakRetryTimer=null,this.adBreakRetryCounter++,this.adEngine.resetStats(),this.prepareAd())}),1e3*this.v.tagConfig.AdBreakRetrySettings.retryDelay))}})).finally((()=>{}))}}onAdReady(t){this.v.state.adIsLoaded=!0,this.dispatchEvent("vi-stories-ad-ready-event",{cpm:t}),this.v.tagConfig.AutoStartAds&&(this.tryShowUnit(),this.tryStartAd())}tryShowUnit(t){let i="";if(!this.v.env.amp&&this.v.tagConfig.HideUnit&&(-1!==this.v.tagConfig.HideUnit.indexOf("beforeAdQueued")||-1!==this.v.tagConfig.HideUnit.indexOf("beforeAd")?i="beforeAd":-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&(i="beforeRcAndAd")),"beforeAd"===i&&this.v.state.adIsLoaded||"beforeRcAndAd"===i&&this.v.state.remoteControlInViewOnce&&this.v.state.adIsLoaded||("beforeRcAndAd"===i||"beforeAd"===i)&&t){this.v.state.adUnitIsHidden=!1,this.v.env.fif&&window.frameElement&&(window.frameElement.style.display="block");const t=this.v.topDiv.querySelector("#vi-stories-main-container");t&&(t.classList.remove("displayNone"),this.resize(t.offsetWidth))}}tryStartAd(){const t=this.v.state.adUnitIsClicked||!this.v.tagConfig.ClickToPlay,i=!this.v.tagConfig.PlayInView||this.v.state.adUnitInView||this.v.state.adUnitIsFloated,e=!this.v.tagConfig.PlayInFocus||!0===this.v.state.pageIsVisible,s=-1!==this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd")&&this.v.state.remoteControlInViewOnce||-1===this.v.tagConfig.HideUnit.indexOf("beforeRcAndAd");t&&i&&e&&s&&this.v.state.adIsLoaded&&!this.v.state.adUnitIsHidden&&!this.v.state.displayAdIsVisible?"preroll"===this.adBreakType&&null===this.prerollDelayTimer&&this.config.prerolldelay>0&&!this.startAdPending?this.resumeContent():this.playAd():this.v.tagConfig.DelayWaterfallStart&&(this.v.tagConfig.ClickToPlay&&this.v.state.adUnitIsClicked||this.v.tagConfig.PlayInView&&this.v.state.adUnitInViewOnce)&&this.playPrerolls()}playAd(){(0,c.pn)(this.v.topDiv.parentNode)&&(this.startAdPending||this.v.state.playerIsPausedByUser||(this.startAdPending=!0,this.v.tagConfig.FloatSettings.floatFromStart&&this.onViewabilitychange(),this.adEngine.startAd(this.adBreakType,this.v.state.adUnitIsClicked).then((t=>(this.contentPlayer.pause(),t.fullscreen=this.contentPlayer.fullscreen,t.muted=this.v.state.playerIsMuted,this.gui.attach(t),S.AdEngine.onceAdPlayerDone(t).then((()=>{(0,c.cK)((()=>{this.startAdPending=!1,this.onAdFinished(!1)}),this.v.tagConfig.RafWrapperEnabled)}),(()=>{(0,c.cK)((()=>{this.v.state.currentVideoType=void 0,this.gui.attach(this.contentPlayer),this.startAdPending=!1,this.onAdFinished(!0)}),this.v.tagConfig.RafWrapperEnabled)})))),(t=>{(0,c.cK)((()=>{this.startAdPending=!1,this.onAdFinished(!0)}),this.v.tagConfig.RafWrapperEnabled)}))))}playAdCF(){this.startAdPending||(this.startAdPending=!0,this.adEngine.startAd(this.adBreakType,this.v.state.adUnitIsClicked).then((t=>(this.gui.attach(t),S.AdEngine.onceAdPlayerDone(t).finally((()=>{this.startAdPending=!1,this.gui.detach()})))),(t=>{(0,c.cK)((()=>{this.startAdPending=!1,this.gui.detach()}),this.v.tagConfig.RafWrapperEnabled)})))}skipAd(){this.adEngine.cancelAd()}onAdFinished(t){if(this.v.state.adIsLoaded=!1,this.adMonitor.adBreak.adsLeft--,!t&&this.adMonitor.adsPlayed++,this.adEngine.adPlayer&&(this.contentPlayer.fullscreen=this.adEngine.adPlayer.fullscreen),this.adMonitor.adBreak.adsLeft>0)this.prepareAd();else{if("1"===this.v.tagConfig.AdUnitType.toString()&&this.closePlayer("ad-complete"),(!t||t&&(this.v.tagConfig.AutoStart||"midroll"===this.adBreakType))&&this.resumeContent(),t){if(this.readyAd)return this.onAdReady();this.adEngine.once(S.AdEngine.Events.readyad,this.onAdReady,this)}"preroll"===this.adBreakType&&(this.adMonitor.nextAdType="midroll"),this.adBreakType=""}}resetAdMonitor(){this.adBreakType="",this.adMonitor.adBreak.adsLeft=0,this.adMonitor.lastTimestamp=null,this.adMonitor.nextAdType="preroll",this.adMonitor.secPlayedSinceLastAd=0,this.adMonitor.adsPlayed=0}resumeContent(){this.v.state.adUnitIsHidden||(this.gui.attach(this.contentPlayer),this.contentPlayer.play(),this.contentPlayer.muted=this.v.state.playerIsMuted,this.adMonitor.lastTimestamp=null,this.adMonitor.secPlayedSinceLastAd=0)}onAdEnginePlaying(){this.v.state.currentVideoType="ad",this.v.state.playerIsPaused=!1,this.gui.controlsBarIsShown=!0,this.gui.progressBarIsShown=!0,this.gui.allowRewind=!1;const t=this.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-content"),t.classList.add("vi-stories-playing-ad");const i=this.playerContainer.querySelector("#vi-stories-ad-container");i&&(i.style.zIndex="auto"),this.v.state.adUnitInViewOnce&&this.onViewabilitychange(),y.Y.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v})}onAdEnginePause(){}onAdEngineFirstQuartile(){const t={ad_source_id:this.v.env.asid};(0,f.j)("AD_25",t,this.v),this.dispatchEvent("vi-stories-ad-progress-25-event")}onAdEngineMidpoint(){const t={ad_source_id:this.v.env.asid};(0,f.j)("AD_50",t,this.v),this.dispatchEvent("vi-stories-ad-progress-50-event")}onAdEngineThirdQuartile(){const t={ad_source_id:this.v.env.asid};(0,f.j)("AD_75",t,this.v),this.dispatchEvent("vi-stories-ad-progress-75-event")}onAdEngineEnded(){const t={ad_source_id:this.v.env.asid};(0,f.j)("AD_100",t,this.v),this.dispatchEvent("vi-stories-ad-complete-event")}onAdEngineSkipped(){this.dispatchEvent("vi-stories-ad-skipped-event")}onAdEngineClick(){const t={ad_source_id:this.v.env.asid};(0,f.j)("CLICK",t,this.v),this.dispatchEvent("vi-stories-ad-click-event")}onAdEngineTimeupdate(){this.dispatchEvent("vi-stories-timeupdate-event")}onAdEngineAdsourcesgetstart(){this.dispatchEvent("vi-stories-adsourcesgetstart-event")}onAdEngineAdsourcesgetend(){this.dispatchEvent("vi-stories-adsourcesgetend-event")}onAdEngineError(t){(0,f.j)("WARNING",{error_msg:"AD_ENGINE: "+(t&&t.message)},this.v)}onAdEngineQueuedad(){this.firstAdQueuedEvent||(this.firstAdQueuedEvent=!0,this.v.tagConfig.HideUnit&&-1!==this.v.tagConfig.HideUnit.indexOf("beforeAdQueued")&&this.tryShowUnit(!0),this.dispatchEvent("vi-stories-ad-queued-event"))}onAdEngineBid(t){this.dispatchEvent("vi-stories-ad-bid-event",A({},t))}onAdEngineAdReject(t){this.dispatchEvent("vi-stories-ad-reject-event",A({},t))}onAdEngineAdLog(t){this.dispatchEvent("vi-stories-ad-log-event",A({},t))}onAdEngineImpression(t){var i,e,s,n;const o=null===(i=this.adEngine.adPlayer)||void 0===i?void 0:i.adSource;this.v.env.asid=(null==o||null===(e=o.trackingParams)||void 0===e?void 0:e.ad_source_id)||(null==o?void 0:o.id)||"",this.adImp=!0,this.adInview2s=!1,this.v.tagConfig.IASPixelEnabled&&(0,f.Wz)(this.v.tagConfig.AppBundle||this.v.env.pageDomain,this.v.tagConfig.PublisherID,this.v.env.asid);const r={ad_source_id:this.v.env.asid};if(this.adBreakRetryCounter&&(r.data="retry: "+this.adBreakRetryCounter),(0,f.j)("IMP",r,this.v),this.v.video[this.v.videoIdx].contentCost&&this.v.video[this.v.videoIdx].contentCost.revShare){const t="preroll"!==this.adBreakType;this.adEngine.trackContentCost(t,this.v.video[this.v.videoIdx].contentCost.revShare,this.v.video[this.v.videoIdx].contentCost.contentHash)}this.dispatchEvent("vi-stories-ad-impression-event",A(A({},t),{},{netCpm:this.adEngine.adPlayer.netCpm,ts:this.adEngine.adPlayer.ts,glgr:this.adEngine.adPlayer.glgr,demandPartnerId:this.adEngine.adPlayer.demandPartnerId,acu:this.adEngine.adPlayer.acu,acid:this.adEngine.adPlayer.acid,iod:this.adEngine.adPlayer.iod,ptf:this.adEngine.adPlayer.ptf,sspPartnerId:this.adEngine.adPlayer.sspPartnerId,adomain:this.adEngine.adPlayer.adomain,isFirstAuction:null===(s=this.adEngine.adPlayer.adSource)||void 0===s?void 0:s.isFirstAuction,videoLinearity:(0,c.mn)(null===(n=this.adEngine.adPlayer.adSource)||void 0===n?void 0:n.url,"videolinearity")},this.adEngine.adPlayer.odbParams)),this.v.tagConfig&&this.v.tagConfig.CallbackFunction&&"function"==typeof this.v.tagConfig.CallbackFunction&&this.v.tagConfig.CallbackFunction("SUCCESS")}onAdEngineViewableImpression(){if(this.adInview2s=!0,!this.v.tagConfig.Float&&this.v.state.adUnitIsFloated&&this.v.tagConfig.AllowSticky2s&&this.adEngine.adPlayer.adSource.sticky2sec){var t;const i=this.v.topDiv.getBoundingClientRect(),e=(null===(t=this.v.tagConfig.AllowSticky2sSettings)||void 0===t?void 0:t.offsetTop)||0;if(i.top<e){const t=this.v.topDiv.querySelector("#vi-stories-main-container"),s="translateY("+(i.top-e)+"px)";t.style.transform=s,t.style.webkitTransform=s,t.style.transformOrigin="top right",t.style.webkitTransformOrigin="top right",this.boundTransitionend=this.onTransitionend.bind(this),t.addEventListener("transitionend",this.boundTransitionend),t.classList.add("transformTransition")}}const i={ad_source_id:this.v.env.asid};(0,f.j)("VIEWABLE_IMP",i,this.v),this.dispatchEvent("vi-stories-ad-progress-2s-event")}onNoAdSources(){this.v.tagConfig.NoAds||(0,f.j)("WARNING",{error_msg:a.p.noAdSources},this.v),this.onAdEngineAdsourcesexhausted()}onNoAdSourcesNow(){this._noAdSourcesNow=!0}onAdEngineAdsourcesexhausted(){this.adImp||this.adSourcesExhausted||(this.adSourcesExhausted=!0,this.v.tagConfig.NoAds||this.dispatchEvent("vi-stories-adsourcesexhausted-event"))}onAdEnginePlayerremoved(t){"cancelAd"===t&&this.dispatchEvent("vi-stories-ad-skipped-event")}onContentPlayerCanplay(){}onContentPlayerPlaying(){this.v.state.currentVideoType="content",this.v.state.playerIsPaused=!1,this.gui.controlsBarIsShown=!0,this.gui.progressBarIsShown=!0,this.gui.allowRewind=!0,this.adInviewOnce=!1;const t=this.v.topDiv.querySelector("#vi-stories-main-container");t.classList.remove("vi-stories-playing-ad"),t.classList.add("vi-stories-playing-content"),this.started&&!this.nextVideoPrepared||(this.started||(this.started=!0),this.nextVideoPrepared&&(this.nextVideoPrepared=!1),this.v.video[this.v.videoIdx].contentCost&&(this.v.video[this.v.videoIdx].contentCost.revShare?this.adEngine.trackContentCost(!0):this.adEngine.trackContentCost(!0,this.v.video[this.v.videoIdx].contentCost.revShare,this.v.video[this.v.videoIdx].contentCost.contentHash)),(0,f.j)("NV_START",{},this.v),this.dispatchEvent("vi-stories-content-impression-event",{startedByClick:this.currentVideoStartedByClick})),this.v.tagConfig.ControlBarAutohide&&this.v.env.mobile&&(this.gui.autohideControlBar=!0);const i=this.playerContainer.querySelector("#vi-stories-ad-container");i&&(i.style.zIndex=-1),this.dispatchEvent("vi-stories-content-playing-event"),y.Y.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v}),"preroll"===this.adBreakType&&null===this.prerollDelayTimer&&this.config.prerolldelay>0&&!this.startAdPending&&(this.prerollDelayStart=new Date,this.prerollDelayTimer=setTimeout((()=>{this.prerollDelayStart=null,clearTimeout(this.prerollDelayTimer),this.prerollDelayTimer=null,this.playAd()}),1e3*this.config.prerolldelay)),null===this.prerollDelayTimer&&(this.adMonitor.nextAdType="midroll",this.adMonitorStart())}onContentPlayerPause(){this.adMonitorStop(),this.v.tagConfig.ControlBarAutohide&&this.v.env.mobile&&(this.gui.autohideControlBar=!1)}onContentPlayerFirstquartile(){(0,f.j)("NV_25",{},this.v),this.dispatchEvent("vi-stories-content-progress-25-event")}onContentPlayerMidpoint(){(0,f.j)("NV_50",{},this.v),this.dispatchEvent("vi-stories-content-progress-50-event")}onContentPlayerThirdquartile(){(0,f.j)("NV_75",{},this.v),this.dispatchEvent("vi-stories-content-progress-75-event")}onContentPlayerEnded(){this.v.state.currentVideoType=void 0;this.v.topDiv.querySelector("#vi-stories-main-container").classList.remove("vi-stories-playing-ad","vi-stories-playing-content"),(0,f.j)("NV_100",{},this.v),this.dispatchEvent("vi-stories-current-content-complete-event"),this.v.tagConfig.PlaylistMode>0&&this.v.video[this.v.videoIdx+1]&&this.v.videoIdx+1<this.v.tagConfig.PlaylistLength?(this.v.state.pendingNextIdx=this.v.videoIdx+1,1===this.v.tagConfig.PlaylistMode?(this.v.state.pendingNextTrack=!0,this.playNextVideo()):2===this.v.tagConfig.PlaylistMode&&(!this.v.tagConfig.PauseOutOfViewPlaylist||this.v.state.adUnitInView||this.v.state.adUnitIsFloated?(this.v.state.pendingNextTrack=!0,this.playNextVideo()):this.v.state.outOfViewPaused=!0)):(this.floatUnit(!1),this.dispatchEvent("vi-stories-all-content-complete-event"),!this.v.env.amp&&this.v.tagConfig.HideUnit&&-1!==this.v.tagConfig.HideUnit.indexOf("afterContent")&&(this.v.state.currentVideoType="content",this.closePlayer("all-content-complete")),this.ended=!0)}onContentPlayerClick(){this.v.tagConfig.ContentClickthrough&&((0,f.j)("NV_CLICK_THRU",{},this.v),window.open(this.v.tagConfig.ContentClickthrough,"_blank")),this.dispatchEvent("vi-stories-content-click-event")}onContentPlayerTimeupdate(){this.dispatchEvent("vi-stories-timeupdate-event")}onContentPlayerError(t){(0,f.j)("WARNING",{error_msg:"CONTENT_PLAYER: "+(t&&t.message)},this.v)}onGuiPlay(){if(this.adEngine.contentClickOccurred(),this.v.state.playerIsPaused=!1,this.v.state.playerIsPausedByUser=!1,this.gui.controlsBarIsShown=!0,"content"===this.v.state.currentVideoType)(0,f.j)("NV_PLAY",{},this.v);else if("ad"===this.v.state.currentVideoType){const t={ad_source_id:this.v.env.asid};(0,f.j)("AD_PLAY",t,this.v)}else if(this.ended){this.currentVideoStartedByClick=!0;const t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:encodeURIComponent(this.v.tagConfig.Language)};(0,f.j)("NV_REPLAY",t,this.v),this.ended=!1}else this.v.state.adUnitIsClicked=!0,this.currentVideoStartedByClick=!0,(0,f.j)("NV_CLICK",{},this.v),this.v.tagConfig.UnmuteOnClickStart&&this.contentPlayer&&(this.contentPlayer.muted=!1,this.v.state.playerIsMuted=this.contentPlayer.muted,this.dispatchEvent("vi-stories-mute-unmute-event")),this.v.tagConfig.ClickToPlayAdSources?(this.config.macros.VI_CLICK_TO_PLAY="true",this.prepareAd()):this._noAdSourcesNow&&this.prepareAd(),this.tryStartAd();this.dispatchEvent("vi-stories-play-event"),y.Y.dispatchEvent("vi-stories-unit-event",{action:"play",v:this.v,info:"userAction"})}onGuiPause(){if(this.adEngine.contentClickOccurred(),"content"===this.v.state.currentVideoType)(0,f.j)("NV_PAUSE",{},this.v);else if("ad"===this.v.state.currentVideoType){const t={ad_source_id:this.v.env.asid};(0,f.j)("AD_PAUSE",t,this.v)}this.v.state.playerIsPaused=!0,this.v.state.playerIsPausedByUser=!0,this.v.tagConfig.FloatSettings.floatOnPaused||this.floatUnit(!1),this.dispatchEvent("vi-stories-pause-event"),y.Y.dispatchEvent("vi-stories-unit-event",{action:"pause",v:this.v,info:"userAction"})}onGuiVolumechange(){if(this.adEngine.contentClickOccurred(),"content"===this.v.state.currentVideoType)this.v.state.playerIsMuted=this.contentPlayer.muted,this.adEngine.adPlayer&&(this.adEngine.adPlayer.muted=this.v.state.playerIsMuted),this.v.state.playerIsMuted?(0,f.j)("NV_MUTE",{},this.v):(0,f.j)("NV_UNMUTE",{},this.v);else if("ad"===this.v.state.currentVideoType){this.v.state.playerIsMuted=this.adEngine.adPlayer&&this.adEngine.adPlayer.muted,this.contentPlayer&&(this.contentPlayer.muted=this.v.state.playerIsMuted);const t={ad_source_id:this.v.env.asid};this.v.state.playerIsMuted?(0,f.j)("AD_MUTE",t,this.v):(0,f.j)("AD_UNMUTE",t,this.v)}this.dispatchEvent("vi-stories-mute-unmute-event")}onGuiRewind(){this.adEngine.contentClickOccurred(),this.dispatchEvent("vi-stories-content-timeline-click-event"),(0,f.j)("NV_TIMELINE_CLICK",{},this.v)}onViewabilitychange(){const t=this.v.state.adUnitInViewOnce;this.v.state.adUnitInView=this.viewabilityService.visible,this.v.state.adUnitInView&&(this.v.state.adUnitInViewOnce=!0,"ad"===this.v.state.currentVideoType&&(this.adInviewOnce=!0));const i="above"===this.viewabilityService.position?"down":"below"===this.viewabilityService.position?"up":null;let e=!1;this.v.tagConfig.Float&&!this.v.state.adUnitInView&&(!this.v.state.adUnitInViewOnce&&this.v.tagConfig.FloatSettings.floatFromStart||this.v.state.adUnitInViewOnce&&(this.v.tagConfig.FloatSettings.floatOnPaused||this.v.state.currentVideoType))&&(e=!0),this.v.state.adUnitIsSticky||this.floatUnit(e,i),t||!this.v.state.adUnitInViewOnce&&!e||(this.v.state.adUnitInViewOnce=!0,(0,f.j)("INVIEW",{},this.v)),this.v.tagConfig.AutoStart&&this.v.tagConfig.PlayInView&&(this.v.state.adUnitInView||this.v.state.adUnitIsFloated)&&!this.v.state.currentVideoType&&this.resumeContent(),this.v.tagConfig.AutoStartAds&&this.tryStartAd(),this.inview2sMonitorStart(),this.handleOutOfView(),this.dispatchEvent("vi-stories-viewability-change-event")}onViewabilitychangeSticky2s(){var t,i;const e="above"===this.viewabilityServiceSticky2s.position?"down":"below"===this.viewabilityServiceSticky2s.position?"up":null;var s;!this.v.tagConfig.Float&&!this.viewabilityServiceSticky2s.visible&&this.v.state.adUnitInViewOnce&&"ad"===this.v.state.currentVideoType&&this.v.tagConfig.AllowSticky2s&&null!==(t=this.adEngine.adPlayer)&&void 0!==t&&null!==(i=t.adSource)&&void 0!==i&&i.sticky2sec&&!0===this.adInviewOnce&&!1===this.adInview2s&&"down"===e&&(this.v.tagConfig.FloatSettings={down:{transformOrigin:"top right",position:{top:((null===(s=this.v.tagConfig.AllowSticky2sSettings)||void 0===s?void 0:s.offsetTop)||0)+"px"},originSelector:"#"+this.v.topDivId,originOffset:{}},floatOnPaused:!1,floatFromStart:!1},this.v.tagConfig.FloatSize=1,this.v.state.adUnitIsSticky=!0,this.floatUnit(!0,e))}onVisibilitychange(){if(this.v&&this.v.state&&(this.v.state.pageIsVisible="visible"===document.visibilityState),this.dispatchEvent("vi-stories-page-visibility-change"),this.v.env.mobile){const t=this.v&&this.v.state&&this.v.state.playerIsMuted,i=this.v&&this.v.state&&this.v.state.playerIsPaused;this.v.state.pageIsVisible||t||i||this.pause()}}inview2sMonitorStart(){const t=this.v.state.adUnitInView||this.v.state.adUnitIsFloated;!t||this.inview2s||this.inview2sTimer?t||this.inview2sMonitorStop():this.inview2sTimer=setTimeout((()=>{this.inview2s=!0,this.inview2sMonitorStop(),(0,f.j)("INVIEW_2S",{},this.v),this.adEngine.trackInview(),this.dispatchEvent("vi-stories-inview-2s-event")}),2e3)}inview2sMonitorStop(){clearTimeout(this.inview2sTimer),this.inview2sTimer=null}play(){this.v.state.playerIsPaused=!1,"content"===this.v.state.currentVideoType?this.contentPlayer.play():"ad"===this.v.state.currentVideoType?this.adEngine.adPlayer&&this.adEngine.adPlayer.play():setTimeout((()=>{this.contentPlayer.play()}),0),this.dispatchEvent("vi-stories-play-event")}pause(){this.v.state.playerIsPaused=!0,this.floatUnit(!1),"content"===this.v.state.currentVideoType?this.contentPlayer.pause():"ad"===this.v.state.currentVideoType&&this.adEngine.adPlayer&&this.adEngine.adPlayer.pause(),this.dispatchEvent("vi-stories-pause-event")}}var L=__webpack_require__(597),O=__webpack_require__(379),D=__webpack_require__.n(O),U=__webpack_require__(795),N=__webpack_require__.n(U),z=__webpack_require__(569),j=__webpack_require__.n(z),V=__webpack_require__(565),B=__webpack_require__.n(V),R=__webpack_require__(216),F=__webpack_require__.n(R),H=__webpack_require__(589),W=__webpack_require__.n(H),q=__webpack_require__(958),Z={};Z.styleTagTransform=W(),Z.setAttributes=B(),Z.insert=j().bind(null,"head"),Z.domAPI=N(),Z.insertStyleElement=F();D()(q.Z,Z);q.Z&&q.Z.locals&&q.Z.locals;function G(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,s)}return e}function Y(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?G(Object(e),!0).forEach((function(i){Q(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):G(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function Q(t,i,e){return(i=function(t){var i=function(t,i){if("object"!=typeof t||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:String(i)}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}class J{constructor(t,e,s,n,l){let d,h,v,g;this.referenceElem=null,this.disposed=!1,this.ready=!1,this.error="";for(let i in t)t.hasOwnProperty(i)&&(0,c.HD)(t[i])&&(t[i]=t[i].trim());l.fif&&window.frameElement&&(window.frameElement.contentDocument.body.classList.add("vi-stories-inside-iframe"),window.frameElement.style.backgroundColor="transparent"),this.v={env:l,state:JSON.parse(JSON.stringify(i)),topDiv:null,topDivId:"",video:JSON.parse(JSON.stringify(r.video)),videoIdx:r.videoIdx},["tagConfig","remoteControlConfig","viPlayerConfig","prebidConfig"].map((t=>this.v[t]=(0,c.l7)({},r[t]))),this.v.env.mobile&&r.mobile&&["tagConfig","remoteControlConfig","viPlayerConfig","prebidConfig"].map((t=>this.v[t]=(0,c.l7)(this.v[t],r.mobile[t]))),this.v.tagConfig=(0,c.CB)(this.v.tagConfig,t),["remoteControlConfig","viPlayerConfig","prebidConfig"].map((i=>this.v[i]=(0,c.CB)(this.v[i],t[i]))),this.v.env.mobile&&t.mobile&&(this.v.tagConfig=(0,c.CB)(this.v.tagConfig,t.mobile),["remoteControlConfig","viPlayerConfig","prebidConfig"].map((i=>this.v[i]=(0,c.CB)(this.v[i],t.mobile[i])))),Object.assign(this.v.viPlayerConfig,this.v.tagConfig.ViVideoPlayerSettings);const p=-1!==o.indexOf(navigator.userAgent)?a.p.crawlerUa:l.fif||t.AllowNonFriendlyIframe?"":a.p.nonFif;if(p)return void this.handleError(p);if(!t.PublisherID||"-1"===t.PublisherID)return void this.handleError(a.p.noPublisherId);const u={CustomTrackingUrlDispImp:"DISP_IMP",CustomTrackingUrlDispBImp:"DISP_B_IMP",CustomTrackingUrlError:"ERROR",CustomTrackingUrlImpression:"IMP",CustomTrackingUrlPlacement:"PLACEMENT"};Object.keys(u).map((t=>{this.v.tagConfig[t]&&(this.v.tagConfig.CustomTracking||(this.v.tagConfig.CustomTracking={}),this.v.tagConfig.CustomTracking[u[t]]=[this.v.tagConfig[t]],delete this.v.tagConfig[t])}));const m=document.querySelectorAll(".vi-stories-script-loader");for(let i=0;i<m.length;i++)if(m[i].getAttribute("data-publisher-id")===t.PublisherID&&m[i].getAttribute("data-position-id")===t.PositionID&&!m[i].hasAttribute("data-source-passed")){(e=m[i]).setAttribute("data-source-passed","true");break}if(!e)for(let i=0,s=document.getElementsByTagName("script");i<s.length;i++)if(h=s[i].text,h&&/\(\s*function\s*\(\s*v\s*,\s*i\s*\)\s*{/gi.test(h)&&-1!==h.indexOf(t.ChannelID)&&!s[i].hasAttribute("data-source-passed")){(e=s[i]).setAttribute("data-source-passed","true"),d=h.match(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i),d&&d.length>0&&(v=d[0]);break}if(e){if(e.parentNode&&"head"===e.parentNode.tagName.toLowerCase())return void this.handleError(a.p.head);this.referenceElem=e}else this.referenceElem=document.getElementById("vi-"+t.PublisherID),this.referenceElem||(this.referenceElem=document.createElement("script"),document.body.appendChild(this.referenceElem));if(!s)if(v){for(let t=0,i=document.getElementsByTagName("script");t<i.length;t++)if(g=i[t].src,g&&-1!==v.indexOf(g)){s=g;break}}else s="https://s.vi-serve.com/";let y;this.v.tagConfig.RafWrapperEnabled=!this.v.env.amp,y=n?Promise.resolve():this.loadPublisherConfigs(this.v.tagConfig.PublisherID,this.v.env.pageDomain).finally((()=>this.v.tagConfig.Prebid?this.loadPublisherConfigs(this.v.tagConfig.PublisherID,this.v.env.pageDomain,"prebid"):Promise.resolve())),y.finally((()=>{var t,i;"skipContent"===(null===(t=this.v.tagConfig)||void 0===t||null===(i=t.ViVideoPlayerSettings)||void 0===i?void 0:i.vidgetFeatureFlag)&&(this.v.tagConfig=Y(Y({},this.v.tagConfig),{},{SkipContent:!0,SkipContentSettings:{contentPlayTime:15,labelShowTime:5,label:"Continue watching"}})),this.initUnit()}))}publisherConfig(t){["tagConfig","remoteControlConfig","viPlayerConfig","prebidConfig"].map((i=>this.v[i]=(0,c.CB)(this.v[i],t[i]))),this.v.env.mobile&&t.mobile&&["tagConfig","remoteControlConfig","viPlayerConfig","prebidConfig"].map((i=>this.v[i]=(0,c.CB)(this.v[i],t.mobile[i])))}dispose(){this.disposed||(n.forEach((t=>this.off(t))),this.player&&this.player.closePlayer.call(this.player,"close-api"),this.disposed=!0)}loadPublisherConfigs(t,i,e){var s;const n=this.getRelevantJsBase(null===(s=this.v.tagConfig)||void 0===s?void 0:s.ObWidgetId),o=n+"/publishers/"+(e?e+"_":"")+t+".js",r=n+"/publishers/"+(e?e+"_":"")+t+"_"+i.replace(/^(www\.)/,"")+".js";return(0,L.V)(o,document,this.v.env.adUnitId).then(void 0,(()=>{(0,f.j)("WARNING",{error_msg:"Failed to load "+o},this.v)})).then((()=>(0,L.V)(r,document,this.v.env.adUnitId))).then(void 0,(()=>{(0,f.j)("WARNING",{error_msg:"Failed to load "+r},this.v)}))}initUnit(){let t=!1;if(this.v.tagConfig.AllowMultipleInstances||(y.Y.dispatchEvent("vi-stories-unit-event",{action:"stopMultipleInstances",v:this.v}),this.disposed&&(this.handleError(a.p.init),t=!0)),"always"===this.v.tagConfig.StopCondition&&(this.handleError(a.p.stopCondition+": always"),t=!0),this.v.tagConfig.StopCondition&&this.v.tagConfig.CustomParams){const i=(0,c.Nk)(this.v.tagConfig.CustomParams,this.v);for(let e in i)if(i.hasOwnProperty(e)&&-1!==this.v.tagConfig.StopCondition.indexOf(e)&&i[e]&&((0,c.kJ)(i[e])&&i[e].length>0||!(0,c.kJ)(i[e]))){this.handleError(a.p.stopCondition+": "+e+" / "+i[e]),t=!0;break}}if(this.v.tagConfig.KeywordStop){const i=(0,c.ZB)(this.v.tagConfig.KeywordStop);for(let e in i)if(i.hasOwnProperty(e)&&"1"===i[e]){this.handleError(a.p.stopCondition+": KeywordStop / "+e),t=!0;break}}if(t)return void(this.v.env.fif&&window.frameElement&&setTimeout((()=>{window.frameElement&&window.frameElement.parentElement&&window.frameElement.parentElement.removeChild(window.frameElement)}),1e3));if(!this.v.env.pageUrl&&!this.v.tagConfig.AppPageUrl&&!this.v.tagConfig.AppBundle)return void this.handleError(a.p.noPageUrl);if(!this.v.tagConfig.AdUnitType)return void this.handleError(a.p.noAdUnitType);if(!this.v.tagConfig.ChannelID)return void this.handleError(a.p.noChannelId);if(this.v.tagConfig.ResizeIframe&&window.frameElement&&this.v.env.fif)if(this.v.tagConfig.ResizeIframe.width||this.v.tagConfig.ResizeIframe.maxWidth||this.v.tagConfig.ResizeIframe.minWidth){const t=this.v.tagConfig.ResizeIframe.width||this.v.tagConfig.ResizeIframe.maxWidth&&Math.min(this.v.tagConfig.ResizeIframe.maxWidth,window.top.document.body.clientWidth-30)||this.v.tagConfig.ResizeIframe.minWidth&&Math.max(this.v.tagConfig.ResizeIframe.minWidth,window.top.document.body.clientWidth-30);window.frameElement.style.width=t+"px",window.frameElement.style.height=(this.v.tagConfig.ResizeIframe.height||t/(this.v.tagConfig.ResizeIframe.ratio||1.25))+"px"}else this.v.tagConfig.ResizeIframe.height&&(window.frameElement.style.height=this.v.tagConfig.ResizeIframe.height+"px");if(this.v.env.fif&&window.frameElement&&!this.v.env.amp&&this.v.tagConfig.JumpOutOfIframe){var i,s;null!==(i=window.top[e])&&void 0!==i&&i.run?(this.dispose(),y.Y.dispatchEvent("vi-stories-unit-event",{action:"close",v:this.v})):delete window.top[e];const t=(0,c.l7)({},this.v.tagConfig);["remoteControlConfig","viPlayerConfig","prebidConfig"].map((i=>t[i]=(0,c.l7)({},this.v[i])));const n=this.getRelevantJsBase(null===(s=this.v.tagConfig)||void 0===s?void 0:s.ObWidgetId),o="".concat(n,"/source.m.js"),r=window.parent.document.createElement("script");return r.id="vi-"+this.v.tagConfig.PublisherID,r.src=o,r.async=!0,r.onload=()=>{window.top[e].run(t,null,o,!0)},window.frameElement.parentNode.appendChild(r),window.frameElement.parentNode.style.width=window.frameElement.clientWidth+"px",window.frameElement.style.width="0px",void(window.frameElement.style.height="0px")}if(!this.v.env.amp&&this.v.env.fif||(this.v.tagConfig.Float=!1,this.v.tagConfig.LazyLoading=!1,this.v.tagConfig.PlayInFocus=!1),1===this.v.tagConfig.OverlayMode&&(this.v.tagConfig.FixedRatio=null),this.v.tagConfig.FloatSettings.floatFromStart&&(this.v.tagConfig.PlayInView=!1),this.v.tagConfig.ContentClickthrough&&(this.v.tagConfig.ControlBarAutohide=!1),"1"===this.v.tagConfig.AdUnitType.toString()&&(this.v.tagConfig.ClickToPlay=!1,this.v.tagConfig.DelayWaterfallStart=!1,this.v.tagConfig.DisplayAd=null,this.v.tagConfig.DisplayBanner=null,this.v.tagConfig.HideUnit="beforeAd",this.v.tagConfig.OverlayMode=1,this.v.tagConfig.TextAbove="",this.v.tagConfig.NoAds=!1),"3"===this.v.tagConfig.AdUnitType.toString()&&(this.v.tagConfig.AutoStartAds=!1,this.v.tagConfig.ClickToPlay=!1,this.v.tagConfig.DelayWaterfallStart=!1,this.v.tagConfig.DisplayAd=null,this.v.tagConfig.DisplayBanner=null,this.v.tagConfig.OverlayMode=1,this.v.tagConfig.TextAbove="",this.v.tagConfig.NoAds=!1),this.v.tagConfig.HideUnit&&-1!==this.v.tagConfig.HideUnit.indexOf("beforeAdQueued")&&!this.v.tagConfig.AllowImaAdsInHiddenMode&&(this.v.viPlayerConfig.excludeImaBeforeAdQueued=!0),!0===this.v.tagConfig.NoAds&&(this.v.viPlayerConfig.adSources=[]),this.v.tagConfig.PlayerAggressiveness>=1&&this.v.tagConfig.PlayerAggressiveness<=5){const t=l[this.v.tagConfig.PlayerAggressiveness];Object.assign(this.v.viPlayerConfig,t)}if((0,c.Kn)(this.v.tagConfig.AbTesting)){const t=(0,c.l7)({},this.v.tagConfig.AbTesting);let i=!1;if((0,c.kJ)(t.urls)&&t.urls.length>0?-1!==t.urls.indexOf(decodeURIComponent(this.v.env.pageUrl).split(/[?#]/)[0])&&(i=!0):i=!0,i){const i=t.percentages;delete t.percentages,delete t.urls;const e=Object.keys(t);let s;if(e.length>=2){if((0,c.kJ)(i)&&i.length>0)s=(0,c.bu)(e,i);else{s=e[Math.floor(Math.random()*e.length)]}const n=t[s];n&&(n.viPlayerConfig&&(this.v.viPlayerConfig=(0,c.CB)(this.v.viPlayerConfig,n.viPlayerConfig),delete n.viPlayerConfig),this.v.tagConfig=(0,c.CB)(this.v.tagConfig,n),this.v.env.abTestingId=s,this.v.viPlayerConfig.abTestingId=s)}}}if(this.v.tagConfig.ObAbTestList){if((0,c.Kn)(this.v.tagConfig.ObAbTest)){const t=[];Object.keys(this.v.tagConfig.ObAbTest).forEach((i=>{if(-1!==this.v.tagConfig.ObAbTestList.indexOf(i)){const e=this.v.tagConfig.ObAbTest[i];e&&(e.viPlayerConfig&&(this.v.viPlayerConfig=(0,c.CB)(this.v.viPlayerConfig,e.viPlayerConfig),delete e.viPlayerConfig),this.v.tagConfig=(0,c.CB)(this.v.tagConfig,e),t.push(i))}})),t.length>0&&(this.v.env.obAbTestIds=t.join(","),this.v.viPlayerConfig.obAbTestIds=this.v.env.obAbTestIds)}this.v.viPlayerConfig.obAbTestList=this.v.tagConfig.ObAbTestList}if((0,c.hj)(this.v.tagConfig.TimeTrackerInterval)&&(0,c.hj)(this.v.tagConfig.TimeTrackerLimit)&&this.v.tagConfig.TimeTrackerInterval>0){const t=Date.now();(0,f.j)("TIME",{},this.v);const i=setInterval((()=>{Math.round((Date.now()-t)/1e3)<=this.v.tagConfig.TimeTrackerLimit?(0,f.j)("TIME",{},this.v):clearInterval(i)}),1e3*this.v.tagConfig.TimeTrackerInterval)}if(this.v.topDivId=this.v.tagConfig.DivID||"vi-stories-top-div-"+this.v.env.adUnitId,this.v.tagConfig.CustomViCSS){const t=this.v.tagConfig.CustomViCSS.replace(/\[divid\]/gi,this.v.topDivId),i=document.createElement("style");i.id="vi-css-custom",i.type="text/css",i.innerHTML=t;(document.getElementsByTagName("head")[0]||document.appendChild(document.createElement("head"))).appendChild(i)}if(this.v.tagConfig.CustomActions&&(0,c._5)(this.v.tagConfig.CustomActions,this.v),"beforePlayerLoad"===this.v.tagConfig.StopCondition)return void this.handleError(a.p.stopCondition+": beforePlayerLoad");this.viStoriesUi=new _(this.v,this.referenceElem),this.viStoriesUi.addEventListener("vi-stories-close-gui-event",(()=>{this.disposed=!0,y.Y.dispatchEvent("vi-stories-unit-event",{action:"close",v:this.v})}));const n=this.viStoriesUi.size;if(!n)return;if(this.v.viPlayerConfig.width=n.width,this.v.viPlayerConfig.height=n.width/16*9,this.v.tagConfig.CompanionAds&&this.v.tagConfig.CompanionAds.length>0&&__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((t=>{const i=new t.CompanionAd(this.v);this.v.topDiv.parentNode.insertBefore(i.container,this.v.topDiv.nextSibling),i.init()})),this.v.tagConfig.Float&&this.v.tagConfig.FloatLimit&&n.width>0&&(this.v.tagConfig.FloatSize=Math.min(1,Math.max(this.v.tagConfig.FloatSize,this.v.tagConfig.FloatLimit/n.width))),window.ReportingObserver){const t=new window.ReportingObserver(((t,i)=>{t.forEach((t=>{t&&t.body&&"HeavyAdIntervention"===t.body.id&&(0,f.Zv)("ERROR_HAI",{error_msg:encodeURIComponent(a.p.heavyAd+": "+t.body.message)},this.v)}))}),{types:["intervention"],buffered:!0});window.addEventListener("pagehide",(i=>{t.takeRecords().forEach((t=>{t&&t.body&&"HeavyAdIntervention"===t.body.id&&(0,f.Zv)("ERROR_HAI",{error_msg:a.p.heavyAd+": "+t.body.message},this.v)}))})),t.observe()}let o;(0,f.j)("PLACEMENT",{},this.v),(0,f.uf)("p",this.v),this.ready=!0,y.Y.dispatchEvent("vi-stories-unit-event",{action:"ready",v:this.v}),o=this.v.tagConfig.LazyLoading&&this.v.tagConfig.LazyLoadingSettings?new Promise(((t,i)=>{const e=Date.now(),s=this.v.tagConfig.LazyLoadingSettings.offset||null,n=this.v.tagConfig.LazyLoadingSettings.pageLoad||null,o=this.v.tagConfig.LazyLoadingSettings.pageScroll||null,r=this.v.tagConfig.LazyLoadingSettings.timeout||null;let a,l;const d=i=>{i||(i={}),this.v.env.lazyTrigger="inview"===i.type?"offset":"load"===i.type?"pageLoad":"scroll"===i.type?"pageScroll":l?"timeout":"",this.v.env.lazyPaused=Date.now()-e,a&&a.dispose(),window.top.removeEventListener("load",d),window.top.removeEventListener("scroll",d),clearTimeout(l),l=null,t()};s&&(a=new P.Y(this.v.topDiv,{rootMargin:s+" 0px "+s+" 0px",intersectionThreshold:0,observationThreshold:0}),a.addEventListener(P.Y.Events.inview,d)),n&&window.top.addEventListener("load",d),o&&window.top.addEventListener("scroll",d),r&&(l=setTimeout(d,1e3*r)),s||n||o||r||d()})):Promise.resolve(),o.finally((()=>{const t="playerVI"===this.v.tagConfig.Player?d.m.playerVIm:"playerVItest"===this.v.tagConfig.Player?d.m.playerVItestm:d.m[this.v.tagConfig.Player];(0,L.V)(t).then((()=>{(0,c.cK)((()=>{"1"===this.v.tagConfig.AdUnitType.toString()||"3"===this.v.tagConfig.AdUnitType.toString()?this.v.tagConfig.UseContextualApi?this.callContextualApi():this.startUnit():this.callVideoApi()}),this.v.tagConfig.RafWrapperEnabled)}),(()=>{this.handleError("Failed to load "+t)}))}))}getVideoApiUrl(){return this.v.tagConfig.VideoApiUrl||(this.v.tagConfig.osTrackingEnabled?d.m.videoApiT:d.m.videoApi)}callContextualApi(){const t=(0,c.oC)(this.v.env);let i="".concat(this.getVideoApiUrl(),"outstream?url=").concat(t),e={session_id:this.v.env.sessionId,publisherId:this.v.tagConfig.PublisherID,pageLanguage:this.v.env.pageLanguage};e.isCanonicalUrl=t===this.v.env.canonicalUrl||void 0;for(let t in e)e.hasOwnProperty(t)&&""!==e[t]&&null!==e[t]&&void 0!==e[t]&&(i+="&"+t+"="+encodeURIComponent(e[t]));(0,L.B)("GET",i).then((t=>{this.v.video[this.v.videoIdx].matchedCategoryCode=t.categories,this.v.video[this.v.videoIdx].targetingCategoryCode=t.categories,this.v.video[this.v.videoIdx].segments=t.segments,this.v.video[this.v.videoIdx].brandSafety=t.brandSafety,this.startUnit()}),(t=>{this.startUnit()}))}callVideoApi(){const t=this.v.tagConfig.PlayerSuggestionOverlay?15:this.v.tagConfig.PlaylistMode>0?this.v.tagConfig.PlaylistLength:1,i=this.v.tagConfig.VideoApiUrl?this.v.tagConfig.VideoApiUrl+"playlist/v2":this.getVideoApiUrl()+"playlist",e=(0,c.oC)(this.v.env);let s="".concat(i,"?url=").concat(e),n={session_id:this.v.env.sessionId,category:this.v.tagConfig.IAB_Category,publisherId:this.v.tagConfig.PublisherID,keywords:this.v.tagConfig.Keywords,language:this.v.tagConfig.Language,useAllCategories:this.v.tagConfig.UseAllCategories,useOnlyCategories:this.v.tagConfig.UseOnlyCategories,userCategories:this.v.tagConfig.UserCategories,appBundle:this.v.tagConfig.AppBundle,appPageUrl:this.v.tagConfig.AppPageUrl,pageTitle:this.v.tagConfig.AppPageTitle||(0,c.UM)("title"),pageDescription:(0,c.UM)("description"),pageLanguage:this.v.env.pageLanguage,mobile:this.v.env.mobile,playlistLength:t,obPublisherId:this.v.tagConfig.ExtPublisherID,obWidgetId:this.v.tagConfig.ObWidgetId};this.v.tagConfig.IncludeVideoKeywords&&(n.includeVideoKeywords=this.v.tagConfig.IncludeVideoKeywords),this.v.tagConfig.SendPageKeywords&&(n.pageKeywords=(0,c.UM)("keywords")),this.v.tagConfig.ExactCategoriesOnly&&(n.exactCategoriesOnly=!0),n.isCanonicalUrl=e===this.v.env.canonicalUrl||void 0;const o=(window.frameElement&&this.v.env.fif&&window.top.document||window.document).getElementById("vi-stories-data"),r=o&&o.getAttribute("data-video-ids");r&&(n.videoIds=r),this.v.tagConfig.VideoIds&&(n.videoIds=this.v.tagConfig.VideoIds);const l=(0,c.mn)(decodeURIComponent(this.v.env.pageUrl),"viStoriesId");l&&(n.videoIds=l),n=(0,c.l7)(n,(0,c.Nk)(this.v.tagConfig.CustomMetaParams,this.v));for(let t in n)n.hasOwnProperty(t)&&""!==n[t]&&null!==n[t]&&void 0!==n[t]&&(s+="&"+t+"="+encodeURIComponent(n[t]));return this.v.tagConfig.DemoVideos?(this.v.video=this.v.tagConfig.DemoVideos,this.v.state.defaultVideo=!1,void this.startUnit()):this.v.tagConfig.VideoUrl&&this.v.tagConfig.TitleText&&this.v.tagConfig.ThumbnailUrl?(this.v.video[this.v.videoIdx].url=this.v.tagConfig.VideoUrl,this.v.video[this.v.videoIdx].title=this.v.tagConfig.TitleText,this.v.video[this.v.videoIdx].thumbnail=this.v.tagConfig.ThumbnailUrl,this.v.state.defaultVideo=!1,void this.startUnit()):void(0,L.B)("GET",s).then((t=>{if(t.error)this.handleError(a.p.stopCondition+": "+t.error.code+" / "+t.error.message),this.v.env.fif&&window.frameElement&&setTimeout(this.viStoriesUi.dispose,1e3);else{let i=(0,c.kJ)(t.videos)?t.videos:[t];this.v.tagConfig.PlaylistRandomOrder&&(i=(0,c.Sy)(i)),this.v.env.isEU=t.isEU,i.length>0?(this.v.video=i.map((i=>({id:i.id,sourceId:i.sourceId,feedId:i.feedId,url:i.url,title:i.title,thumbnail:i.thumbnailImageUrl,duration:i.duration,description:i.description,language:i.language,keywords:i.keywords,licenseInfo:i.licenseInfo,adParameter:i.adParameter,contentCost:i.contentCost,matchedCategoryCode:i.matchedCategoryCode,matchedCategoryName:i.matchedCategoryName,targetingCategoryCode:i.targetingCategoryCode,targetingCategoryName:i.targetingCategoryName,videoSegments:i.videoSegments,gsSegments:i.gsSegments,requestedCategories:t.requestedCategories,segments:t.segments,brandSafety:t.brandSafety,analyzed:t.analyzed}))),this.v.state.defaultVideo=!1,this.startUnit()):(t.requestedCategories&&(this.v.video[this.v.videoIdx].requestedCategories=t.requestedCategories),t.segments&&(this.v.video[this.v.videoIdx].segments=t.segments),t.brandSafety&&(this.v.video[this.v.videoIdx].brandSafety=t.brandSafety),t.analyzed&&(this.v.video[this.v.videoIdx].analyzed=t.analyzed),(0,f.j)("WARNING",{error_msg:a.p.noVideos},this.v),this.getDefaultVideo())}}),(t=>{(0,f.j)("WARNING",{error_msg:"Failed to load "+s},this.v),this.getDefaultVideo()}))}getDefaultVideo(){this.v.tagConfig.DefaultVideo?(this.v.video[this.v.videoIdx].id=this.v.tagConfig.DefaultVideo.id,this.v.video[this.v.videoIdx].sourceId=this.v.tagConfig.DefaultVideo.sourceId,this.v.video[this.v.videoIdx].feedId=this.v.tagConfig.DefaultVideo.feedId,this.v.video[this.v.videoIdx].url=this.v.tagConfig.DefaultVideo.url,this.v.video[this.v.videoIdx].title=this.v.tagConfig.DefaultVideo.title,this.v.video[this.v.videoIdx].thumbnail=this.v.tagConfig.DefaultVideo.thumbnail,this.v.video[this.v.videoIdx].duration=this.v.tagConfig.DefaultVideo.duration,this.v.video[this.v.videoIdx].description=this.v.tagConfig.DefaultVideo.description,this.v.video[this.v.videoIdx].language=this.v.tagConfig.DefaultVideo.language,this.v.video[this.v.videoIdx].adParameter=this.v.tagConfig.DefaultVideo.adParameter,this.v.state.defaultVideo=!0,this.startUnit()):(0,L.B)("GET","https://s.vi-serve.com/defaultVideo.json").then((t=>{const i=t[(0,c.$G)(this.v.tagConfig.Language)]||t.default,e=i[this.v.tagConfig.IAB_Category]||i.default;e.id&&(this.v.video[this.v.videoIdx].id=e.id),e.sourceId&&(this.v.video[this.v.videoIdx].sourceId=e.sourceId),e.feedId&&(this.v.video[this.v.videoIdx].feedId=e.feedId),e.url&&(this.v.video[this.v.videoIdx].url=e.url),e.title&&(this.v.video[this.v.videoIdx].title=e.title),e.thumbnail&&(this.v.video[this.v.videoIdx].thumbnail=e.thumbnail),e.duration&&(this.v.video[this.v.videoIdx].duration=e.duration),e.description&&(this.v.video[this.v.videoIdx].description=e.description),this.v.state.defaultVideo=!0,this.startUnit()}),(t=>{(0,f.j)("WARNING",{error_msg:"Failed to load https://s.vi-serve.com/defaultVideo.json"},this.v),this.v.state.defaultVideo=!0,this.startUnit()}))}handleError(t){this.error=t,(0,f.j)("ERROR",{error_msg:t},this.v),this.ready?this.viStoriesUi.dispatchEvent("error",{message:t}):y.Y.dispatchEvent("vi-stories-unit-event",{action:"error",v:this.v,message:t})}startUnit(){if("1"===this.v.tagConfig.AdUnitType.toString()||"3"===this.v.tagConfig.AdUnitType.toString())this.v.video[this.v.videoIdx].url="",this.v.video[this.v.videoIdx].thumbnail="";else{const t={requestedCategories:this.v.video[this.v.videoIdx].requestedCategories||"",requestedLanguage:encodeURIComponent(this.v.tagConfig.Language)};(0,f.j)("NV_LOADED",t,this.v)}Promise.all([(0,f.YH)(this.v),(0,f.qA)(this.v)]).then((t=>{const i=(0,c.l7)(t[0],t[1]);i&&i.gdpr&&i.gdpr.extra&&(0,f.j)("INFO",i.gdpr.extra,this.v),this.v.remoteControlConfig.Enable&&this.v.env.fif&&!this.v.env.amp&&(y.Y.dispatchEvent("vi-stories-unit-event",{action:"launchRemoteControl",v:this.v}),this.v.remoteControlConfig.OpenAnim&&(this.v.viPlayerConfig.openAnim=!0)),(0,c.cK)((()=>{this.player=new k(this.v,i,this.viStoriesUi.playerContainer),(0,c.cK)((()=>{"missingImpressionListener"!==this.v.tagConfig.BlockWaterfallCondition||this.viStoriesUi.hasEventListener("ad_imp")||(this.player.canRunWaterfall=!1);const t=this.player.init();this.viStoriesUi.player=this.player,t&&(0,c.cK)((()=>{this.viStoriesUi.render(),this.player.start()}),this.v.tagConfig.RafWrapperEnabled)}),this.v.tagConfig.RafWrapperEnabled)}),this.v.tagConfig.RafWrapperEnabled)}))}getProperty(t){var i,e,s,n,o,r,a,l,d,h,v,c;switch(t){case"currentVideoType":return this.v.state.currentVideoType;case"duration":return null===(i=this.player)||void 0===i?void 0:i.duration;case"currentTime":return null===(e=this.player)||void 0===e?void 0:e.currentTime;case"remainingTime":return null===(s=this.player)||void 0===s?void 0:s.remainingTime;case"dimensions":return{width:null===(n=this.player)||void 0===n||null===(o=n.playerContainer)||void 0===o?void 0:o.offsetWidth,height:null===(r=this.player)||void 0===r||null===(a=r.playerContainer)||void 0===a?void 0:a.offsetHeight};case"isAdReady":return null===(l=this.player)||void 0===l?void 0:l.readyAd;case"isPaused":return this.v.state.playerIsPaused;case"isMuted":return this.v.state.playerIsMuted;case"extraAdData":return null===(d=this.player)||void 0===d||null===(h=d.adEngine)||void 0===h||null===(v=h.adPlayer)||void 0===v?void 0:v.extraAdData;case"mediaFileSize":return null===(c=this.player)||void 0===c?void 0:c.mediaFileSize;default:return}}perform(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),s=1;s<i;s++)e[s-1]=arguments[s];"play"===t&&this.player?(this.player.tryShowUnit(!0),this.player.play()):"resume"===t&&this.player?this.player.play():"pause"===t&&this.player?this.player.pause():"inview"===t&&this.player?(this.player.tryShowUnit(),this.player.tryStartAd()):"skipad"===t&&this.player?this.player.skipAd():"startad"===t&&this.player?this.player.playAdCF():"hide"===t&&this.viStoriesUi?this.viStoriesUi.hide():"show"===t&&this.viStoriesUi?this.viStoriesUi.show():"resize"===t&&this.viStoriesUi&&this.player?(this.viStoriesUi.resize(...e),this.player.resize(...e)):"float"===t&&this.player&&(this.player.canFloatNow=e[0])}on(t,i,e){-1!==n.indexOf(t)&&this.viStoriesUi&&("ad_imp"===t&&"missingImpressionListener"===this.v.tagConfig.BlockWaterfallCondition&&this.player&&(this.player.canRunWaterfall=!0),this.viStoriesUi.hasEventListener(t,i,e)||this.viStoriesUi.addEventListener(t,i,e),"player_loaded"===t&&this.viStoriesUi.dispatchEvent("player_loaded"))}off(t,i,e){var s;if(!t||-1!==n.indexOf(t))if(t&&i)null===(s=this.viStoriesUi)||void 0===s||s.removeEventListener(t,i,e);else if(t){var o;null===(o=this.viStoriesUi)||void 0===o||o.removeAllListeners(t)}else{var r;null===(r=this.viStoriesUi)||void 0===r||r.removeAllListeners()}}getRelevantJsBase(t){return t?"https://libs.outbrain.com/s-vi-serve/current":"https://s.vi-serve.com"}}var K=__webpack_require__(773);window[e]||(window[e]=window.vi={topWin:null,viUnit:null,publisherConfig:function(t,i){const s=this.topWin&&this.topWin[e],n=s&&s.viHub&&s.viHub.viUnits||[],o=i&&i.env.adUnitId||document.currentScript&&document.currentScript.className;n.forEach((i=>{o&&parseInt(o,10)===i.v.env.adUnitId?i.publisherConfig(t):o||i.publisherConfig(t)}))},run:function(i,n,o,r){var a,l;const d=JSON.parse(JSON.stringify(t));d.sessionId=null!=i&&i.ObSessionId?null==i?void 0:i.ObSessionId:(0,c.Dy)(),d.mobile=(0,c.tq)(),i.GdprConsent&&(d.consent=i.GdprConsent);const h=(0,c.ul)();h&&h.data&&(h.data.viTitle&&(document.title=h.data.viTitle),h.data.viPageLanguage&&(document.documentElement.lang=h.data.viPageLanguage));const v=(0,c.M4)(i.ObPageUrl);for(let t in v)v.hasOwnProperty(t)&&0!==v[t]&&""!==v[t]&&null!==v[t]&&void 0!==v[t]&&(d[t]=v[t]);!d.pageDomain&&i.AppBundle&&(d.pageDomain=i.AppBundle),this.topWin=d.fif&&!d.amp&&window.top||window,null!==(a=i.ObTimeZero)&&void 0!==a||(i.ObTimeZero=(null===(l=this.topWin.performance)||void 0===l?void 0:l.now)&&this.topWin.performance.now()||0);const g=this.topWin[e]||(this.topWin[e]={});g.viHub||(g.viHub={lastId:0,floatId:0,viUnits:[]}),d.adUnitId=++g.viHub.lastId,this.viUnit=new J(i,n,o,r,d);const p=g.viHub;function u(){try{const t=window[s];for(;t.length>0;){const i=t.shift();"function"==typeof i&&i()}}catch(t){}}p.viUnits.push(this.viUnit),y.Y.hasEventListener("vi-stories-rc-event")||y.Y.addEventListener("vi-stories-rc-event",(t=>{p.viUnits.forEach((i=>{"inview"===t.data.action?(i.v.state.remoteControlInViewOnce=!0,i.perform(t.data.action)):t.data.adUnitId===i.v.env.adUnitId&&i.perform(t.data.action)}))})),y.Y.hasEventListener("vi-stories-unit-event")||y.Y.addEventListener("vi-stories-unit-event",(t=>{"launchRemoteControl"===t.data.action?__webpack_require__.e("gui").then(__webpack_require__.bind(__webpack_require__,640)).then((t=>t.default)).then((i=>{if(!p.remoteControl){const e=document.createElement("style");e.id="vi-css-rc",e.type="text/css";try{e.innerHTML=K}catch(t){}this.topWin.document.head.appendChild(e),p.remoteControl=new i.RemoteControl(t.data.v)}})):"float"===t.data.action?(p.floatId=t.data.info?t.data.v.env.adUnitId:0,p.viUnits.length>1&&p.viUnits.forEach((i=>{t.data.v.env.adUnitId!==i.v.env.adUnitId&&i.perform(t.data.action,!t.data.info)}))):"close"===t.data.action?(p.viUnits.reduceRight(((i,e,s,n)=>{t.data.v.env.adUnitId===e.v.env.adUnitId&&n.splice(s,1)}),[]),this.viUnit&&this.viUnit.v.env.adUnitId===t.data.v.env.adUnitId&&(this.viUnit=null),0===p.viUnits.length&&p.remoteControl&&p.remoteControl.perform(t.data.action,t.data.v)):"stopMultipleInstances"===t.data.action?p.viUnits.length>1&&p.viUnits[0].v.env.adUnitId!==t.data.v.env.adUnitId&&(p.viUnits.reduceRight(((i,e,s,n)=>{t.data.v.env.adUnitId===e.v.env.adUnitId&&(n.splice(s,1),e.dispose())}),[]),this.viUnit&&this.viUnit.v.env.adUnitId===t.data.v.env.adUnitId&&(this.viUnit=null)):p.remoteControl&&p.remoteControl.perform(t.data.action,t.data.v,t.data.info)})),g.closeAll=()=>{p.viUnits.reduceRight(((t,i)=>{i.dispose()}),[])},g.getUnit=(t,i)=>t&&void 0!==i?"id"===t?g.viHub.viUnits.find((t=>{var e,s;return parseInt(i,10)===(null===(e=t.v)||void 0===e||null===(s=e.env)||void 0===s?void 0:s.adUnitId)?t:null})):"divid"===t?g.viHub.viUnits.find((t=>{var e;return String(i)===(null===(e=t.v)||void 0===e?void 0:e.topDivId)?t:null})):"publisherid"===t?g.viHub.viUnits.find((t=>{var e,s;return String(i)===(null===(e=t.v)||void 0===e||null===(s=e.tagConfig)||void 0===s?void 0:s.PublisherID)?t:null})):"obwidgetid"===t?g.viHub.viUnits.find((t=>{var e,s;return String(i)===(null===(e=t.v)||void 0===e||null===(s=e.tagConfig)||void 0===s?void 0:s.ObWidgetId)?t:null})):"obuniqueplacementid"===t?g.viHub.viUnits.find((t=>{var e,s;return String(i)===(null===(e=t.v)||void 0===e||null===(s=e.tagConfig)||void 0===s?void 0:s.ObUniquePlacementId)?t:null})):null:null,g.getUnitWhenReady=(t,i)=>{if(!t||void 0===i)return Promise.reject();const e=g.getUnit(t,i);return e&&e.ready?Promise.resolve(e):e&&e.error?Promise.reject(e.error):new Promise(((e,s)=>{y.Y.addEventListener("vi-stories-unit-event",(function n(o){if("ready"===o.data.action){if("id"===t&&parseInt(i,10)===o.data.v.env.adUnitId||"divid"===t&&String(i)===o.data.v.topDivId||"publisherid"===t&&String(i)===o.data.v.tagConfig.PublisherID||"obwidgetid"===t&&String(i)===o.data.v.tagConfig.ObWidgetId||"obuniqueplacementid"===t&&String(i)===o.data.v.tagConfig.ObUniquePlacementId){y.Y.removeEventListener("vi-stories-unit-event",n);const o=g.getUnit(t,i);o?e(o):s()}}else"error"===o.data.action&&s(o.data.message)}))}))},window[s]||(window[s]=[]),(0,c.cK)(u,!d.amp),window[s].push=function(){return Array.prototype.push.apply(this,arguments),(0,c.cK)(u,!d.amp),this.length}},close:function(){this.viUnit&&this.viUnit.dispose()}})})()})(); 